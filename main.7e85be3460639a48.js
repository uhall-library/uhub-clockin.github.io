var pI=Object.defineProperty,gI=Object.defineProperties,mI=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,yI=Object.prototype.hasOwnProperty,_I=Object.prototype.propertyIsEnumerable,W0=(Gt,at,H)=>at in Gt?pI(Gt,at,{enumerable:!0,configurable:!0,writable:!0,value:H}):Gt[at]=H,Sr=(Gt,at)=>{for(var H in at||(at={}))yI.call(at,H)&&W0(Gt,H,at[H]);if(H0)for(var H of H0(at))_I.call(at,H)&&W0(Gt,H,at[H]);return Gt},na=(Gt,at)=>gI(Gt,mI(at));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7798:(Gt,at,H)=>{"use strict";H.d(at,{nm:()=>Kr});var u=H(5940),ye=(H(3668),H(3590),H(7713),H(8239)),de=H(1572),he=H(1177),J=H(4213),me=H(3855);const te=new Map,re={activated:!1,tokenObservers:[]},ce={initialized:!1,enabled:!1};function ie(C){return te.get(C)||re}function $e(C,N){te.set(C,N)}function Xe(){return ce}class ke{constructor(N,P,j,ne,ve){if(this.operation=N,this.retryPolicy=P,this.getWaitDuration=j,this.lowerBound=ne,this.upperBound=ve,this.pending=null,this.nextErrorWaitInterval=ne,ne>ve)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(N){var P=this;return(0,ye.Z)(function*(){P.stop();try{P.pending=new J.BH,yield(C=P.getNextRun(N),new Promise(N=>{setTimeout(N,C)})),P.pending.resolve(),yield P.pending.promise,P.pending=new J.BH,yield P.operation(),P.pending.resolve(),yield P.pending.promise,P.process(!0).catch(()=>{})}catch(j){P.retryPolicy(j)?P.process(!1).catch(()=>{}):P.stop()}var C})()}getNextRun(N){if(N)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const P=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),P}}}const Ue=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ve(C){if(!ie(C).activated)throw Ue.create("use-before-activation",{appName:C.name})}function Ae(C,N){return et.apply(this,arguments)}function et(){return(et=(0,ye.Z)(function*({url:C,body:N},P){const j={"Content-Type":"application/json"},ne=P.getImmediate({optional:!0});ne&&(j["X-Firebase-Client"]=ne.getPlatformInfoString());const ve={method:"POST",body:JSON.stringify(N),headers:j};let Pe,Ze;try{Pe=yield fetch(C,ve)}catch(Kt){throw Ue.create("fetch-network-error",{originalErrorMessage:Kt.message})}if(200!==Pe.status)throw Ue.create("fetch-status-error",{httpStatus:Pe.status});try{Ze=yield Pe.json()}catch(Kt){throw Ue.create("fetch-parse-error",{originalErrorMessage:Kt.message})}const We=Ze.ttl.match(/^([\d.]+)(s)$/);if(!We||!We[2]||isNaN(Number(We[1])))throw Ue.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ze.ttl}`});const ht=1e3*Number(We[1]),Lt=Date.now();return{token:Ze.attestationToken,expireTimeMillis:Lt+ht,issuedAtTimeMillis:Lt}})).apply(this,arguments)}function bt(C,N){const{projectId:P,appId:j,apiKey:ne}=C.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${P}/apps/${j}:exchangeDebugToken?key=${ne}`,body:{debug_token:N}}}const ot="firebase-app-check-store";let yt=null;function gt(){return yt||(yt=new Promise((C,N)=>{try{const P=indexedDB.open("firebase-app-check-database",1);P.onsuccess=j=>{C(j.target.result)},P.onerror=j=>{var ne;N(Ue.create("storage-open",{originalErrorMessage:null===(ne=j.target.error)||void 0===ne?void 0:ne.message}))},P.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(ot,{keyPath:"compositeKey"})}}catch(P){N(Ue.create("storage-open",{originalErrorMessage:P.message}))}}),yt)}function un(){return(un=(0,ye.Z)(function*(C,N){const j=(yield gt()).transaction(ot,"readwrite"),ve=j.objectStore(ot).put({compositeKey:C,value:N});return new Promise((Pe,Ze)=>{ve.onsuccess=We=>{Pe()},j.onerror=We=>{var ht;Ze(Ue.create("storage-set",{originalErrorMessage:null===(ht=We.target.error)||void 0===ht?void 0:ht.message}))}})})).apply(this,arguments)}const $n=new me.Yd("@firebase/app-check");function an(C,N){return(0,J.hl)()?function(C,N){return function(C,N){return un.apply(this,arguments)}(function(C){return`${C.options.appId}-${C.name}`}(C),N)}(C,N).catch(P=>{$n.warn(`Failed to write token to IndexedDB. Error: ${P}`)}):Promise.resolve()}function Wn(){return Xe().enabled}function ln(){return gn.apply(this,arguments)}function gn(){return(gn=(0,ye.Z)(function*(){const C=Xe();if(C.enabled&&C.token)return C.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fn={error:"UNKNOWN_ERROR"};function mr(C){return J.US.encodeString(JSON.stringify(C),!1)}function Yn(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,ye.Z)(function*(C,N=!1){const P=C.app;Ve(P);const j=ie(P);let ve,ne=j.token;if(!ne){const We=yield j.cachedTokenPromise;We&&yr(We)&&(ne=We)}if(!N&&ne&&yr(ne))return{token:ne.token};let Ze,Pe=!1;if(Wn()){j.exchangeTokenPromise||(j.exchangeTokenPromise=Ae(bt(P,yield ln()),C.platformLoggerProvider).then(ht=>(j.exchangeTokenPromise=void 0,ht)),Pe=!0);const We=yield j.exchangeTokenPromise;return yield an(P,We),$e(P,Object.assign(Object.assign({},j),{token:We})),{token:We.token}}try{j.exchangeTokenPromise||(j.exchangeTokenPromise=j.provider.getToken().then(We=>(j.exchangeTokenPromise=void 0,We)),Pe=!0),ne=yield j.exchangeTokenPromise}catch(We){"appCheck/throttled"===We.code?$n.warn(We.message):$n.error(We),ve=We}return ne?(Ze={token:ne.token},$e(P,Object.assign(Object.assign({},j),{token:ne})),yield an(P,ne)):Ze=Fr(ve),Pe&&fr(P,Ze),Ze})).apply(this,arguments)}function Yr(C,N){const P=ie(C),j=P.tokenObservers.filter(ne=>ne.next!==N);0===j.length&&P.tokenRefresher&&P.tokenRefresher.isRunning()&&P.tokenRefresher.stop(),$e(C,Object.assign(Object.assign({},P),{tokenObservers:j}))}function ti(C){const{app:N}=C,P=ie(N);let j=P.tokenRefresher;j||(j=function(C){const{app:N}=C;return new ke((0,ye.Z)(function*(){let j;if(j=ie(N).token?yield Yn(C,!0):yield Yn(C),j.error)throw j.error}),()=>!0,()=>{const P=ie(N);if(P.token){let j=P.token.issuedAtTimeMillis+.5*(P.token.expireTimeMillis-P.token.issuedAtTimeMillis)+3e5;return j=Math.min(j,P.token.expireTimeMillis-3e5),Math.max(0,j-Date.now())}return 0},3e4,96e4)}(C),$e(N,Object.assign(Object.assign({},P),{tokenRefresher:j}))),!j.isRunning()&&P.isTokenAutoRefreshEnabled&&j.start()}function fr(C,N){const P=ie(C).tokenObservers;for(const j of P)try{"EXTERNAL"===j.type&&null!=N.error?j.error(N.error):j.next(N)}catch(ne){}}function yr(C){return C.expireTimeMillis-Date.now()>0}function Fr(C){return{token:mr(Fn),error:C}}class Qe{constructor(N,P){this.app=N,this.platformLoggerProvider=P}_delete(){const{tokenObservers:N}=ie(this.app);for(const P of N)Yr(this.app,P.next);return Promise.resolve()}}const Ur="app-check-internal";(0,de._registerComponent)(new he.wA("app-check",C=>function(C,N){return new Qe(C,N)}(C.getProvider("app").getImmediate(),C.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,N,P)=>{C.getProvider(Ur).initialize()})),(0,de._registerComponent)(new he.wA(Ur,C=>function(C){return{getToken:N=>Yn(C,N),addTokenListener:N=>function(C,N,P,j){const{app:ne}=C,ve=ie(ne),Pe={next:P,error:j,type:N};if($e(ne,Object.assign(Object.assign({},ve),{tokenObservers:[...ve.tokenObservers,Pe]})),ve.token&&yr(ve.token)){const Ze=ve.token;Promise.resolve().then(()=>{P({token:Ze.token}),ti(C)}).catch(()=>{})}ve.cachedTokenPromise.then(()=>ti(C))}(C,"INTERNAL",N),removeTokenListener:N=>Yr(C.app,N)}}(C.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)("@firebase/app-check","0.5.3");class Kr{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},3590:(Gt,at,H)=>{"use strict";H.d(at,{Ot:()=>Me,z6:()=>ye,ZF:()=>Re,hX:()=>ie});var u=H(7713),$=H(3668),q=H(5940);class Me{constructor(ke){return ke}}class ye{constructor(){return(0,u.C6)()}}const J=new $.OlP("angularfire2._apps"),me={provide:Me,useFactory:function(De){return De&&1===De.length?De[0]:new Me((0,u.Mq)())},deps:[[new $.FiY,J]]},te={provide:ye,deps:[[new $.FiY,J]]};function re(De){return(ke,Ye)=>{const Et=ke.runOutsideAngular(()=>De(Ye));return new Me(Et)}}let ce=(()=>{class De{constructor(Ye){(0,u.KN)("angularfire",q.q4.full,"core"),(0,u.KN)("angularfire",q.q4.full,"app"),(0,u.KN)("angular",$.q4F.full,Ye.toString())}}return De.\u0275fac=function(Ye){return new(Ye||De)($.LFG($.Lbi))},De.\u0275mod=$.oAB({type:De}),De.\u0275inj=$.cJS({providers:[me,te]}),De})();function ie(De,...ke){return{ngModule:ce,providers:[{provide:J,useFactory:re(De),multi:!0,deps:[$.R0b,$.zs3,q.HU,...ke]}]}}const Re=(0,q.u3)(u.ZF,!0)},7402:(Gt,at,H)=>{"use strict";H.d(at,{zQ:()=>bt,ww:()=>ft,rT:()=>Ae,f7:()=>Ut,L6:()=>Le,_Q:()=>Fe,lh:()=>et,Qv:()=>je,nw:()=>zt});var u=H(3668),$=H(3405),q=H(2411),Me=H(5548),ye=H(1915),de=H(8526),he=H(7575),J=H(1346),me=H(9748),te=H(2108),re=H(5973);class ce extends $.xQ{constructor(ot=Number.POSITIVE_INFINITY,ct=Number.POSITIVE_INFINITY,yt){super(),this.scheduler=yt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ot<1?1:ot,this._windowTime=ct<1?1:ct,ct===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ot){if(!this.isStopped){const ct=this._events;ct.push(ot),ct.length>this._bufferSize&&ct.shift()}super.next(ot)}nextTimeWindow(ot){this.isStopped||(this._events.push(new ie(this._getNow(),ot)),this._trimBufferThenGetEvents()),super.next(ot)}_subscribe(ot){const ct=this._infiniteTimeWindow,yt=ct?this._events:this._trimBufferThenGetEvents(),gt=this.scheduler,pt=yt.length;let _t;if(this.closed)throw new te.N;if(this.isStopped||this.hasError?_t=J.w.EMPTY:(this.observers.push(ot),_t=new re.W(this,ot)),gt&&ot.add(ot=new me.ht(ot,gt)),ct)for(let tn=0;tn<pt&&!ot.closed;tn++)ot.next(yt[tn]);else for(let tn=0;tn<pt&&!ot.closed;tn++)ot.next(yt[tn].value);return this.hasError?ot.error(this.thrownError):this.isStopped&&ot.complete(),_t}_getNow(){return(this.scheduler||he.c).now()}_trimBufferThenGetEvents(){const ot=this._getNow(),ct=this._bufferSize,yt=this._windowTime,gt=this._events,pt=gt.length;let _t=0;for(;_t<pt&&!(ot-gt[_t].time<yt);)_t++;return pt>ct&&(_t=Math.max(_t,pt-ct)),_t>0&&gt.splice(0,_t),gt}}class ie{constructor(ot,ct){this.time=ot,this.value=ct}}function $e(rt,ot,ct){let yt;return yt=rt&&"object"==typeof rt?rt:{bufferSize:rt,windowTime:ot,refCount:!1,scheduler:ct},gt=>gt.lift(function({bufferSize:rt=Number.POSITIVE_INFINITY,windowTime:ot=Number.POSITIVE_INFINITY,refCount:ct,scheduler:yt}){let gt,_t,pt=0,tn=!1,Rn=!1;return function(un){let En;pt++,!gt||tn?(tn=!1,gt=new ce(rt,ot,yt),En=gt.subscribe(this),_t=un.subscribe({next(hr){gt.next(hr)},error(hr){tn=!0,gt.error(hr)},complete(){Rn=!0,_t=void 0,gt.complete()}}),Rn&&(_t=void 0)):En=gt.subscribe(this),this.add(()=>{pt--,En.unsubscribe(),En=void 0,_t&&!Rn&&ct&&0===pt&&(_t.unsubscribe(),_t=void 0,gt=void 0)})}}(yt))}var Te=H(9204);function Re(rt,ot){return ot?(0,Te.w)(()=>rt,ot):(0,Te.w)(()=>rt)}var we=H(8053),Be=H(739),qe=H(2698),De=H(8735),ke=H(5940),Ye=H(7905),Et=H(6019),Ue=H(7798),Tt=H(7892);const je=new u.OlP("angularfire2.auth.use-emulator"),Le=new u.OlP("angularfire2.auth.settings"),Fe=new u.OlP("angularfire2.auth.tenant-id"),Ae=new u.OlP("angularfire2.auth.langugage-code"),et=new u.OlP("angularfire2.auth.use-device-language"),Ut=new u.OlP("angularfire.auth.persistence"),zt=(rt,ot,ct,yt,gt,pt,_t,tn)=>(0,Ye.cc)(`${rt.name}.auth`,"AngularFireAuth",rt.name,()=>{const Rn=ot.runOutsideAngular(()=>rt.auth());if(ct&&Rn.useEmulator(...ct),yt&&(Rn.tenantId=yt),Rn.languageCode=gt,pt&&Rn.useDeviceLanguage(),_t)for(const[wn,un]of Object.entries(_t))Rn.settings[wn]=un;return tn&&Rn.setPersistence(tn),Rn},[ct,yt,gt,pt,_t,tn]);let bt=(()=>{class rt{constructor(ct,yt,gt,pt,_t,tn,Rn,wn,un,En,hr,Cn){const $n=new $.xQ,Ft=(0,q.of)(void 0).pipe((0,me.QV)(_t.outsideAngular),(0,Te.w)(()=>pt.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,2115)))),(0,we.U)(()=>(0,Ye.on)(ct,pt,yt)),(0,we.U)(sr=>zt(sr,pt,tn,wn,un,En,Rn,hr)),$e({bufferSize:1,refCount:!1}));if((0,Et.PM)(gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{Ft.pipe((0,Be.P)()).subscribe();const an=Ft.pipe((0,Te.w)(Wn=>Wn.getRedirectResult().then(ln=>ln,()=>null)),ke.iC,$e({bufferSize:1,refCount:!1})),Ar=Ft.pipe((0,Te.w)(Wn=>new Me.y(ln=>({unsubscribe:pt.runOutsideAngular(()=>Wn.onAuthStateChanged(gn=>ln.next(gn),gn=>ln.error(gn),()=>ln.complete()))})))),Gn=Ft.pipe((0,Te.w)(Wn=>new Me.y(ln=>({unsubscribe:pt.runOutsideAngular(()=>Wn.onIdTokenChanged(gn=>ln.next(gn),gn=>ln.error(gn),()=>ln.complete()))}))));this.authState=an.pipe(Re(Ar),(0,qe.R)(_t.outsideAngular),(0,me.QV)(_t.insideAngular)),this.user=an.pipe(Re(Gn),(0,qe.R)(_t.outsideAngular),(0,me.QV)(_t.insideAngular)),this.idToken=this.user.pipe((0,Te.w)(Wn=>Wn?(0,ye.D)(Wn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Te.w)(Wn=>Wn?(0,ye.D)(Wn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,de.T)(an,$n,this.authState.pipe((0,De.h)(Wn=>!Wn))).pipe((0,we.U)(Wn=>(null==Wn?void 0:Wn.user)?Wn:null),(0,qe.R)(_t.outsideAngular),(0,me.QV)(_t.insideAngular))}return(0,Ye.pX)(this,Ft,pt,{spy:{apply:(sr,an,Ar)=>{(sr.startsWith("signIn")||sr.startsWith("createUser"))&&Ar.then(Gn=>$n.next(Gn))}}})}}return rt.\u0275fac=function(ct){return new(ct||rt)(u.LFG(Ye.Dh),u.LFG(Ye.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ke.HU),u.LFG(je,8),u.LFG(Le,8),u.LFG(Fe,8),u.LFG(Ae,8),u.LFG(et,8),u.LFG(Ut,8),u.LFG(Ue.nm,8))},rt.\u0275prov=u.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"any"}),rt})(),ft=(()=>{class rt{constructor(){Tt.Z.registerVersion("angularfire",ke.q4.full,"auth-compat")}}return rt.\u0275fac=function(ct){return new(ct||rt)},rt.\u0275mod=u.oAB({type:rt}),rt.\u0275inj=u.cJS({providers:[bt]}),rt})()},7905:(Gt,at,H)=>{"use strict";H.d(at,{hO:()=>ie,xv:()=>me,Dh:()=>J,GT:()=>de,cc:()=>$e,on:()=>te,pX:()=>ye});var u=H(3668),$=H(7892),q=H(5940);Gt=H.hmd(Gt);const Me=["ngOnDestroy"],ye=(we,Be,qe,De={})=>new Proxy(we,{get:(ke,Ye)=>qe.runOutsideAngular(()=>{var Et;if(we[Ye])return(null===(Et=null==De?void 0:De.spy)||void 0===Et?void 0:Et.get)&&De.spy.get(Ye,we[Ye]),we[Ye];if(Me.indexOf(Ye)>-1)return()=>{};const Ue=Be.toPromise().then(Tt=>{const Ve=Tt&&Tt[Ye];return"function"==typeof Ve?Ve.bind(Tt):Ve&&Ve.then?Ve.then(je=>qe.run(()=>je)):qe.run(()=>Ve)});return new Proxy(()=>{},{get:(Tt,Ve)=>Ue[Ve],apply:(Tt,Ve,je)=>Ue.then(Le=>{var Fe;const Ae=Le&&Le(...je);return(null===(Fe=null==De?void 0:De.spy)||void 0===Fe?void 0:Fe.apply)&&De.spy.apply(Ye,je,Ae),Ae})})})}),de=(we,Be)=>{Be.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(De=>{Object.defineProperty(we.prototype,De,Object.getOwnPropertyDescriptor(qe.prototype||qe,De))})})};class he{constructor(Be){return Be}}const J=new u.OlP("angularfire2.app.options"),me=new u.OlP("angularfire2.app.name");function te(we,Be,qe){const ke="object"==typeof qe&&qe||{};ke.name=ke.name||"string"==typeof qe&&qe||"[DEFAULT]";const Et=$.Z.apps.filter(Ue=>Ue&&Ue.name===ke.name)[0]||Be.runOutsideAngular(()=>$.Z.initializeApp(we,ke));try{JSON.stringify(we)!==JSON.stringify(Et.options)&&re("error",`${Et.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new he(Et)}const re=(we,...Be)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[we](...Be)},ce={provide:he,useFactory:te,deps:[J,u.R0b,[new u.FiY,me]]};let ie=(()=>{class we{constructor(qe){$.Z.registerVersion("angularfire",q.q4.full,"core"),$.Z.registerVersion("angularfire",q.q4.full,"app-compat"),$.Z.registerVersion("angular",u.q4F.full,qe.toString())}static initializeApp(qe,De){return{ngModule:we,providers:[{provide:J,useValue:qe},{provide:me,useValue:De}]}}}return we.\u0275fac=function(qe){return new(qe||we)(u.LFG(u.Lbi))},we.\u0275mod=u.oAB({type:we}),we.\u0275inj=u.cJS({providers:[ce]}),we})();function $e(we,Be,qe,De,ke){const[,Ye,Et]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===we)||[];if(Ye)return function(we,Be){try{return we.toString()===Be.toString()}catch(qe){return we===Be}}(ke,Et)||(Re("error",`${Be} was already initialized on the ${qe} Firebase App with different settings.${Te?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:ke,was:Et})),Ye;{const Ue=De();return globalThis.\u0275AngularfireInstanceCache.push([we,Ue,ke]),Ue}}const Te=!!Gt.hot,Re=(we,...Be)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[we](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5940:(Gt,at,H)=>{"use strict";H.d(at,{q4:()=>fs,iC:()=>Yo,HU:()=>Qa,vb:()=>Za,JM:()=>Pa,u3:()=>Yl});var u=H(3668),$=H(7713),q=H(8239),Me=H(1572),ye=H(4213),de=H(1177),he=H(3855),J=H(4995);const me="@firebase/installations",ce="w:0.5.5",ie="FIS_v2",Be=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(V){return V instanceof ye.ZR&&V.code.includes("request-failed")}function De({projectId:V}){return`https://firebaseinstallations.googleapis.com/v1/projects/${V}/installations`}function ke(V){return{token:V.token,requestStatus:2,expiresIn:Le(V.expiresIn),creationTime:Date.now()}}function Ye(V,Z){return Et.apply(this,arguments)}function Et(){return(Et=(0,q.Z)(function*(V,Z){const ze=(yield Z.json()).error;return Be.create("request-failed",{requestName:V,serverCode:ze.code,serverMessage:ze.message,serverStatus:ze.status})})).apply(this,arguments)}function Ue({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function Tt(V,{refreshToken:Z}){const pe=Ue(V);return pe.append("Authorization",function(V){return`${ie} ${V}`}(Z)),pe}function Ve(V){return je.apply(this,arguments)}function je(){return(je=(0,q.Z)(function*(V){const Z=yield V();return Z.status>=500&&Z.status<600?V():Z})).apply(this,arguments)}function Le(V){return Number(V.replace("s","000"))}function Ae(V,Z){return et.apply(this,arguments)}function et(){return(et=(0,q.Z)(function*(V,{fid:Z}){const pe=De(V),Rt={method:"POST",headers:Ue(V),body:JSON.stringify({fid:Z,authVersion:ie,appId:V.appId,sdkVersion:ce})},Ht=yield Ve(()=>fetch(pe,Rt));if(Ht.ok){const On=yield Ht.json();return{fid:On.fid||Z,registrationStatus:2,refreshToken:On.refreshToken,authToken:ke(On.authToken)}}throw yield Ye("Create Installation",Ht)})).apply(this,arguments)}function Ut(V){return new Promise(Z=>{setTimeout(Z,V)})}const bt=/^[cdef][\w-]{21}$/;function rt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const pe=function(V){return function(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return bt.test(pe)?pe:""}catch(V){return""}}function ct(V){return`${V.appName}!${V.appId}`}const yt=new Map;function gt(V,Z){const pe=ct(V);tn(pe,Z),function(V,Z){const pe=(!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=V=>{tn(V.data.key,V.data.fid)}),wn);pe&&pe.postMessage({key:V,fid:Z}),0===yt.size&&wn&&(wn.close(),wn=null)}(pe,Z)}function tn(V,Z){const pe=yt.get(V);if(pe)for(const ze of pe)ze(Z)}let wn=null;const $n="firebase-installations-store";let Ft=null;function sr(){return Ft||(Ft=(0,J.openDb)("firebase-installations-database",1,V=>{0===V.oldVersion&&V.createObjectStore($n)})),Ft}function an(V,Z){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,q.Z)(function*(V,Z){const pe=ct(V),mt=(yield sr()).transaction($n,"readwrite"),Rt=mt.objectStore($n),Ht=yield Rt.get(pe);return yield Rt.put(Z,pe),yield mt.complete,(!Ht||Ht.fid!==Z.fid)&&gt(V,Z.fid),Z})).apply(this,arguments)}function Gn(V){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,q.Z)(function*(V){const Z=ct(V),ze=(yield sr()).transaction($n,"readwrite");yield ze.objectStore($n).delete(Z),yield ze.complete})).apply(this,arguments)}function ln(V,Z){return gn.apply(this,arguments)}function gn(){return(gn=(0,q.Z)(function*(V,Z){const pe=ct(V),mt=(yield sr()).transaction($n,"readwrite"),Rt=mt.objectStore($n),Ht=yield Rt.get(pe),On=Z(Ht);return void 0===On?yield Rt.delete(pe):yield Rt.put(On,pe),yield mt.complete,On&&(!Ht||Ht.fid!==On.fid)&&gt(V,On.fid),On})).apply(this,arguments)}function In(V){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,q.Z)(function*(V){let Z;const pe=yield ln(V,ze=>{const mt=mr(ze),Rt=Yn(V,mt);return Z=Rt.registrationPromise,Rt.installationEntry});return""===pe.fid?{installationEntry:yield Z}:{installationEntry:pe,registrationPromise:Z}})).apply(this,arguments)}function mr(V){return fr(V||{fid:rt(),registrationStatus:0})}function Yn(V,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(Be.create("app-offline"))};const pe={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},ze=function(V,Z){return sn.apply(this,arguments)}(V,pe);return{installationEntry:pe,registrationPromise:ze}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:Yr(V)}:{installationEntry:Z}}function sn(){return(sn=(0,q.Z)(function*(V,Z){try{return an(V,yield Ae(V,Z))}catch(pe){throw qe(pe)&&409===pe.customData.serverCode?yield Gn(V):yield an(V,{fid:Z.fid,registrationStatus:0}),pe}})).apply(this,arguments)}function Yr(V){return ti.apply(this,arguments)}function ti(){return(ti=(0,q.Z)(function*(V){let Z=yield _n(V);for(;1===Z.registrationStatus;)yield Ut(100),Z=yield _n(V);if(0===Z.registrationStatus){const{installationEntry:pe,registrationPromise:ze}=yield In(V);return ze||pe}return Z})).apply(this,arguments)}function _n(V){return ln(V,Z=>{if(!Z)throw Be.create("installation-not-found");return fr(Z)})}function fr(V){return function(V){return 1===V.registrationStatus&&V.registrationTime+1e4<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function Fr(V,Z){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,q.Z)(function*({appConfig:V,platformLoggerProvider:Z},pe){const ze=He(V,pe),mt=Tt(V,pe),Rt=Z.getImmediate({optional:!0});Rt&&mt.append("x-firebase-client",Rt.getPlatformInfoString());const On={method:"POST",headers:mt,body:JSON.stringify({installation:{sdkVersion:ce}})},An=yield Ve(()=>fetch(ze,On));if(An.ok)return ke(yield An.json());throw yield Ye("Generate Auth Token",An)})).apply(this,arguments)}function He(V,{fid:Z}){return`${De(V)}/${Z}/authTokens:generate`}function st(V){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,q.Z)(function*(V,Z=!1){let pe;const ze=yield ln(V.appConfig,Rt=>{if(!Ln(Rt))throw Be.create("not-registered");const Ht=Rt.authToken;if(!Z&&ar(Ht))return Rt;if(1===Ht.requestStatus)return pe=dt(V,Z),Rt;{if(!navigator.onLine)throw Be.create("app-offline");const On=Qn(Rt);return pe=Zn(V,On),On}});return pe?yield pe:ze.authToken})).apply(this,arguments)}function dt(V,Z){return on.apply(this,arguments)}function on(){return(on=(0,q.Z)(function*(V,Z){let pe=yield mn(V.appConfig);for(;1===pe.authToken.requestStatus;)yield Ut(100),pe=yield mn(V.appConfig);const ze=pe.authToken;return 0===ze.requestStatus?st(V,Z):ze})).apply(this,arguments)}function mn(V){return ln(V,Z=>{if(!Ln(Z))throw Be.create("not-registered");return function(V){return 1===V.requestStatus&&V.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function Zn(V,Z){return _r.apply(this,arguments)}function _r(){return(_r=(0,q.Z)(function*(V,Z){try{const pe=yield Fr(V,Z),ze=Object.assign(Object.assign({},Z),{authToken:pe});return yield an(V.appConfig,ze),pe}catch(pe){if(!qe(pe)||401!==pe.customData.serverCode&&404!==pe.customData.serverCode){const ze=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield an(V.appConfig,ze)}else yield Gn(V.appConfig);throw pe}})).apply(this,arguments)}function Ln(V){return void 0!==V&&2===V.registrationStatus}function ar(V){return 2===V.requestStatus&&!function(V){const Z=Date.now();return Z<V.creationTime||V.creationTime+V.expiresIn<Z+36e5}(V)}function Qn(V){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:Z})}function tt(){return(tt=(0,q.Z)(function*(V){const Z=V,{installationEntry:pe,registrationPromise:ze}=yield In(Z.appConfig);return ze?ze.catch(console.error):st(Z).catch(console.error),pe.fid})).apply(this,arguments)}function Xt(){return(Xt=(0,q.Z)(function*(V,Z=!1){const pe=V;return yield Bn(pe.appConfig),(yield st(pe,Z)).token})).apply(this,arguments)}function Bn(V){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,q.Z)(function*(V){const{registrationPromise:Z}=yield In(V);Z&&(yield Z)})).apply(this,arguments)}function Ur(V){return Be.create("missing-app-config-values",{valueName:V})}const tr="installations";(0,Me._registerComponent)(new de.wA(tr,V=>{const Z=V.getProvider("app").getImmediate(),pe=function(V){if(!V||!V.options)throw Ur("App Configuration");if(!V.name)throw Ur("App Name");const Z=["projectId","apiKey","appId"];for(const pe of Z)if(!V.options[pe])throw Ur(pe);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(Z);return{app:Z,appConfig:pe,platformLoggerProvider:(0,Me._getProvider)(Z,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Me._registerComponent)(new de.wA("installations-internal",V=>{const Z=V.getProvider("app").getImmediate(),pe=(0,Me._getProvider)(Z,tr).getImmediate();return{getId:()=>function(V){return tt.apply(this,arguments)}(pe),getToken:mt=>function(V){return Xt.apply(this,arguments)}(pe,mt)}},"PRIVATE")),(0,Me.registerVersion)(me,"0.5.5"),(0,Me.registerVersion)(me,"0.5.5","esm2017");const Mn="@firebase/remote-config",vr=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kt{constructor(Z,pe,ze,mt){this.client=Z,this.storage=pe,this.storageCache=ze,this.logger=mt}isCachedDataFresh(Z,pe){if(!pe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-pe,mt=ze<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${mt}.`),mt}fetch(Z){var pe=this;return(0,q.Z)(function*(){const[ze,mt]=yield Promise.all([pe.storage.getLastSuccessfulFetchTimestampMillis(),pe.storage.getLastSuccessfulFetchResponse()]);if(mt&&pe.isCachedDataFresh(Z.cacheMaxAgeMillis,ze))return mt;Z.eTag=mt&&mt.eTag;const Rt=yield pe.client.fetch(Z),Ht=[pe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Rt.status&&Ht.push(pe.storage.setLastSuccessfulFetchResponse(Rt)),yield Promise.all(Ht),Rt})()}}function hn(V=navigator){return V.languages&&V.languages[0]||V.language}class Sn{constructor(Z,pe,ze,mt,Rt,Ht){this.firebaseInstallations=Z,this.sdkVersion=pe,this.namespace=ze,this.projectId=mt,this.apiKey=Rt,this.appId=Ht}fetch(Z){var pe=this;return(0,q.Z)(function*(){const[ze,mt]=yield Promise.all([pe.firebaseInstallations.getId(),pe.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${pe.projectId}/namespaces/${pe.namespace}:fetch?key=${pe.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},An={sdk_version:pe.sdkVersion,app_instance_id:ze,app_instance_id_token:mt,app_id:pe.appId,language_code:hn()},er={method:"POST",headers:On,body:JSON.stringify(An)},ui=fetch(Ht,er),ks=new Promise((Fs,Qs)=>{Z.signal.addEventListener(()=>{const ql=new Error("The operation was aborted.");ql.name="AbortError",Qs(ql)})});let Ki;try{yield Promise.race([ui,ks]),Ki=yield ui}catch(Fs){let Qs="fetch-client-network";throw"AbortError"===Fs.name&&(Qs="fetch-timeout"),vr.create(Qs,{originalErrorMessage:Fs.message})}let Ri=Ki.status;const po=Ki.headers.get("ETag")||void 0;let Gs,Na;if(200===Ki.status){let Fs;try{Fs=yield Ki.json()}catch(Qs){throw vr.create("fetch-client-parse",{originalErrorMessage:Qs.message})}Gs=Fs.entries,Na=Fs.state}if("INSTANCE_STATE_UNSPECIFIED"===Na?Ri=500:"NO_CHANGE"===Na?Ri=304:("NO_TEMPLATE"===Na||"EMPTY_CONFIG"===Na)&&(Gs={}),304!==Ri&&200!==Ri)throw vr.create("fetch-status",{httpStatus:Ri});return{status:Ri,eTag:po,config:Gs}})()}}class si{constructor(Z,pe){this.client=Z,this.storage=pe}fetch(Z){var pe=this;return(0,q.Z)(function*(){const ze=(yield pe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return pe.attemptFetch(Z,ze)})()}attemptFetch(Z,{throttleEndTimeMillis:pe,backoffCount:ze}){var mt=this;return(0,q.Z)(function*(){yield function(V,Z){return new Promise((pe,ze)=>{const mt=Math.max(Z-Date.now(),0),Rt=setTimeout(pe,mt);V.addEventListener(()=>{clearTimeout(Rt),ze(vr.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,pe);try{const Rt=yield mt.client.fetch(Z);return yield mt.storage.deleteThrottleMetadata(),Rt}catch(Rt){if(!function(V){if(!(V instanceof ye.ZR&&V.customData))return!1;const Z=Number(V.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(Rt))throw Rt;const Ht={throttleEndTimeMillis:Date.now()+(0,ye.$s)(ze),backoffCount:ze+1};return yield mt.storage.setThrottleMetadata(Ht),mt.attemptFetch(Z,Ht)}})()}}class as{constructor(Z,pe,ze,mt,Rt){this.app=Z,this._client=pe,this._storageCache=ze,this._storage=mt,this._logger=Rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ys(V,Z){const pe=V.target.error||void 0;return vr.create(Z,{originalErrorMessage:pe&&pe.message})}const ls="app_namespace_store";class us{constructor(Z,pe,ze,mt=function(){return new Promise((V,Z)=>{try{const pe=indexedDB.open("firebase_remote_config",1);pe.onerror=ze=>{Z(Ys(ze,"storage-open"))},pe.onsuccess=ze=>{V(ze.target.result)},pe.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(ls,{keyPath:"compositeKey"})}}catch(pe){Z(vr.create("storage-open",{originalErrorMessage:pe}))}})}()){this.appId=Z,this.appName=pe,this.namespace=ze,this.openDbPromise=mt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var pe=this;return(0,q.Z)(function*(){const ze=yield pe.openDbPromise;return new Promise((mt,Rt)=>{const On=ze.transaction([ls],"readonly").objectStore(ls),An=pe.createCompositeKey(Z);try{const er=On.get(An);er.onerror=ui=>{Rt(Ys(ui,"storage-get"))},er.onsuccess=ui=>{const ks=ui.target.result;mt(ks?ks.value:void 0)}}catch(er){Rt(vr.create("storage-get",{originalErrorMessage:er&&er.message}))}})})()}set(Z,pe){var ze=this;return(0,q.Z)(function*(){const mt=yield ze.openDbPromise;return new Promise((Rt,Ht)=>{const An=mt.transaction([ls],"readwrite").objectStore(ls),er=ze.createCompositeKey(Z);try{const ui=An.put({compositeKey:er,value:pe});ui.onerror=ks=>{Ht(Ys(ks,"storage-set"))},ui.onsuccess=()=>{Rt()}}catch(ui){Ht(vr.create("storage-set",{originalErrorMessage:ui&&ui.message}))}})})()}delete(Z){var pe=this;return(0,q.Z)(function*(){const ze=yield pe.openDbPromise;return new Promise((mt,Rt)=>{const On=ze.transaction([ls],"readwrite").objectStore(ls),An=pe.createCompositeKey(Z);try{const er=On.delete(An);er.onerror=ui=>{Rt(Ys(ui,"storage-delete"))},er.onsuccess=()=>{mt()}}catch(er){Rt(vr.create("storage-delete",{originalErrorMessage:er&&er.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class ms{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,q.Z)(function*(){const pe=Z.storage.getLastFetchStatus(),ze=Z.storage.getLastSuccessfulFetchTimestampMillis(),mt=Z.storage.getActiveConfig(),Rt=yield pe;Rt&&(Z.lastFetchStatus=Rt);const Ht=yield ze;Ht&&(Z.lastSuccessfulFetchTimestampMillis=Ht);const On=yield mt;On&&(Z.activeConfig=On)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function Ui(){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,q.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(V){return!1}})).apply(this,arguments)}(0,Me._registerComponent)(new de.wA("remote-config",function(Z,{instanceIdentifier:pe}){const ze=Z.getProvider("app").getImmediate(),mt=Z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw vr.create("registration-window");if(!(0,ye.hl)())throw vr.create("indexed-db-unavailable");const{projectId:Rt,apiKey:Ht,appId:On}=ze.options;if(!Rt)throw vr.create("registration-project-id");if(!Ht)throw vr.create("registration-api-key");if(!On)throw vr.create("registration-app-id");const An=new us(On,ze.name,pe=pe||"firebase"),er=new ms(An),ui=new he.Yd(Mn);ui.logLevel=he.in.ERROR;const ks=new Sn(mt,Me.SDK_VERSION,pe,Rt,Ht,On),Ki=new si(ks,An),Ri=new Kt(Ki,An,er,ui),po=new as(ze,Ri,er,An,ui);return function(V){const Z=(0,ye.m9)(V);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,Me.registerVersion)(Mn,"0.3.4"),(0,Me.registerVersion)(Mn,"0.3.4","esm2017");const ji="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",Ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hi="google.c.a.c_id",Vs="google.c.a.c_l",Di="google.c.a.ts",bs="google.c.a.e";var Br=(()=>{return(V=Br||(Br={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",Br;var V})();function Ti(V){const Z=new Uint8Array(V);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pi(V){const pe=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ze=atob(pe),mt=new Uint8Array(ze.length);for(let Rt=0;Rt<ze.length;++Rt)mt[Rt]=ze.charCodeAt(Rt);return mt}const di="fcm_token_details_db",Ms="fcm_token_object_Store";function hi(V){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,q.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Rt=>Rt.name).includes(di))return null;let Z=null;return(yield(0,J.openDb)(di,5,function(){var ze=(0,q.Z)(function*(mt){var Rt;if(mt.oldVersion<2||!mt.objectStoreNames.contains(Ms))return;const Ht=mt.transaction.objectStore(Ms),On=yield Ht.index("fcmSenderId").get(V);if(yield Ht.clear(),On)if(2===mt.oldVersion){const An=On;if(!An.auth||!An.p256dh||!An.endpoint)return;Z={token:An.fcmToken,createTime:null!==(Rt=An.createTime)&&void 0!==Rt?Rt:Date.now(),subscriptionOptions:{auth:An.auth,p256dh:An.p256dh,endpoint:An.endpoint,swScope:An.swScope,vapidKey:"string"==typeof An.vapidKey?An.vapidKey:Ti(An.vapidKey)}}}else if(3===mt.oldVersion){const An=On;Z={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:Ti(An.auth),p256dh:Ti(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:Ti(An.vapidKey)}}}else if(4===mt.oldVersion){const An=On;Z={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:Ti(An.auth),p256dh:Ti(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:Ti(An.vapidKey)}}}});return function(mt){return ze.apply(this,arguments)}}())).close(),yield(0,J.deleteDb)(di),yield(0,J.deleteDb)("fcm_vapid_details_db"),yield(0,J.deleteDb)("undefined"),wo(Z)?Z:null}),Ji.apply(this,arguments)}function wo(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:Z}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const jr="firebase-messaging-store";let Wi=null;function es(){return Wi||(Wi=(0,J.openDb)("firebase-messaging-database",1,V=>{0===V.oldVersion&&V.createObjectStore(jr)})),Wi}function G(V){return le.apply(this,arguments)}function le(){return(le=(0,q.Z)(function*(V){const Z=M(V),ze=yield(yield es()).transaction(jr).objectStore(jr).get(Z);if(ze)return ze;{const mt=yield hi(V.appConfig.senderId);if(mt)return yield Y(V,mt),mt}})).apply(this,arguments)}function Y(V,Z){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,q.Z)(function*(V,Z){const pe=M(V),mt=(yield es()).transaction(jr,"readwrite");return yield mt.objectStore(jr).put(Z,pe),yield mt.complete,Z})).apply(this,arguments)}function Je(V){return F.apply(this,arguments)}function F(){return(F=(0,q.Z)(function*(V){const Z=M(V),ze=(yield es()).transaction(jr,"readwrite");yield ze.objectStore(jr).delete(Z),yield ze.complete})).apply(this,arguments)}function M({appConfig:V}){return V.appId}const se=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ct(V,Z){return nn.apply(this,arguments)}function nn(){return(nn=(0,q.Z)(function*(V,Z){const pe=yield E(V),ze=ge(Z),mt={method:"POST",headers:pe,body:JSON.stringify(ze)};let Rt;try{Rt=yield(yield fetch(z(V.appConfig),mt)).json()}catch(Ht){throw se.create("token-subscribe-failed",{errorInfo:Ht})}if(Rt.error)throw se.create("token-subscribe-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw se.create("token-subscribe-no-token");return Rt.token})).apply(this,arguments)}function Kn(V,Z){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,q.Z)(function*(V,Z){const pe=yield E(V),ze=ge(Z.subscriptionOptions),mt={method:"PATCH",headers:pe,body:JSON.stringify(ze)};let Rt;try{Rt=yield(yield fetch(`${z(V.appConfig)}/${Z.token}`,mt)).json()}catch(Ht){throw se.create("token-update-failed",{errorInfo:Ht})}if(Rt.error)throw se.create("token-update-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw se.create("token-update-no-token");return Rt.token})).apply(this,arguments)}function kr(V,Z){return b.apply(this,arguments)}function b(){return(b=(0,q.Z)(function*(V,Z){const ze={method:"DELETE",headers:yield E(V)};try{const Rt=yield(yield fetch(`${z(V.appConfig)}/${Z}`,ze)).json();if(Rt.error)throw se.create("token-unsubscribe-failed",{errorInfo:Rt.error.message})}catch(mt){throw se.create("token-unsubscribe-failed",{errorInfo:mt})}})).apply(this,arguments)}function z({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function E(V){return K.apply(this,arguments)}function K(){return(K=(0,q.Z)(function*({appConfig:V,installations:Z}){const pe=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${pe}`})})).apply(this,arguments)}function ge({p256dh:V,auth:Z,endpoint:pe,vapidKey:ze}){const mt={web:{endpoint:pe,auth:Z,p256dh:V}};return ze!==Ci&&(mt.web.applicationPubKey=ze),mt}const Nt=6048e5;function dn(V){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,q.Z)(function*(V){const Z=yield Os(V.swRegistration,V.vapidKey),pe={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:Z.endpoint,auth:Ti(Z.getKey("auth")),p256dh:Ti(Z.getKey("p256dh"))},ze=yield G(V.firebaseDependencies);if(ze){if(no(ze.subscriptionOptions,pe))return Date.now()>=ze.createTime+Nt?Hn(V,{token:ze.token,createTime:Date.now(),subscriptionOptions:pe}):ze.token;try{yield kr(V.firebaseDependencies,ze.token)}catch(mt){console.warn(mt)}return Jn(V.firebaseDependencies,pe)}return Jn(V.firebaseDependencies,pe)})).apply(this,arguments)}function br(V){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,q.Z)(function*(V){const Z=yield G(V.firebaseDependencies);Z&&(yield kr(V.firebaseDependencies,Z.token),yield Je(V.firebaseDependencies));const pe=yield V.swRegistration.pushManager.getSubscription();return!pe||pe.unsubscribe()})).apply(this,arguments)}function Hn(V,Z){return mi.apply(this,arguments)}function mi(){return(mi=(0,q.Z)(function*(V,Z){try{const pe=yield Kn(V.firebaseDependencies,Z),ze=Object.assign(Object.assign({},Z),{token:pe,createTime:Date.now()});return yield Y(V.firebaseDependencies,ze),pe}catch(pe){throw yield br(V),pe}})).apply(this,arguments)}function Jn(V,Z){return cs.apply(this,arguments)}function cs(){return(cs=(0,q.Z)(function*(V,Z){const ze={token:yield Ct(V,Z),createTime:Date.now(),subscriptionOptions:Z};return yield Y(V,ze),ze.token})).apply(this,arguments)}function Os(V,Z){return Si.apply(this,arguments)}function Si(){return(Si=(0,q.Z)(function*(V,Z){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pi(Z)})})).apply(this,arguments)}function no(V,Z){return Z.vapidKey===V.vapidKey&&Z.endpoint===V.endpoint&&Z.auth===V.auth&&Z.p256dh===V.p256dh}function ra(V){const Z={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function(V,Z){if(!Z.notification)return;V.notification={};const pe=Z.notification.title;pe&&(V.notification.title=pe);const ze=Z.notification.body;ze&&(V.notification.body=ze);const mt=Z.notification.image;mt&&(V.notification.image=mt)}(Z,V),function(V,Z){!Z.data||(V.data=Z.data)}(Z,V),function(V,Z){if(!Z.fcmOptions)return;V.fcmOptions={};const pe=Z.fcmOptions.link;pe&&(V.fcmOptions.link=pe);const ze=Z.fcmOptions.analytics_label;ze&&(V.fcmOptions.analyticsLabel=ze)}(Z,V),Z}function ro(V){return"object"==typeof V&&!!V&&Hi in V}function ts(V,Z){const pe=[];for(let ze=0;ze<V.length;ze++)pe.push(V.charAt(ze)),ze<Z.length&&pe.push(Z.charAt(ze));return pe.join("")}function qs(V){return se.create("missing-app-config-values",{valueName:V})}ts("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ts("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jo{constructor(Z,pe,ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const mt=function(V){if(!V||!V.options)throw qs("App Configuration Object");if(!V.name)throw qs("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:pe}=V;for(const ze of Z)if(!pe[ze])throw qs(ze);return{appName:V.name,projectId:pe.projectId,apiKey:pe.apiKey,appId:pe.appId,senderId:pe.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:mt,installations:pe,analyticsProvider:ze}}_delete(){return Promise.resolve()}}function $s(V){return ia.apply(this,arguments)}function ia(){return(ia=(0,q.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(ji,{scope:ys}),V.swRegistration.update().catch(()=>{})}catch(Z){throw se.create("failed-service-worker-registration",{browserErrorMessage:Z.message})}})).apply(this,arguments)}function ba(V,Z){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,q.Z)(function*(V,Z){if(!Z&&!V.swRegistration&&(yield $s(V)),Z||!V.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw se.create("invalid-sw-registration");V.swRegistration=Z}})).apply(this,arguments)}function wa(V,Z){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,q.Z)(function*(V,Z){Z?V.vapidKey=Z:V.vapidKey||(V.vapidKey=Ci)})).apply(this,arguments)}function Ho(){return(Ho=(0,q.Z)(function*(V,Z){if(!navigator)throw se.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw se.create("permission-blocked");return yield wa(V,null==Z?void 0:Z.vapidKey),yield ba(V,null==Z?void 0:Z.serviceWorkerRegistration),dn(V)})).apply(this,arguments)}function sa(V,Z,pe){return _l.apply(this,arguments)}function _l(){return(_l=(0,q.Z)(function*(V,Z,pe){const ze=Ca(Z);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(ze,{message_id:pe[Hi],message_name:pe[Vs],message_time:pe[Di],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ca(V){switch(V){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oa(){return(oa=(0,q.Z)(function*(V,Z){const pe=Z.data;if(!pe.isFirebaseMessaging)return;V.onMessageHandler&&pe.messageType===Br.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(ra(pe)):V.onMessageHandler.next(ra(pe)));const ze=pe.data;ro(ze)&&"1"===ze[bs]&&(yield sa(V,pe.messageType,ze))})).apply(this,arguments)}const za="@firebase/messaging";function El(){return ni.apply(this,arguments)}function ni(){return(ni=(0,q.Z)(function*(){try{yield(0,ye.eu)()}catch(V){return!1}return"undefined"!=typeof window&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Me._registerComponent)(new de.wA("messaging",V=>{const Z=new jo(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",pe=>function(V,Z){return oa.apply(this,arguments)}(Z,pe)),Z},"PUBLIC")),(0,Me._registerComponent)(new de.wA("messaging-internal",V=>{const Z=V.getProvider("messaging").getImmediate();return{getToken:ze=>function(V,Z){return Ho.apply(this,arguments)}(Z,ze)}},"PRIVATE")),(0,Me.registerVersion)(za,"0.9.8"),(0,Me.registerVersion)(za,"0.9.8","esm2017");const Us="analytics",so="firebase_id",pu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gl="https://www.googletagmanager.com/gtag/js",yi=new he.Yd("@firebase/analytics");function Io(V){return Promise.all(V.map(Z=>Z.catch(pe=>pe)))}function aa(V,Z){const pe=document.createElement("script");pe.src=`${Gl}?l=${V}&id=${Z}`,pe.async=!0,document.head.appendChild(pe)}function Ai(V,Z,pe,ze,mt,Rt){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,q.Z)(function*(V,Z,pe,ze,mt,Rt){const Ht=ze[mt];try{if(Ht)yield Z[Ht];else{const An=(yield Io(pe)).find(er=>er.measurementId===mt);An&&(yield Z[An.appId])}}catch(On){yi.error(On)}V("config",mt,Rt)})).apply(this,arguments)}function Co(V,Z,pe,ze,mt){return js.apply(this,arguments)}function js(){return(js=(0,q.Z)(function*(V,Z,pe,ze,mt){try{let Rt=[];if(mt&&mt.send_to){let Ht=mt.send_to;Array.isArray(Ht)||(Ht=[Ht]);const On=yield Io(pe);for(const An of Ht){const er=On.find(ks=>ks.measurementId===An),ui=er&&Z[er.appId];if(!ui){Rt=[];break}Rt.push(ui)}}0===Rt.length&&(Rt=Object.values(Z)),yield Promise.all(Rt),V("event",ze,mt||{})}catch(Rt){yi.error(Rt)}})).apply(this,arguments)}function Jt(){const V=window.document.getElementsByTagName("script");for(const Z of Object.values(V))if(Z.src&&Z.src.includes(Gl))return Z;return null}const or=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wr=new class{constructor(Z={},pe=1e3){this.throttleMetadata=Z,this.intervalMillis=pe}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,pe){this.throttleMetadata[Z]=pe}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function en(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function At(V){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,q.Z)(function*(V){var Z;const{appId:pe,apiKey:ze}=V,mt={method:"GET",headers:en(ze)},Rt=pu.replace("{app-id}",pe),Ht=yield fetch(Rt,mt);if(200!==Ht.status&&304!==Ht.status){let On="";try{const An=yield Ht.json();(null===(Z=An.error)||void 0===Z?void 0:Z.message)&&(On=An.error.message)}catch(An){}throw or.create("config-fetch-failed",{httpStatus:Ht.status,responseMessage:On})}return Ht.json()})).apply(this,arguments)}function ki(V){return ai.apply(this,arguments)}function ai(){return(ai=(0,q.Z)(function*(V,Z=Wr,pe){const{appId:ze,apiKey:mt,measurementId:Rt}=V.options;if(!ze)throw or.create("no-app-id");if(!mt){if(Rt)return{measurementId:Rt,appId:ze};throw or.create("no-api-key")}const Ht=Z.getThrottleMetadata(ze)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new qi;return setTimeout((0,q.Z)(function*(){On.abort()}),void 0!==pe?pe:6e4),Nr({appId:ze,apiKey:mt,measurementId:Rt},Ht,On,Z)})).apply(this,arguments)}function Nr(V,Z,pe){return hs.apply(this,arguments)}function hs(){return(hs=(0,q.Z)(function*(V,{throttleEndTimeMillis:Z,backoffCount:pe},ze,mt=Wr){const{appId:Rt,measurementId:Ht}=V;try{yield mu(ze,Z)}catch(On){if(Ht)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:Rt,measurementId:Ht};throw On}try{const On=yield At(V);return mt.deleteThrottleMetadata(Rt),On}catch(On){if(!Kl(On)){if(mt.deleteThrottleMetadata(Rt),Ht)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:Rt,measurementId:Ht};throw On}const An=503===Number(On.customData.httpStatus)?(0,ye.$s)(pe,mt.intervalMillis,30):(0,ye.$s)(pe,mt.intervalMillis),er={throttleEndTimeMillis:Date.now()+An,backoffCount:pe+1};return mt.setThrottleMetadata(Rt,er),yi.debug(`Calling attemptFetch again in ${An} millis`),Nr(V,er,ze,mt)}})).apply(this,arguments)}function mu(V,Z){return new Promise((pe,ze)=>{const mt=Math.max(Z-Date.now(),0),Rt=setTimeout(pe,mt);V.addEventListener(()=>{clearTimeout(Rt),ze(or.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function Kl(V){if(!(V instanceof ye.ZR&&V.customData))return!1;const Z=Number(V.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class qi{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}function Ka(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,q.Z)(function*(){if(!(0,ye.hl)())return yi.warn(or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(V){return yi.warn(or.create("indexeddb-unavailable",{errorInfo:V}).message),!1}return!0})).apply(this,arguments)}function Gi(){return(Gi=(0,q.Z)(function*(V,Z,pe,ze,mt,Rt,Ht){var On;const An=ki(V);An.then(Ri=>{pe[Ri.measurementId]=Ri.appId,V.options.measurementId&&Ri.measurementId!==V.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${Ri.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ri=>yi.error(Ri)),Z.push(An);const er=Ka().then(Ri=>{if(Ri)return ze.getId()}),[ui,ks]=yield Promise.all([An,er]);Jt()||aa(Rt,ui.measurementId),mt("js",new Date);const Ki=null!==(On=null==Ht?void 0:Ht.config)&&void 0!==On?On:{};return Ki.origin="firebase",Ki.update=!0,null!=ks&&(Ki[so]=ks),mt("config",ui.measurementId,Ki),ui.measurementId})).apply(this,arguments)}class Bo{constructor(Z){this.app=Z}_delete(){return delete Hs[this.app.options.appId],Promise.resolve()}}let Hs={},wr=[];const zo={};let T,I,ua="dataLayer",W=!1;function Ie(V,Z,pe){!function(){const V=[];if((0,ye.ru)()&&V.push("This is a browser extension environment."),(0,ye.zI)()||V.push("Cookies are not available."),V.length>0){const Z=V.map((ze,mt)=>`(${mt+1}) ${ze}`).join(" "),pe=or.create("invalid-analytics-context",{errorInfo:Z});yi.warn(pe.message)}}();const ze=V.options.appId;if(!ze)throw or.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw or.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hs[ze])throw or.create("already-exists",{id:ze});if(!W){!function(V){let Z=[];Array.isArray(window[V])?Z=window[V]:window[V]=Z}(ua);const{wrappedGtag:Rt,gtagCore:Ht}=function(V,Z,pe,ze,mt){let Rt=function(...Ht){window[ze].push(arguments)};return window[mt]&&"function"==typeof window[mt]&&(Rt=window[mt]),window[mt]=function(V,Z,pe,ze){function Rt(){return(Rt=(0,q.Z)(function*(Ht,On,An){try{"event"===Ht?yield Co(V,Z,pe,On,An):"config"===Ht?yield Ai(V,Z,pe,ze,On,An):V("set",On)}catch(er){yi.error(er)}})).apply(this,arguments)}return function(Ht,On,An){return Rt.apply(this,arguments)}}(Rt,V,Z,pe),{gtagCore:Rt,wrappedGtag:window[mt]}}(Hs,wr,zo,ua,"gtag");I=Rt,T=Ht,W=!0}return Hs[ze]=function(V,Z,pe,ze,mt,Rt,Ht){return Gi.apply(this,arguments)}(V,wr,zo,Z,T,ua,pe),new Bo(V)}function xt(){return(xt=(0,q.Z)(function*(V,Z,pe,ze,mt){if(mt&&mt.global)V("event",pe,ze);else{const Rt=yield Z;V("event",pe,Object.assign(Object.assign({},ze),{send_to:Rt}))}})).apply(this,arguments)}function li(){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,q.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(V){return!1}})).apply(this,arguments)}const Ya="@firebase/analytics";(0,Me._registerComponent)(new de.wA(Us,(Z,{options:pe})=>Ie(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),pe),"PUBLIC")),(0,Me._registerComponent)(new de.wA("analytics-internal",function(Z){try{const pe=Z.getProvider(Us).getImmediate();return{logEvent:(ze,mt,Rt)=>function(V,Z,pe,ze){V=(0,ye.m9)(V),function(V,Z,pe,ze,mt){return xt.apply(this,arguments)}(I,Hs[V.app.options.appId],Z,pe,ze).catch(mt=>yi.error(mt))}(pe,ze,mt,Rt)}}catch(pe){throw or.create("interop-component-reg-failed",{reason:pe})}},"PRIVATE")),(0,Me.registerVersion)(Ya,"0.7.5"),(0,Me.registerVersion)(Ya,"0.7.5","esm2017");var Li=H(7575),wl=H(8178),oo=H(5548),Il=H(1366),Go=H(2698),xi=H(9748);const fs=new u.GfV("7.2.1"),gr="__angularfire_symbol__analyticsIsSupportedValue",qa="__angularfire_symbol__analyticsIsSupported",zs="__angularfire_symbol__remoteConfigIsSupportedValue",Ma="__angularfire_symbol__remoteConfigIsSupported",Dr="__angularfire_symbol__messagingIsSupportedValue",Oa="__angularfire_symbol__messagingIsSupported";function Pa(V,Z,pe){if(Z){if(1===Z.length)return Z[0];const Rt=Z.filter(Ht=>Ht.app===pe);if(1===Rt.length)return Rt[0]}return pe.container.getProvider(V).getImmediate({optional:!0})}globalThis[qa]||(globalThis[qa]=li().then(V=>globalThis[gr]=V).catch(()=>globalThis[gr]=!1)),globalThis[Oa]||(globalThis[Oa]=El().then(V=>globalThis[Dr]=V).catch(()=>globalThis[Dr]=!1)),globalThis[Ma]||(globalThis[Ma]=Ui().then(V=>globalThis[zs]=V).catch(()=>globalThis[zs]=!1));const Za=(V,Z)=>{const pe=Z?[Z]:(0,$.C6)(),ze=[];return pe.forEach(mt=>{mt.container.getProvider(V).instances.forEach(Ht=>{ze.includes(Ht)||ze.push(Ht)})}),ze};function Cl(){}class Ko{constructor(Z,pe=Li.N){this.zone=Z,this.delegate=pe}now(){return this.delegate.now()}schedule(Z,pe,ze){const mt=this.zone;return this.delegate.schedule(function(Ht){mt.runGuarded(()=>{Z.apply(this,[Ht])})},pe,ze)}}class Dc{constructor(Z){this.zone=Z,this.task=null}call(Z,pe){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl)),pe.pipe((0,Il.b)({next:ze,complete:ze,error:ze})).subscribe(Z).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qa=(()=>{class V{constructor(pe){this.ngZone=pe,this.outsideAngular=pe.runOutsideAngular(()=>new Ko(Zone.current)),this.insideAngular=pe.run(()=>new Ko(Zone.current,wl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(pe){return new(pe||V)(u.LFG(u.R0b))},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Zs(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function rs(V){return Zs().ngZone.runOutsideAngular(()=>V())}function fo(V){return Zs().ngZone.run(()=>V())}function Yo(V){return Zs(),function(V){return function(pe){return(pe=pe.lift(new Dc(V.ngZone))).pipe((0,Go.R)(V.outsideAngular),(0,xi.QV)(V.insideAngular))}}(Zs())(V)}const qo=(V,Z)=>function(){const ze=arguments;return Z&&setTimeout(()=>{"scheduled"===Z.state&&Z.invoke()},10),fo(()=>V.apply(void 0,ze))},Yl=(V,Z)=>function(){let pe;const ze=arguments;for(let Rt=0;Rt<arguments.length;Rt++)"function"==typeof ze[Rt]&&(Z&&(pe||(pe=fo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl)))),ze[Rt]=qo(ze[Rt],pe));const mt=rs(()=>V.apply(this,ze));if(!Z){if(mt instanceof oo.y){const Rt=Zs();return mt.pipe((0,Go.R)(Rt.outsideAngular),(0,xi.QV)(Rt.insideAngular))}return fo(()=>mt)}return mt instanceof oo.y?mt.pipe(Yo):mt instanceof Promise?fo(()=>new Promise((Rt,Ht)=>mt.then(On=>fo(()=>Rt(On)),On=>fo(()=>Ht(On))))):"function"==typeof mt&&pe?function(){return setTimeout(()=>{pe&&"scheduled"===pe.state&&pe.invoke()},10),mt.apply(this,arguments)}:fo(()=>mt)}},8717:(Gt,at,H)=>{"use strict";H.d(at,{$:()=>Nt,A:()=>re,E:()=>jn,G:()=>Vr,I:()=>Er,K:()=>ar,L:()=>Ui,M:()=>Ci,N:()=>Yi,P:()=>Ma,Q:()=>Hi,R:()=>Ya,T:()=>ys,U:()=>_s,V:()=>Br,W:()=>Ms,X:()=>M,Y:()=>se,Z:()=>nn,_:()=>b,a:()=>or,a0:()=>Dn,a1:()=>Mt,a2:()=>mi,a3:()=>cs,a4:()=>Si,a5:()=>ra,a6:()=>fu,a7:()=>Ha,a8:()=>ro,a9:()=>jo,aA:()=>Gs,aB:()=>Z,aC:()=>tr,aG:()=>zn,aJ:()=>Di,aa:()=>ia,ab:()=>Wa,ae:()=>Ho,af:()=>_l,ag:()=>Ca,aj:()=>bi,ak:()=>co,am:()=>Sa,an:()=>gu,ao:()=>fn,ap:()=>Ve,aq:()=>qn,ar:()=>Bn,as:()=>qe,at:()=>ka,au:()=>Dl,av:()=>De,aw:()=>Ue,ax:()=>Le,ay:()=>vn,az:()=>Ja,b:()=>Jt,c:()=>Cl,d:()=>Zs,e:()=>Dc,f:()=>mt,g:()=>ui,h:()=>On,i:()=>Q,j:()=>Ri,k:()=>ei,l:()=>oo,m:()=>Cs,o:()=>J,r:()=>Go,s:()=>Li,u:()=>qa,z:()=>$e});var u=H(8239),$=H(4213),q=H(1572),Me=H(4762),ye=H(3855),de=H(1177);const J={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ye.Yd("@firebase/auth");function Be(A,...m){we.logLevel<=ye.in.ERROR&&we.error(`Auth (${q.SDK_VERSION}): ${A}`,...m)}function qe(A,...m){throw Et(A,...m)}function De(A,...m){return Et(A,...m)}function ke(A,m,v){const k=Object.assign(Object.assign({},Xe()),{[m]:v});return new $.LL("auth","Firebase",k).create(m,{appName:A.name})}function Ye(A,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&qe(A,"argument-error"),ke(A,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(A,...m){if("string"!=typeof A){const v=m[0],k=[...m.slice(1)];return k[0]&&(k[0].appName=A.name),A._errorFactory.create(v,...k)}return Te.create(A,...m)}function Ue(A,m,...v){if(!A)throw Et(m,...v)}function Tt(A){const m="INTERNAL ASSERTION FAILED: "+A;throw Be(m),new Error(m)}function Ve(A,m){A||Tt(m)}const je=new Map;function Le(A){Ve(A instanceof Function,"Expected a class definition");let m=je.get(A);return m?(Ve(m instanceof A,"Instance stored in cache mismatched with class"),m):(m=new A,je.set(A,m),m)}function et(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Ut(){return"http:"===zt()||"https:"===zt()}function zt(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class rt{constructor(m,v){this.shortDelay=m,this.longDelay=v,Ve(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,$.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ot(A,m){Ve(A.emulator,"Emulator should always be set here");const{url:v}=A.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ct{static initialize(m,v,k){this.fetchImpl=m,v&&(this.headersImpl=v),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gt=new rt(3e4,6e4);function pt(A,m){return A.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:A.tenantId}):m}function _t(A,m,v,k){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(A,m,v,k,oe={}){return Rn(A,oe,(0,u.Z)(function*(){let Ce={},Dt={};k&&("GET"===m?Dt=k:Ce={body:JSON.stringify(k)});const Yt=(0,$.xO)(Object.assign({key:A.config.apiKey},Dt)).slice(1),Vn=yield A._getAdditionalHeaders();return Vn["Content-Type"]="application/json",A.languageCode&&(Vn["X-Firebase-Locale"]=A.languageCode),ct.fetch()(hr(A,A.config.apiHost,v,Yt),Object.assign({method:m,headers:Vn,referrerPolicy:"no-referrer"},Ce))}))})).apply(this,arguments)}function Rn(A,m,v){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(A,m,v){A._canInitEmulator=!1;const k=Object.assign(Object.assign({},yt),m);try{const oe=new Cn(A),Ce=yield Promise.race([v(),oe.promise]);oe.clearNetworkTimeout();const Dt=yield Ce.json();if("needConfirmation"in Dt)throw $n(A,"account-exists-with-different-credential",Dt);if(Ce.ok&&!("errorMessage"in Dt))return Dt;{const Yt=Ce.ok?Dt.errorMessage:Dt.error.message,[Vn,cr]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vn)throw $n(A,"credential-already-in-use",Dt);if("EMAIL_EXISTS"===Vn)throw $n(A,"email-already-in-use",Dt);const zr=k[Vn]||Vn.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw ke(A,zr,cr);qe(A,zr)}}catch(oe){if(oe instanceof $.ZR)throw oe;qe(A,"network-request-failed")}})).apply(this,arguments)}function un(A,m,v,k){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(A,m,v,k,oe={}){const Ce=yield _t(A,m,v,k,oe);return"mfaPendingCredential"in Ce&&qe(A,"multi-factor-auth-required",{_serverResponse:Ce}),Ce})).apply(this,arguments)}function hr(A,m,v,k){const oe=`${m}${v}?${k}`;return A.config.emulator?ot(A.config,oe):`${A.config.apiScheme}://${oe}`}class Cn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,k)=>{this.timer=setTimeout(()=>k(De(this.auth,"network-request-failed")),gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(A,m,v){const k={appName:A.name};v.email&&(k.email=v.email),v.phoneNumber&&(k.phoneNumber=v.phoneNumber);const oe=De(A,m,k);return oe.customData._tokenResponse=v,oe}function sr(){return(sr=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function an(A,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Gn(A,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ln(A){if(A)try{const m=new Date(Number(A));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Fn(){return(Fn=(0,u.Z)(function*(A,m=!1){const v=(0,$.m9)(A),k=yield v.getIdToken(m),oe=Yn(k);Ue(oe&&oe.exp&&oe.auth_time&&oe.iat,v.auth,"internal-error");const Ce="object"==typeof oe.firebase?oe.firebase:void 0,Dt=null==Ce?void 0:Ce.sign_in_provider;return{claims:oe,token:k,authTime:ln(mr(oe.auth_time)),issuedAtTime:ln(mr(oe.iat)),expirationTime:ln(mr(oe.exp)),signInProvider:Dt||null,signInSecondFactor:(null==Ce?void 0:Ce.sign_in_second_factor)||null}})).apply(this,arguments)}function mr(A){return 1e3*Number(A)}function Yn(A){const[m,v,k]=A.split(".");if(void 0===m||void 0===v||void 0===k)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const oe=(0,$.tV)(v);return oe?JSON.parse(oe):(Be("Failed to decode base64 JWT payload"),null)}catch(oe){return Be("Caught error parsing JWT payload as JSON",oe),null}}function sn(A,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(A,m,v=!1){if(v)return m;try{return yield m}catch(k){throw k instanceof $.ZR&&ti(k)&&A.auth.currentUser===A&&(yield A.auth.signOut()),k}})).apply(this,arguments)}function ti({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}class _n{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const oe=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,oe)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const k=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),k)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class fr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ln(this.lastLoginAt),this.creationTime=ln(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(A){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(A){var m;const v=A.auth,k=yield A.getIdToken(),oe=yield sn(A,Gn(v,{idToken:k}));Ue(null==oe?void 0:oe.users.length,v,"internal-error");const Ce=oe.users[0];A._notifyReloadListener(Ce);const Dt=(null===(m=Ce.providerUserInfo)||void 0===m?void 0:m.length)?Ot(Ce.providerUserInfo):[],Yt=st(A.providerData,Dt),zr=!!A.isAnonymous&&!(A.email&&Ce.passwordHash||(null==Yt?void 0:Yt.length)),Qi={uid:Ce.localId,displayName:Ce.displayName||null,photoURL:Ce.photoUrl||null,email:Ce.email||null,emailVerified:Ce.emailVerified||!1,phoneNumber:Ce.phoneNumber||null,tenantId:Ce.tenantId||null,providerData:Yt,metadata:new fr(Ce.createdAt,Ce.lastLoginAt),isAnonymous:zr};Object.assign(A,Qi)})).apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(A){const m=(0,$.m9)(A);yield yr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function st(A,m){return[...A.filter(k=>!m.some(oe=>oe.providerId===k.providerId)),...m]}function Ot(A){return A.map(m=>{var{providerId:v}=m,k=(0,Me._T)(m,["providerId"]);return{providerId:v,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function on(){return(on=(0,u.Z)(function*(A,m){const v=yield Rn(A,{},(0,u.Z)(function*(){const k=(0,$.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:oe,apiKey:Ce}=A.config,Dt=hr(A,oe,"/v1/token",`key=${Ce}`),Yt=yield A._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",ct.fetch()(Dt,{method:"POST",headers:Yt,body:k})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ue(m.idToken,"internal-error"),Ue(void 0!==m.idToken,"internal-error"),Ue(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(A){const m=Yn(A);return Ue(m,"internal-error"),Ue(void 0!==m.exp,"internal-error"),Ue(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var k=this;return(0,u.Z)(function*(){return Ue(!k.accessToken||k.refreshToken,m,"user-token-expired"),v||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(m,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var k=this;return(0,u.Z)(function*(){const{accessToken:oe,refreshToken:Ce,expiresIn:Dt}=yield function(A,m){return on.apply(this,arguments)}(m,v);k.updateTokensAndExpiration(oe,Ce,Number(Dt))})()}updateTokensAndExpiration(m,v,k){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(m,v){const{refreshToken:k,accessToken:oe,expirationTime:Ce}=v,Dt=new mn;return k&&(Ue("string"==typeof k,"internal-error",{appName:m}),Dt.refreshToken=k),oe&&(Ue("string"==typeof oe,"internal-error",{appName:m}),Dt.accessToken=oe),Ce&&(Ue("number"==typeof Ce,"internal-error",{appName:m}),Dt.expirationTime=Ce),Dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function Zn(A,m){Ue("string"==typeof A||void 0===A,"internal-error",{appName:m})}class _r{constructor(m){var{uid:v,auth:k,stsTokenManager:oe}=m,Ce=(0,Me._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=k,this.stsTokenManager=oe,this.accessToken=oe.accessToken,this.displayName=Ce.displayName||null,this.email=Ce.email||null,this.emailVerified=Ce.emailVerified||!1,this.phoneNumber=Ce.phoneNumber||null,this.photoURL=Ce.photoURL||null,this.isAnonymous=Ce.isAnonymous||!1,this.tenantId=Ce.tenantId||null,this.providerData=Ce.providerData?[...Ce.providerData]:[],this.metadata=new fr(Ce.createdAt||void 0,Ce.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,u.Z)(function*(){const k=yield sn(v,v.stsTokenManager.getToken(v.auth,m));return Ue(k,v.auth,"internal-error"),v.accessToken!==k&&(v.accessToken=k,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),k})()}getIdTokenResult(m){return function(A){return Fn.apply(this,arguments)}(this,m)}reload(){return function(A){return He.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ue(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new _r(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var k=this;return(0,u.Z)(function*(){let oe=!1;m.idToken&&m.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(m),oe=!0),v&&(yield yr(k)),yield k.auth._persistUserIfCurrent(k),oe&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var m=this;return(0,u.Z)(function*(){const v=yield m.getIdToken();return yield sn(m,function(A,m){return sr.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var k,oe,Ce,Dt,Yt,Vn,cr,zr;const Qi=null!==(k=v.displayName)&&void 0!==k?k:void 0,So=null!==(oe=v.email)&&void 0!==oe?oe:void 0,Vo=null!==(Ce=v.phoneNumber)&&void 0!==Ce?Ce:void 0,wu=null!==(Dt=v.photoURL)&&void 0!==Dt?Dt:void 0,gh=null!==(Yt=v.tenantId)&&void 0!==Yt?Yt:void 0,wd=null!==(Vn=v._redirectEventId)&&void 0!==Vn?Vn:void 0,Id=null!==(cr=v.createdAt)&&void 0!==cr?cr:void 0,Cd=null!==(zr=v.lastLoginAt)&&void 0!==zr?zr:void 0,{uid:Iu,emailVerified:Ol,isAnonymous:Ac,providerData:xc,stsTokenManager:is}=v;Ue(Iu&&is,m,"internal-error");const Yu=mn.fromJSON(this.name,is);Ue("string"==typeof Iu,m,"internal-error"),Zn(Qi,m.name),Zn(So,m.name),Ue("boolean"==typeof Ol,m,"internal-error"),Ue("boolean"==typeof Ac,m,"internal-error"),Zn(Vo,m.name),Zn(wu,m.name),Zn(gh,m.name),Zn(wd,m.name),Zn(Id,m.name),Zn(Cd,m.name);const Cu=new _r({uid:Iu,auth:m,email:So,emailVerified:Ol,displayName:Qi,isAnonymous:Ac,photoURL:wu,phoneNumber:Vo,tenantId:gh,stsTokenManager:Yu,createdAt:Id,lastLoginAt:Cd});return xc&&Array.isArray(xc)&&(Cu.providerData=xc.map(qu=>Object.assign({},qu))),wd&&(Cu._redirectEventId=wd),Cu}static _fromIdTokenResponse(m,v,k=!1){return(0,u.Z)(function*(){const oe=new mn;oe.updateFromServerResponse(v);const Ce=new _r({uid:v.localId,auth:m,stsTokenManager:oe,isAnonymous:k});return yield yr(Ce),Ce})()}}const ar=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,k){var oe=this;return(0,u.Z)(function*(){oe.storage[v]=k})()}_get(v){var k=this;return(0,u.Z)(function*(){const oe=k.storage[v];return void 0===oe?null:oe})()}_remove(v){var k=this;return(0,u.Z)(function*(){delete k.storage[v]})()}_addListener(v,k){}_removeListener(v,k){}}return A.type="NONE",A})();function vn(A,m,v){return`firebase:${A}:${m}:${v}`}class Qn{constructor(m,v,k){this.persistence=m,this.auth=v,this.userKey=k;const{config:oe,name:Ce}=this.auth;this.fullUserKey=vn(this.userKey,oe.apiKey,Ce),this.fullPersistenceKey=vn("persistence",oe.apiKey,Ce),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?_r._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,u.Z)(function*(){if(v.persistence===m)return;const k=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,k?v.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,k="authUser"){return(0,u.Z)(function*(){if(!v.length)return new Qn(Le(ar),m,k);const oe=(yield Promise.all(v.map(function(){var cr=(0,u.Z)(function*(zr){if(yield zr._isAvailable())return zr});return function(zr){return cr.apply(this,arguments)}}()))).filter(cr=>cr);let Ce=oe[0]||Le(ar);const Dt=vn(k,m.config.apiKey,m.name);let Yt=null;for(const cr of v)try{const zr=yield cr._get(Dt);if(zr){const Qi=_r._fromJSON(m,zr);cr!==Ce&&(Yt=Qi),Ce=cr;break}}catch(zr){}const Vn=oe.filter(cr=>cr._shouldAllowMigration);return Ce._shouldAllowMigration&&Vn.length?(Ce=Vn[0],Yt&&(yield Ce._set(Dt,Yt.toJSON())),yield Promise.all(v.map(function(){var cr=(0,u.Z)(function*(zr){if(zr!==Ce)try{yield zr._remove(Dt)}catch(Qi){}});return function(zr){return cr.apply(this,arguments)}}())),new Qn(Ce,m,k)):new Qn(Ce,m,k)})()}}function vt(A){const m=A.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Xt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(it(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Pn(m))return"Blackberry";if(Un(m))return"Webos";if(tt(m))return"Safari";if((m.includes("chrome/")||kt(m))&&!m.includes("edge/"))return"Chrome";if(Bn(m))return"Android";{const k=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==k?void 0:k.length))return k[1]}return"Other"}function it(A=(0,$.z$)()){return/firefox\//i.test(A)}function tt(A=(0,$.z$)()){const m=A.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function kt(A=(0,$.z$)()){return/crios\//i.test(A)}function Xt(A=(0,$.z$)()){return/iemobile/i.test(A)}function Bn(A=(0,$.z$)()){return/android/i.test(A)}function Pn(A=(0,$.z$)()){return/blackberry/i.test(A)}function Un(A=(0,$.z$)()){return/webos/i.test(A)}function qn(A=(0,$.z$)()){return/iphone|ipad|ipod/i.test(A)}function fn(A=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function bn(A=(0,$.z$)()){return qn(A)||Bn(A)||Un(A)||Pn(A)||/windows phone/i.test(A)||Xt(A)}function Hr(A,m=[]){let v;switch(A){case"Browser":v=vt((0,$.z$)());break;case"Worker":v=`${vt((0,$.z$)())}-${A}`;break;default:v=A}const k=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${q.SDK_VERSION}/${k}`}class Ur{constructor(m,v){this.app=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xr(this),this.idTokenSubscription=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(m,v){var k=this;return v&&(this._popupRedirectResolver=Le(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var oe,Ce;if(!k._deleted&&(k.persistenceManager=yield Qn.create(k,m),!k._deleted)){if(null===(oe=k._popupRedirectResolver)||void 0===oe?void 0:oe._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch(Dt){}yield k.initializeCurrentUser(v),k.lastNotifiedUid=(null===(Ce=k.currentUser)||void 0===Ce?void 0:Ce.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,u.Z)(function*(){var k;let oe=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ce=null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId,Dt=null==oe?void 0:oe._redirectEventId,Yt=yield v.tryRedirectSignIn(m);(!Ce||Ce===Dt)&&(null==Yt?void 0:Yt.user)&&(oe=Yt.user)}return oe?oe._redirectEventId?(Ue(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===oe._redirectEventId?v.directlySetCurrentUser(oe):v.reloadAndSetCurrentUserOrClear(oe)):v.reloadAndSetCurrentUserOrClear(oe):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,u.Z)(function*(){let k=null;try{k=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(oe){yield v._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,u.Z)(function*(){try{yield yr(m)}catch(k){if("auth/network-request-failed"!==k.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,u.Z)(function*(){const k=m?(0,$.m9)(m):null;return k&&Ue(k.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(k&&k._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,u.Z)(function*(){if(!v._deleted)return m&&Ue(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,u.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(Le(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new $.LL("auth","Firebase",m())}onAuthStateChanged(m,v,k){return this.registerStateListener(this.authStateSubscription,m,v,k)}onIdTokenChanged(m,v,k){return this.registerStateListener(this.idTokenSubscription,m,v,k)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var k=this;return(0,u.Z)(function*(){const oe=yield k.getOrInitRedirectPersistenceManager(v);return null===m?oe.removeCurrentUser():oe.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const k=m&&Le(m)||v._popupRedirectResolver;Ue(k,v,"argument-error"),v.redirectPersistenceManager=yield Qn.create(v,[Le(k._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,u.Z)(function*(){var k,oe;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(k=v._currentUser)||void 0===k?void 0:k._redirectEventId)===m?v._currentUser:(null===(oe=v.redirectUser)||void 0===oe?void 0:oe._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,u.Z)(function*(){if(m===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,k,oe){if(this._deleted)return()=>{};const Ce="function"==typeof v?v:v.next.bind(v),Dt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(Dt,this,"internal-error"),Dt.then(()=>Ce(this.currentUser)),"function"==typeof v?m.addObserver(v,k,oe):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){const v={"X-Client-Version":m.clientVersion};return m.app.options.appId&&(v["X-Firebase-gmpid"]=m.app.options.appId),v})()}}function tr(A){return(0,$.m9)(A)}class xr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jn(A,m,v){const k=tr(A);Ue(k._canInitEmulator,k,"emulator-config-failed"),Ue(/^https?:\/\//.test(m),k,"invalid-emulator-scheme");const oe=!!(null==v?void 0:v.disableWarnings),Ce=Kr(m),{host:Dt,port:Yt}=function(A){const m=Kr(A),v=/(\/\/)?([^?#/]+)/.exec(A.substr(m.length));if(!v)return{host:"",port:null};const k=v[2].split("@").pop()||"",oe=/^(\[[^\]]+\])(:|$)/.exec(k);if(oe){const Ce=oe[1];return{host:Ce,port:Mn(k.substr(Ce.length+1))}}{const[Ce,Dt]=k.split(":");return{host:Ce,port:Mn(Dt)}}}(m);k.config.emulator={url:`${Ce}//${Dt}${null===Yt?"":`:${Yt}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:Dt,port:Yt,protocol:Ce.replace(":",""),options:Object.freeze({disableWarnings:oe})}),oe||function(){function A(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function Kr(A){const m=A.indexOf(":");return m<0?"":A.substr(0,m+1)}function Mn(A){if(!A)return null;const m=Number(A);return isNaN(m)?null:m}class Vr{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Tt("not implemented")}_getIdTokenResponse(m){return Tt("not implemented")}_linkToIdToken(m,v){return Tt("not implemented")}_getReauthenticationResolver(m){return Tt("not implemented")}}function Zr(A,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:resetPassword",pt(A,m))})).apply(this,arguments)}function vr(A,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function gi(A,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:update",pt(A,m))})).apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithPassword",pt(A,m))})).apply(this,arguments)}function ci(A,m){return be.apply(this,arguments)}function be(){return(be=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:sendOobCode",pt(A,m))})).apply(this,arguments)}function Ke(A,m){return C.apply(this,arguments)}function C(){return(C=(0,u.Z)(function*(A,m){return ci(A,m)})).apply(this,arguments)}function N(A,m){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)(function*(A,m){return ci(A,m)})).apply(this,arguments)}function j(A,m){return ne.apply(this,arguments)}function ne(){return(ne=(0,u.Z)(function*(A,m){return ci(A,m)})).apply(this,arguments)}function ve(A,m){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(A,m){return ci(A,m)})).apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithEmailLink",pt(A,m))})).apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithEmailLink",pt(A,m))})).apply(this,arguments)}class Kt extends Vr{constructor(m,v,k,oe=null){super("password",k),this._email=m,this._password=v,this._tenantId=oe}static _fromEmailAndPassword(m,v){return new Kt(m,v,"password")}static _fromEmailAndCode(m,v,k=null){return new Kt(m,v,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return function(A,m){return Ii.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(A,m){return We.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:qe(m,"internal-error")}})()}_linkToIdToken(m,v){var k=this;return(0,u.Z)(function*(){switch(k.signInMethod){case"password":return vr(m,{idToken:v,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function(A,m){return Lt.apply(this,arguments)}(m,{idToken:v,email:k._email,oobCode:k._password});default:qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function hn(A,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithIdp",pt(A,m))})).apply(this,arguments)}class Er extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Er(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):qe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:k,signInMethod:oe}=v,Ce=(0,Me._T)(v,["providerId","signInMethod"]);if(!k||!oe)return null;const Dt=new Er(k,oe);return Dt.idToken=Ce.idToken||void 0,Dt.accessToken=Ce.accessToken||void 0,Dt.secret=Ce.secret,Dt.nonce=Ce.nonce,Dt.pendingToken=Ce.pendingToken||null,Dt}_getIdTokenResponse(m){return hn(m,this.buildRequest())}_linkToIdToken(m,v){const k=this.buildRequest();return k.idToken=v,hn(m,k)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,hn(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,$.xO)(v)}return m}}function si(A,m){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:sendVerificationCode",pt(A,m))})).apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithPhoneNumber",pt(A,m))})).apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(A,m){const v=yield un(A,"POST","/v1/accounts:signInWithPhoneNumber",pt(A,m));if(v.temporaryProof)throw $n(A,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Es={USER_NOT_FOUND:"user-not-found"};function xs(){return(xs=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithPhoneNumber",pt(A,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Es)})).apply(this,arguments)}class us extends Vr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new us({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new us({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(A,m){return as.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(A,m){return ls.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(A,m){return xs.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:k,verificationCode:oe}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:k,code:oe}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:k,phoneNumber:oe,temporaryProof:Ce}=m;return k||v||oe||Ce?new us({verificationId:v,verificationCode:k,phoneNumber:oe,temporaryProof:Ce}):null}}class Rs{constructor(m){var v,k,oe,Ce,Dt,Yt;const Vn=(0,$.zd)((0,$.pd)(m)),cr=null!==(v=Vn.apiKey)&&void 0!==v?v:null,zr=null!==(k=Vn.oobCode)&&void 0!==k?k:null,Qi=function(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(oe=Vn.mode)&&void 0!==oe?oe:null);Ue(cr&&zr&&Qi,"argument-error"),this.apiKey=cr,this.operation=Qi,this.code=zr,this.continueUrl=null!==(Ce=Vn.continueUrl)&&void 0!==Ce?Ce:null,this.languageCode=null!==(Dt=Vn.languageCode)&&void 0!==Dt?Dt:null,this.tenantId=null!==(Yt=Vn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(m){const v=function(A){const m=(0,$.zd)((0,$.pd)(A)).link,v=m?(0,$.zd)((0,$.pd)(m)).deep_link_id:null,k=(0,$.zd)((0,$.pd)(A)).deep_link_id;return(k?(0,$.zd)((0,$.pd)(k)).link:null)||k||v||m||A}(m);try{return new Rs(v)}catch(k){return null}}}let Ui=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(v,k){return Kt._fromEmailAndPassword(v,k)}static credentialWithLink(v,k){const oe=Rs.parseLink(k);return Ue(oe,"argument-error"),Kt._fromEmailAndCode(v,oe.code,oe.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Oi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ji extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ys extends ji{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Ue("providerId"in v&&"signInMethod"in v,"argument-error"),Er._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Ue(m.idToken||m.accessToken,"argument-error"),Er._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ys.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ys.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:k,oauthTokenSecret:oe,pendingToken:Ce,nonce:Dt,providerId:Yt}=m;if(!k&&!oe&&!v&&!Ce||!Yt)return null;try{return new ys(Yt)._credential({idToken:v,accessToken:k,nonce:Dt,pendingToken:Ce})}catch(Vn){return null}}}let Ci=(()=>{class A extends ji{constructor(){super("facebook.com")}static credential(v){return Er._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return A.credential(v.oauthAccessToken)}catch(k){return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),Yi=(()=>{class A extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(v,k){return Er._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:k})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:k,oauthAccessToken:oe}=v;if(!k&&!oe)return null;try{return A.credential(k,oe)}catch(Ce){return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),Hi=(()=>{class A extends ji{constructor(){super("github.com")}static credential(v){return Er._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return A.credential(v.oauthAccessToken)}catch(k){return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class Di extends Vr{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return hn(m,this.buildRequest())}_linkToIdToken(m,v){const k=this.buildRequest();return k.idToken=v,hn(m,k)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,hn(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:k,signInMethod:oe,pendingToken:Ce}=v;return k&&oe&&Ce&&k===oe?new Di(k,Ce):null}static _create(m,v){return new Di(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _s extends Oi{constructor(m){Ue(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return _s.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return _s.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Di.fromJSON(m);return Ue(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:k}=m;if(!v||!k)return null;try{return Di._create(k,v)}catch(oe){return null}}}let Br=(()=>{class A extends ji{constructor(){super("twitter.com")}static credential(v,k){return Er._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:k})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:k,oauthTokenSecret:oe}=v;if(!k||!oe)return null;try{return A.credential(k,oe)}catch(Ce){return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function Ti(A,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signUp",pt(A,m))})).apply(this,arguments)}class di{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,k,oe=!1){return(0,u.Z)(function*(){const Ce=yield _r._fromIdTokenResponse(m,k,oe),Dt=Xr(k);return new di({user:Ce,providerId:Dt,_tokenResponse:k,operationType:v})})()}static _forOperation(m,v,k){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(k,!0);const oe=Xr(k);return new di({user:m,providerId:oe,_tokenResponse:k,operationType:v})})()}}function Xr(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function Ms(A){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(A){var m;const v=tr(A);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new di({user:v.currentUser,providerId:null,operationType:"signIn"});const k=yield Ti(v,{returnSecureToken:!0}),oe=yield di._fromIdTokenResponse(v,"signIn",k,!0);return yield v._updateCurrentUser(oe.user),oe})).apply(this,arguments)}class Ji extends $.ZR{constructor(m,v,k,oe){var Ce;super(v.code,v.message),this.operationType=k,this.user=oe,Object.setPrototypeOf(this,Ji.prototype),this.customData={appName:m.name,tenantId:null!==(Ce=m.tenantId)&&void 0!==Ce?Ce:void 0,_serverResponse:v.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(m,v,k,oe){return new Ji(m,v,k,oe)}}function wo(A,m,v,k){return("reauthenticate"===m?v._getReauthenticationResolver(A):v._getIdTokenResponse(A)).catch(Ce=>{throw"auth/multi-factor-auth-required"===Ce.code?Ji._fromErrorAndOperation(A,Ce,m,k):Ce})}function Ei(A){return new Set(A.map(({providerId:m})=>m).filter(m=>!!m))}function bi(A,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(A,m){const v=(0,$.m9)(A);yield G(!0,v,m);const{providerUserInfo:k}=yield an(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),oe=Ei(k||[]);return v.providerData=v.providerData.filter(Ce=>oe.has(Ce.providerId)),oe.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Wi(A,m){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(A,m,v=!1){const k=yield sn(A,m._linkToIdToken(A.auth,yield A.getIdToken()),v);return di._forOperation(A,"link",k)})).apply(this,arguments)}function G(A,m,v){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(A,m,v){yield yr(m);const oe=!1===A?"provider-already-linked":"no-such-provider";Ue(Ei(m.providerData).has(v)===A,m.auth,oe)})).apply(this,arguments)}function Y(A,m){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(A,m,v=!1){const{auth:k}=A,oe="reauthenticate";try{const Ce=yield sn(A,wo(k,oe,m,A),v);Ue(Ce.idToken,k,"internal-error");const Dt=Yn(Ce.idToken);Ue(Dt,k,"internal-error");const{sub:Yt}=Dt;return Ue(A.uid===Yt,k,"user-mismatch"),di._forOperation(A,oe,Ce)}catch(Ce){throw"auth/user-not-found"===(null==Ce?void 0:Ce.code)&&qe(k,"user-mismatch"),Ce}})).apply(this,arguments)}function Je(A,m){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(A,m,v=!1){const k="signIn",oe=yield wo(A,k,m),Ce=yield di._fromIdTokenResponse(A,k,oe);return v||(yield A._updateCurrentUser(Ce.user)),Ce})).apply(this,arguments)}function M(A,m){return R.apply(this,arguments)}function R(){return(R=(0,u.Z)(function*(A,m){return Je(tr(A),m)})).apply(this,arguments)}function se(A,m){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(A,m){const v=(0,$.m9)(A);return yield G(!1,v,m.providerId),Wi(v,m)})).apply(this,arguments)}function nn(A,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(A,m){return Y((0,$.m9)(A),m)})).apply(this,arguments)}function Rr(A,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(A,m){return un(A,"POST","/v1/accounts:signInWithCustomToken",pt(A,m))})).apply(this,arguments)}function b(A,m){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)(function*(A,m){const v=tr(A),k=yield Rr(v,{token:m,returnSecureToken:!0}),oe=yield di._fromIdTokenResponse(v,"signIn",k);return yield v._updateCurrentUser(oe.user),oe})).apply(this,arguments)}class E{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?K._fromServerResponse(m,v):qe(m,"internal-error")}}class K extends E{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new K(v)}}function ge(A,m,v){var k;Ue((null===(k=v.url)||void 0===k?void 0:k.length)>0,A,"invalid-continue-uri"),Ue(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ue(v.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Ue(v.android.packageName.length>0,A,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Nt(A,m,v){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A),oe={requestType:"PASSWORD_RESET",email:m};v&&ge(k,oe,v),yield N(k,oe)})).apply(this,arguments)}function Dn(A,m,v){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(A,m,v){yield Zr((0,$.m9)(A),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Mt(A,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(A,m){yield gi((0,$.m9)(A),{oobCode:m})})).apply(this,arguments)}function mi(A,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(A,m){const v=(0,$.m9)(A),k=yield Zr(v,{oobCode:m}),oe=k.requestType;switch(Ue(oe,v,"internal-error"),oe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(k.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(k.mfaInfo,v,"internal-error");default:Ue(k.email,v,"internal-error")}let Ce=null;return k.mfaInfo&&(Ce=E._fromServerResponse(tr(v),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:Ce},operation:oe}})).apply(this,arguments)}function cs(A,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(A,m){const{data:v}=yield mi((0,$.m9)(A),m);return v.email})).apply(this,arguments)}function Si(A,m,v){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(A,m,v){const k=tr(A),oe=yield Ti(k,{returnSecureToken:!0,email:m,password:v}),Ce=yield di._fromIdTokenResponse(k,"signIn",oe);return yield k._updateCurrentUser(Ce.user),Ce})).apply(this,arguments)}function ra(A,m,v){return M((0,$.m9)(A),Ui.credential(m,v))}function fu(A,m,v){return No.apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A),oe={requestType:"EMAIL_SIGNIN",email:m};Ue(v.handleCodeInApp,k,"argument-error"),v&&ge(k,oe,v),yield j(k,oe)})).apply(this,arguments)}function Ha(A,m){const v=Rs.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function ro(A,m,v){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A),oe=Ui.credentialWithLink(m,v||et());return Ue(oe._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),M(k,oe)})).apply(this,arguments)}function ns(A,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:createAuthUri",pt(A,m))})).apply(this,arguments)}function jo(A,m){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(A,m){const k={identifier:m,continueUri:Ut()?et():"http://localhost"},{signinMethods:oe}=yield ns((0,$.m9)(A),k);return oe||[]})).apply(this,arguments)}function ia(A,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(A,m){const v=(0,$.m9)(A),oe={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};m&&ge(v.auth,oe,m);const{email:Ce}=yield Ke(v.auth,oe);Ce!==A.email&&(yield A.reload())})).apply(this,arguments)}function Wa(A,m,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A),Ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:m};v&&ge(k.auth,Ce,v);const{email:Dt}=yield ve(k.auth,Ce);Dt!==A.email&&(yield A.reload())})).apply(this,arguments)}function Ia(A,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(A,m){return _t(A,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ho(A,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(A,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const k=(0,$.m9)(A),Ce={idToken:yield k.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Dt=yield sn(k,Ia(k.auth,Ce));k.displayName=Dt.displayName||null,k.photoURL=Dt.photoUrl||null;const Yt=k.providerData.find(({providerId:Vn})=>"password"===Vn);Yt&&(Yt.displayName=k.displayName,Yt.photoURL=k.photoURL),yield k._updateTokensIfNecessary(Dt)})).apply(this,arguments)}function _l(A,m){return Da((0,$.m9)(A),m,null)}function Ca(A,m){return Da((0,$.m9)(A),null,m)}function Da(A,m,v){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(A,m,v){const{auth:k}=A,Ce={idToken:yield A.getIdToken(),returnSecureToken:!0};m&&(Ce.email=m),v&&(Ce.password=v);const Dt=yield sn(A,vr(k,Ce));yield A._updateTokensIfNecessary(Dt,!0)})).apply(this,arguments)}class io{constructor(m,v,k={}){this.isNewUser=m,this.providerId=v,this.profile=k}}class vl extends io{constructor(m,v,k,oe){super(m,v,k),this.username=oe}}class Wo extends io{constructor(m,v){super(m,"facebook.com",v)}}class zl extends vl{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class El extends io{constructor(m,v){super(m,"google.com",v)}}class ni extends vl{constructor(m,v,k){super(m,"twitter.com",v,k)}}function co(A){const{user:m,_tokenResponse:v}=A;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(A){var m,v;if(!A)return null;const{providerId:k}=A,oe=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},Ce=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!k&&(null==A?void 0:A.idToken)){const Dt=null===(v=null===(m=Yn(A.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Dt)return new io(Ce,"anonymous"!==Dt&&"custom"!==Dt?Dt:null)}if(!k)return null;switch(k){case"facebook.com":return new Wo(Ce,oe);case"github.com":return new zl(Ce,oe);case"google.com":return new El(Ce,oe);case"twitter.com":return new ni(Ce,oe,A.screenName||null);case"custom":case"anonymous":return new io(Ce,null);default:return new io(Ce,k,oe)}}(v)}class so{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new so("enroll",m)}static _fromMfaPendingCredential(m){return new so("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,k;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return so._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(k=m.multiFactorSession)||void 0===k?void 0:k.idToken)return so._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Fo{constructor(m,v,k){this.session=m,this.hints=v,this.signInResolver=k}static _fromError(m,v){const k=tr(m),oe=v.customData._serverResponse,Ce=(oe.mfaInfo||[]).map(Yt=>E._fromServerResponse(k,Yt));Ue(oe.mfaPendingCredential,k,"internal-error");const Dt=so._fromMfaPendingCredential(oe.mfaPendingCredential);return new Fo(Dt,Ce,function(){var Yt=(0,u.Z)(function*(Vn){const cr=yield Vn._process(k,Dt);delete oe.mfaInfo,delete oe.mfaPendingCredential;const zr=Object.assign(Object.assign({},oe),{idToken:cr.idToken,refreshToken:cr.refreshToken});switch(v.operationType){case"signIn":const Qi=yield di._fromIdTokenResponse(k,v.operationType,zr);return yield k._updateCurrentUser(Qi.user),Qi;case"reauthenticate":return Ue(v.user,k,"internal-error"),di._forOperation(v.user,v.operationType,zr);default:qe(k,"internal-error")}});return function(Vn){return Yt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,u.Z)(function*(){return v.signInResolver(m)})()}}function Sa(A,m){var v;const k=(0,$.m9)(A),oe=m;return Ue(m.customData.operationType,k,"argument-error"),Ue(null===(v=oe.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,k,"argument-error"),Fo._fromError(k,oe)}function pu(A,m){return _t(A,"POST","/v2/accounts/mfaEnrollment:start",pt(A,m))}class Io{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(k=>E._fromServerResponse(m.auth,k)))})}static _fromUser(m){return new Io(m)}getSession(){var m=this;return(0,u.Z)(function*(){return so._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var k=this;return(0,u.Z)(function*(){const oe=m,Ce=yield k.getSession(),Dt=yield sn(k.user,oe._process(k.user.auth,Ce,v));return yield k.user._updateTokensIfNecessary(Dt),k.user.reload()})()}unenroll(m){var v=this;return(0,u.Z)(function*(){const k="string"==typeof m?m:m.uid,oe=yield v.user.getIdToken(),Ce=yield sn(v.user,function(A,m){return _t(A,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(A,m))}(v.user.auth,{idToken:oe,mfaEnrollmentId:k}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Dt})=>Dt!==k),yield v.user._updateTokensIfNecessary(Ce);try{yield v.user.reload()}catch(Dt){if("auth/user-token-expired"!==Dt.code)throw Dt}})()}}const aa=new WeakMap;function gu(A){const m=(0,$.m9)(A);return aa.has(m)||aa.set(m,Io._fromUser(m)),aa.get(m)}const Ai="__sak";class Ni{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ai,"1"),this.storage.removeItem(Ai),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jt=(()=>{class A extends Ni{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,k)=>this.onStorageEvent(v,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const A=(0,$.z$)();return tt(A)||qn(A)}()&&function(){try{return!(!window||window===window.top)}catch(A){return!1}}(),this.fallbackToPolling=bn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const k of Object.keys(this.listeners)){const oe=this.storage.getItem(k),Ce=this.localCache[k];oe!==Ce&&v(k,Ce,oe)}}onStorageEvent(v,k=!1){if(!v.key)return void this.forAllChangedKeys((Yt,Vn,cr)=>{this.notifyListeners(Yt,cr)});const oe=v.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(oe);if(v.newValue!==Yt)null!==v.newValue?this.storage.setItem(oe,v.newValue):this.storage.removeItem(oe);else if(this.localCache[oe]===v.newValue&&!k)return}const Ce=()=>{const Yt=this.storage.getItem(oe);!k&&this.localCache[oe]===Yt||this.notifyListeners(oe,Yt)},Dt=this.storage.getItem(oe);(0,$.w1)()&&10===document.documentMode&&Dt!==v.newValue&&v.newValue!==v.oldValue?setTimeout(Ce,10):Ce()}notifyListeners(v,k){this.localCache[v]=k;const oe=this.listeners[v];if(oe)for(const Ce of Array.from(oe))Ce(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,k,oe)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:k,newValue:oe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(k)}_removeListener(v,k){this.listeners[v]&&(this.listeners[v].delete(k),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,k){var oe=()=>super._set,Ce=this;return(0,u.Z)(function*(){yield oe().call(Ce,v,k),Ce.localCache[v]=JSON.stringify(k)})()}_get(v){var k=()=>super._get,oe=this;return(0,u.Z)(function*(){const Ce=yield k().call(oe,v);return oe.localCache[v]=JSON.stringify(Ce),Ce})()}_remove(v){var k=()=>super._remove,oe=this;return(0,u.Z)(function*(){yield k().call(oe,v),delete oe.localCache[v]})()}}return A.type="LOCAL",A})(),or=(()=>{class A extends Ni{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,k){}_removeListener(v,k){}}return A.type="SESSION",A})();let Qt=(()=>{class A{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const k=this.receivers.find(Ce=>Ce.isListeningto(v));if(k)return k;const oe=new A(v);return this.receivers.push(oe),oe}isListeningto(v){return this.eventTarget===v}handleEvent(v){var k=this;return(0,u.Z)(function*(){const oe=v,{eventId:Ce,eventType:Dt,data:Yt}=oe.data,Vn=k.handlersMap[Dt];if(!(null==Vn?void 0:Vn.size))return;oe.ports[0].postMessage({status:"ack",eventId:Ce,eventType:Dt});const cr=Array.from(Vn).map(function(){var Qi=(0,u.Z)(function*(So){return So(oe.origin,Yt)});return function(So){return Qi.apply(this,arguments)}}()),zr=yield function(A){return Promise.all(A.map(function(){var m=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(k){return{fulfilled:!1,reason:k}}});return function(v){return m.apply(this,arguments)}}()))}(cr);oe.ports[0].postMessage({status:"done",eventId:Ce,eventType:Dt,response:zr})})()}_subscribe(v,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(k)}_unsubscribe(v,k){this.handlersMap[v]&&k&&this.handlersMap[v].delete(k),(!k||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function zn(A="",m=10){let v="";for(let k=0;k<m;k++)v+=Math.floor(10*Math.random());return A+v}class Wr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,k=50){var oe=this;return(0,u.Z)(function*(){const Ce="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ce)throw new Error("connection_unavailable");let Dt,Yt;return new Promise((Vn,cr)=>{const zr=zn("",20);Ce.port1.start();const Qi=setTimeout(()=>{cr(new Error("unsupported_event"))},k);Yt={messageChannel:Ce,onMessage(So){const Vo=So;if(Vo.data.eventId===zr)switch(Vo.data.status){case"ack":clearTimeout(Qi),Dt=setTimeout(()=>{cr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Dt),Vn(Vo.data.response);break;default:clearTimeout(Qi),clearTimeout(Dt),cr(new Error("invalid_response"))}}},oe.handlers.add(Yt),Ce.port1.addEventListener("message",Yt.onMessage),oe.target.postMessage({eventType:m,eventId:zr,data:v},[Ce.port2])}).finally(()=>{Yt&&oe.removeMessageHandler(Yt)})})()}}function en(){return window}function Wt(){return void 0!==en().WorkerGlobalScope&&"function"==typeof en().importScripts}function ai(){return(ai=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(A){return null}})).apply(this,arguments)}const mu="firebaseLocalStorageDb",qi="firebaseLocalStorage",Ka="fbase_key";class Lo{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Aa(A,m){return A.transaction([qi],m?"readwrite":"readonly").objectStore(qi)}function Bo(){const A=indexedDB.open(mu,1);return new Promise((m,v)=>{A.addEventListener("error",()=>{v(A.error)}),A.addEventListener("upgradeneeded",()=>{const k=A.result;try{k.createObjectStore(qi,{keyPath:Ka})}catch(oe){v(oe)}}),A.addEventListener("success",(0,u.Z)(function*(){const k=A.result;k.objectStoreNames.contains(qi)?m(k):(k.close(),yield function(){const A=indexedDB.deleteDatabase(mu);return new Lo(A).toPromise()}(),m(yield Bo()))}))})}function Hs(A,m,v){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(A,m,v){const k=Aa(A,!0).put({[Ka]:m,value:v});return new Lo(k).toPromise()})).apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(A,m){const v=Aa(A,!1).get(m),k=yield new Lo(v).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function O(A,m){const v=Aa(A,!0).delete(m);return new Lo(v).toPromise()}const Q=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield Bo()),v.db})()}_withRetries(v){var k=this;return(0,u.Z)(function*(){let oe=0;for(;;)try{const Ce=yield k._openDb();return yield v(Ce)}catch(Ce){if(oe++>3)throw Ce;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return Wt()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=Qt._getInstance(Wt()?self:null),v.receiver._subscribe("keyChanged",function(){var k=(0,u.Z)(function*(oe,Ce){return{keyProcessed:(yield v._poll()).includes(Ce.key)}});return function(oe,Ce){return k.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var k=(0,u.Z)(function*(oe,Ce){return["keyChanged"]});return function(oe,Ce){return k.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var k,oe;if(v.activeServiceWorker=yield function(){return ai.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Wr(v.activeServiceWorker);const Ce=yield v.sender._send("ping",{},800);!Ce||(null===(k=Ce[0])||void 0===k?void 0:k.fulfilled)&&(null===(oe=Ce[0])||void 0===oe?void 0:oe.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var k=this;return(0,u.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:v},k.serviceWorkerReceiverAvailable?800:50)}catch(oe){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Bo();return yield Hs(v,Ai,"1"),yield O(v,Ai),!0}catch(v){}return!1})()}_withPendingWrite(v){var k=this;return(0,u.Z)(function*(){k.pendingWrites++;try{yield v()}finally{k.pendingWrites--}})()}_set(v,k){var oe=this;return(0,u.Z)(function*(){return oe._withPendingWrite((0,u.Z)(function*(){return yield oe._withRetries(Ce=>Hs(Ce,v,k)),oe.localCache[v]=k,oe.notifyServiceWorker(v)}))})()}_get(v){var k=this;return(0,u.Z)(function*(){const oe=yield k._withRetries(Ce=>function(A,m){return ua.apply(this,arguments)}(Ce,v));return k.localCache[v]=oe,oe})()}_remove(v){var k=this;return(0,u.Z)(function*(){return k._withPendingWrite((0,u.Z)(function*(){return yield k._withRetries(oe=>O(oe,v)),delete k.localCache[v],k.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const k=yield v._withRetries(Dt=>{const Yt=Aa(Dt,!1).getAll();return new Lo(Yt).toPromise()});if(!k)return[];if(0!==v.pendingWrites)return[];const oe=[],Ce=new Set;for(const{fbase_key:Dt,value:Yt}of k)Ce.add(Dt),JSON.stringify(v.localCache[Dt])!==JSON.stringify(Yt)&&(v.notifyListeners(Dt,Yt),oe.push(Dt));for(const Dt of Object.keys(v.localCache))v.localCache[Dt]&&!Ce.has(Dt)&&(v.notifyListeners(Dt,null),oe.push(Dt));return oe})()}notifyListeners(v,k){this.localCache[v]=k;const oe=this.listeners[v];if(oe)for(const Ce of Array.from(oe))Ce(k)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(k)}_removeListener(v,k){this.listeners[v]&&(this.listeners[v].delete(k),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();function fe(A,m){return _t(A,"POST","/v2/accounts/mfaSignIn:start",pt(A,m))}function xt(){return(xt=(0,u.Z)(function*(A){return(yield _t(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ir(A){return new Promise((m,v)=>{const k=document.createElement("script");k.setAttribute("src",A),k.onload=m,k.onerror=oe=>{const Ce=De("internal-error");Ce.customData=oe,v(Ce)},k.type="text/javascript",k.charset="UTF-8",function(){var A,m;return null!==(m=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==m?m:document}().appendChild(k)})}function yn(A){return`__${A}${Math.floor(1e6*Math.random())}`}const ir=1e12;class Ps{constructor(m){this.auth=m,this.counter=ir,this._widgets=new Map}render(m,v){const k=this.counter;return this._widgets.set(k,new Fi(m,this.auth.name,v||{})),this.counter++,k}reset(m){var v;const k=m||ir;null===(v=this._widgets.get(k))||void 0===v||v.delete(),this._widgets.delete(k)}getResponse(m){var v;return(null===(v=this._widgets.get(m||ir))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,u.Z)(function*(){var k;return null===(k=v._widgets.get(m||ir))||void 0===k||k.execute(),""})()}}class Fi{constructor(m,v,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const oe="string"==typeof m?document.getElementById(m):m;Ue(oe,"argument-error",{appName:v}),this.container=oe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(A){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<50;k++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(k){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(k){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ho=yn("rcb"),li=new rt(3e4,6e4);class xa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!en().grecaptcha}load(m,v=""){return Ue((A=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(en().grecaptcha):new Promise((k,oe)=>{const Ce=en().setTimeout(()=>{oe(De(m,"network-request-failed"))},li.get());en()[ho]=()=>{en().clearTimeout(Ce),delete en()[ho];const Yt=en().grecaptcha;if(!Yt)return void oe(De(m,"internal-error"));const Vn=Yt.render;Yt.render=(cr,zr)=>{const Qi=Vn(cr,zr);return this.counter++,Qi},this.hostLanguage=v,k(Yt)},Ir(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:ho,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(Ce),oe(De(m,"internal-error"))})});var A}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!en().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class md{load(m){return(0,u.Z)(function*(){return new Ps(m)})()}clearedOneInstance(){}}const kn="recaptcha",hh={theme:"light",type:"image"};class Ya{constructor(m,v=Object.assign({},hh),k){this.parameters=v,this.type=kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(k),this.isInvisible="invisible"===this.parameters.size,Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const oe="string"==typeof m?document.getElementById(m):m;Ue(oe,this.auth,"argument-error"),this.container=oe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new md:new xa,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),k=m.getAssertedRecaptcha();return k.getResponse(v)||new Promise(Ce=>{const Dt=Yt=>{!Yt||(m.tokenChangeListeners.delete(Dt),Ce(Yt))};m.tokenChangeListeners.add(Dt),m.isInvisible&&k.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(k=>k(v)),"function"==typeof m)m(v);else if("string"==typeof m){const k=en()[m];"function"==typeof k&&k(v)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const k=document.createElement("div");v.appendChild(k),v=k}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){Ue(Ut()&&!Wt(),m.auth,"internal-error"),yield function(){let A=null;return new Promise(m=>{"complete"!==document.readyState?(A=()=>m(),window.addEventListener("load",A)):m()}).catch(m=>{throw A&&window.removeEventListener("load",A),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(A){return xt.apply(this,arguments)}(m.auth);Ue(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ri{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=us._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Li(A,m,v){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(A,m,v){const k=tr(A),oe=yield fs(k,m,(0,$.m9)(v));return new ri(oe,Ce=>M(k,Ce))})).apply(this,arguments)}function oo(A,m,v){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A);yield G(!1,k,"phone");const oe=yield fs(k.auth,m,(0,$.m9)(v));return new ri(oe,Ce=>se(k,Ce))})).apply(this,arguments)}function Go(A,m,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A),oe=yield fs(k.auth,m,(0,$.m9)(v));return new ri(oe,Ce=>nn(k,Ce))})).apply(this,arguments)}function fs(A,m,v){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(A,m,v){var k;const oe=yield v.verify();try{let Ce;if(Ue("string"==typeof oe,A,"argument-error"),Ue(v.type===kn,A,"argument-error"),Ce="string"==typeof m?{phoneNumber:m}:m,"session"in Ce){const Dt=Ce.session;if("phoneNumber"in Ce)return Ue("enroll"===Dt.type,A,"internal-error"),(yield pu(A,{idToken:Dt.credential,phoneEnrollmentInfo:{phoneNumber:Ce.phoneNumber,recaptchaToken:oe}})).phoneSessionInfo.sessionInfo;{Ue("signin"===Dt.type,A,"internal-error");const Yt=(null===(k=Ce.multiFactorHint)||void 0===k?void 0:k.uid)||Ce.multiFactorUid;return Ue(Yt,A,"missing-multi-factor-info"),(yield fe(A,{mfaPendingCredential:Dt.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:oe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Dt}=yield si(A,{phoneNumber:Ce.phoneNumber,recaptchaToken:oe});return Dt}}finally{v._reset()}})).apply(this,arguments)}function qa(A,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(A,m){yield Wi((0,$.m9)(A),m)})).apply(this,arguments)}let Ma=(()=>{class A{constructor(v){this.providerId=A.PROVIDER_ID,this.auth=tr(v)}verifyPhoneNumber(v,k){return fs(this.auth,v,(0,$.m9)(k))}static credential(v,k){return us._fromVerification(v,k)}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:k,temporaryProof:oe}=v;return k&&oe?us._fromTokenResponse(k,oe):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function Dr(A,m){return m?Le(m):(Ue(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class Oa extends Vr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return hn(m,this._buildIdpRequest())}_linkToIdToken(m,v){return hn(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return hn(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Bi(A){return Je(A.auth,new Oa(A),A.bypassAuthState)}function Wu(A){const{auth:m,user:v}=A;return Ue(v,m,"internal-error"),Y(v,new Oa(A),A.bypassAuthState)}function da(A){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(A){const{auth:m,user:v}=A;return Ue(v,m,"internal-error"),Wi(v,new Oa(A),A.bypassAuthState)})).apply(this,arguments)}class Pa{constructor(m,v,k,oe,Ce=!1){this.auth=m,this.resolver=k,this.user=oe,this.bypassAuthState=Ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,u.Z)(function*(k,oe){m.pendingPromise={resolve:k,reject:oe};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Ce){m.reject(Ce)}});return function(k,oe){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,u.Z)(function*(){const{urlResponse:k,sessionId:oe,postBody:Ce,tenantId:Dt,error:Yt,type:Vn}=m;if(Yt)return void v.reject(Yt);const cr={auth:v.auth,requestUri:k,sessionId:oe,tenantId:Dt||void 0,postBody:Ce||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Vn)(cr))}catch(zr){v.reject(zr)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Bi;case"linkViaPopup":case"linkViaRedirect":return da;case"reauthViaPopup":case"reauthViaRedirect":return Wu;default:qe(this.auth,"internal-error")}}resolve(m){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Za=new rt(2e3,1e4);function Cl(A,m,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(A,m,v){const k=tr(A);Ye(A,m,Oi);const oe=Dr(k,v);return new fo(k,"signInViaPopup",m,oe).executeNotNull()})).apply(this,arguments)}function Dc(A,m,v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A);Ye(k.auth,m,Oi);const oe=Dr(k.auth,v);return new fo(k.auth,"reauthViaPopup",m,oe,k).executeNotNull()})).apply(this,arguments)}function Zs(A,m,v){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A);Ye(k.auth,m,Oi);const oe=Dr(k.auth,v);return new fo(k.auth,"linkViaPopup",m,oe,k).executeNotNull()})).apply(this,arguments)}let fo=(()=>{class A extends Pa{constructor(v,k,oe,Ce,Dt){super(v,k,Ce,Dt),this.provider=oe,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const k=yield v.execute();return Ue(k,v.auth,"internal-error"),k})()}onExecution(){var v=this;return(0,u.Z)(function*(){Ve(1===v.filter.length,"Popup operations only handle one event");const k=zn();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],k),v.authWindow.associatedEvent=k,v.resolver._originValidation(v.auth).catch(oe=>{v.reject(oe)}),v.resolver._isIframeWebStorageSupported(v.auth,oe=>{oe||v.reject(De(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const v=()=>{var k,oe;this.pollId=(null===(oe=null===(k=this.authWindow)||void 0===k?void 0:k.window)||void 0===oe?void 0:oe.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Za.get())};v()}}return A.currentPopupAction=null,A})();const Xa=new Map;class Yo extends Pa{constructor(m,v,k=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,k),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,u.Z)(function*(){let k=Xa.get(v.auth._key());if(!k){try{const Ce=(yield function(A,m){return qo.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;k=()=>Promise.resolve(Ce)}catch(oe){k=()=>Promise.reject(oe)}Xa.set(v.auth._key(),k)}return v.bypassAuthState||Xa.set(v.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,k=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(k,m);if("unknown"!==m.type){if(m.eventId){const oe=yield k.auth._redirectUserForId(m.eventId);if(oe)return k.user=oe,v().call(k,m);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function qo(){return(qo=(0,u.Z)(function*(A,m){const v=ze(m),k=pe(A);if(!(yield k._isAvailable()))return!1;const oe="true"===(yield k._get(v));return yield k._remove(v),oe})).apply(this,arguments)}function Yl(A,m){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(A,m){return pe(A)._set(ze(m),"true")})).apply(this,arguments)}function Z(){Xa.clear()}function pe(A){return Le(A._redirectPersistence)}function ze(A){return vn("pendingRedirect",A.config.apiKey,A.name)}function mt(A,m,v){return function(A,m,v){return Ht.apply(this,arguments)}(A,m,v)}function Ht(){return(Ht=(0,u.Z)(function*(A,m,v){const k=tr(A);Ye(A,m,Oi);const oe=Dr(k,v);return yield Yl(oe,k),oe._openRedirect(k,m,"signInViaRedirect")})).apply(this,arguments)}function On(A,m,v){return function(A,m,v){return er.apply(this,arguments)}(A,m,v)}function er(){return(er=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A);Ye(k.auth,m,Oi);const oe=Dr(k.auth,v);yield Yl(oe,k.auth);const Ce=yield Fs(k);return oe._openRedirect(k.auth,m,"reauthViaRedirect",Ce)})).apply(this,arguments)}function ui(A,m,v){return function(A,m,v){return Ki.apply(this,arguments)}(A,m,v)}function Ki(){return(Ki=(0,u.Z)(function*(A,m,v){const k=(0,$.m9)(A);Ye(k.auth,m,Oi);const oe=Dr(k.auth,v);yield G(!1,k,m.providerId),yield Yl(oe,k.auth);const Ce=yield Fs(k);return oe._openRedirect(k.auth,m,"linkViaRedirect",Ce)})).apply(this,arguments)}function Ri(A,m){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(A,m){return yield tr(A)._initializationPromise,Gs(A,m,!1)})).apply(this,arguments)}function Gs(A,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(A,m,v=!1){const k=tr(A),oe=Dr(k,m),Dt=yield new Yo(k,oe,v).execute();return Dt&&!v&&(delete Dt.user._redirectEventId,yield k._persistUserIfCurrent(Dt.user),yield k._setRedirectUser(null,m)),Dt})).apply(this,arguments)}function Fs(A){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(A){const m=zn(`${A.uid}:::`);return A._redirectEventId=m,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),m})).apply(this,arguments)}class Ja{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(m,k)&&(v=!0,this.sendToConsumer(m,k),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zu(A);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var k;if(m.error&&!zu(m)){const oe=(null===(k=m.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";v.onError(De(this.auth,oe))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const k=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&k}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Do(m))}saveEventToCache(m){this.cachedEventUids.add(Do(m)),this.lastProcessedEventTime=Date.now()}}function Do(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(m=>m).join("-")}function zu({type:A,error:m}){return"unknown"===A&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Dl(A){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,u.Z)(function*(A,m={}){return _t(A,"GET","/v1/projects",m)})).apply(this,arguments)}const Sl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zl=/^https?/;function go(){return(go=(0,u.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:m}=yield Dl(A);for(const v of m)try{if(_u(v))return}catch(k){}qe(A,"unauthorized-domain")})).apply(this,arguments)}function _u(A){const m=et(),{protocol:v,hostname:k}=new URL(m);if(A.startsWith("chrome-extension://")){const Dt=new URL(A);return""===Dt.hostname&&""===k?"chrome-extension:"===v&&A.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Dt.hostname===k}if(!Zl.test(v))return!1;if(Sl.test(A))return k===A;const oe=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+oe+"|"+oe+")$","i").test(k)}const vu=new rt(3e4,6e4);function Al(){const A=en().___jsl;if(null==A?void 0:A.H)for(const m of Object.keys(A.H))if(A.H[m].r=A.H[m].r||[],A.H[m].L=A.H[m].L||[],A.H[m].r=[...A.H[m].L],A.CP)for(let v=0;v<A.CP.length;v++)A.CP[v]=null}let Tc=null;function el(A){return Tc=Tc||function(A){return new Promise((m,v)=>{var k,oe,Ce;function Dt(){Al(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Al(),v(De(A,"network-request-failed"))},timeout:vu.get()})}if(null===(oe=null===(k=en().gapi)||void 0===k?void 0:k.iframes)||void 0===oe?void 0:oe.Iframe)m(gapi.iframes.getContext());else{if(!(null===(Ce=en().gapi)||void 0===Ce?void 0:Ce.load)){const Yt=yn("iframefcb");return en()[Yt]=()=>{gapi.load?Dt():v(De(A,"network-request-failed"))},Ir(`https://apis.google.com/js/api.js?onload=${Yt}`).catch(Vn=>v(Vn))}Dt()}}).catch(m=>{throw Tc=null,m})}(A),Tc}const Eu=new rt(5e3,15e3),tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ws(A){const m=A.config;Ue(m.authDomain,A,"auth-domain-config-required");const v=m.emulator?ot(m,"emulator/auth/iframe"):`https://${A.config.authDomain}/__/auth/iframe`,k={apiKey:m.apiKey,appName:A.name,v:q.SDK_VERSION},oe=xl.get(A.config.apiHost);oe&&(k.eid=oe);const Ce=A._getFrameworks();return Ce.length&&(k.fw=Ce.join(",")),`${v}?${(0,$.xO)(k).slice(1)}`}function mo(){return mo=(0,u.Z)(function*(A){const m=yield el(A),v=en().gapi;return Ue(v,A,"internal-error"),m.open({where:document.body,url:ws(A),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tl,dontclear:!0},k=>new Promise(function(){var oe=(0,u.Z)(function*(Ce,Dt){yield k.restyle({setHideOnLeave:!1});const Yt=De(A,"network-request-failed"),Vn=en().setTimeout(()=>{Dt(Yt)},Eu.get());function cr(){en().clearTimeout(Vn),Ce(k)}k.ping(cr).then(cr,()=>{Dt(Yt)})});return function(Ce,Dt){return oe.apply(this,arguments)}}()))}),mo.apply(this,arguments)}const Rl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ml{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function ka(A,m,v,k,oe,Ce){Ue(A.config.authDomain,A,"auth-domain-config-required"),Ue(A.config.apiKey,A,"invalid-api-key");const Dt={apiKey:A.config.apiKey,appName:A.name,authType:v,redirectUrl:k,v:q.SDK_VERSION,eventId:oe};if(m instanceof Oi){m.setDefaultLanguage(A.languageCode),Dt.providerId=m.providerId||"",(0,$.xb)(m.getCustomParameters())||(Dt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Vn,cr]of Object.entries(Ce||{}))Dt[Vn]=cr}if(m instanceof ji){const Vn=m.getScopes().filter(cr=>""!==cr);Vn.length>0&&(Dt.scopes=Vn.join(","))}A.tenantId&&(Dt.tid=A.tenantId);const Yt=Dt;for(const Vn of Object.keys(Yt))void 0===Yt[Vn]&&delete Yt[Vn];return`${function({config:A}){return A.emulator?ot(A,"emulator/auth/handler"):`https://${A.authDomain}/__/auth/handler`}(A)}?${(0,$.xO)(Yt).slice(1)}`}const eu="webStorageSupport",ei=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=or,this._completeRedirectFn=Gs}_openPopup(m,v,k,oe){var Ce=this;return(0,u.Z)(function*(){var Dt;Ve(null===(Dt=Ce.eventManagers[m._key()])||void 0===Dt?void 0:Dt.manager,"_initialize() not called before _openPopup()");const Yt=ka(m,v,k,et(),oe);return function(A,m,v,k=500,oe=600){const Ce=Math.max((window.screen.availHeight-oe)/2,0).toString(),Dt=Math.max((window.screen.availWidth-k)/2,0).toString();let Yt="";const Vn=Object.assign(Object.assign({},Rl),{width:k.toString(),height:oe.toString(),top:Ce,left:Dt}),cr=(0,$.z$)().toLowerCase();v&&(Yt=kt(cr)?"_blank":v),it(cr)&&(m=m||"http://localhost",Vn.scrollbars="yes");const zr=Object.entries(Vn).reduce((So,[Vo,wu])=>`${So}${Vo}=${wu},`,"");if(function(A=(0,$.z$)()){var m;return qn(A)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(cr)&&"_self"!==Yt)return function(A,m){const v=document.createElement("a");v.href=A,v.target=m;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(k)}(m||"",Yt),new Ml(null);const Qi=window.open(m||"",Yt,zr);Ue(Qi,A,"popup-blocked");try{Qi.focus()}catch(So){}return new Ml(Qi)}(m,Yt,zn())})()}_openRedirect(m,v,k,oe){var Ce=this;return(0,u.Z)(function*(){return yield Ce._originValidation(m),A=ka(m,v,k,et(),oe),en().location.href=A,new Promise(()=>{});var A})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:oe,promise:Ce}=this.eventManagers[v];return oe?Promise.resolve(oe):(Ve(Ce,"If manager is not set, promise should be"),Ce)}const k=this.initAndGetManager(m);return this.eventManagers[v]={promise:k},k.catch(()=>{delete this.eventManagers[v]}),k}initAndGetManager(m){var v=this;return(0,u.Z)(function*(){const k=yield function(A){return mo.apply(this,arguments)}(m),oe=new Ja(m);return k.register("authEvent",Ce=>(Ue(null==Ce?void 0:Ce.authEvent,m,"invalid-auth-event"),{status:oe.onEvent(Ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:oe},v.iframes[m._key()]=k,oe})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(eu,{type:eu},oe=>{var Ce;const Dt=null===(Ce=null==oe?void 0:oe[0])||void 0===Ce?void 0:Ce[eu];void 0!==Dt&&v(!!Dt),qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(A){return go.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return bn()||tt()||qn()}};class bd extends class{constructor(m){this.factorId=m}_process(m,v,k){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,k);case"signin":return this._finalizeSignIn(m,v.credential);default:return Tt("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new bd(m)}_finalizeEnroll(m,v,k){return function(A,m){return _t(A,"POST","/v2/accounts/mfaEnrollment:finalize",pt(A,m))}(m,{idToken:v,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(A,m){return _t(A,"POST","/v2/accounts/mfaSignIn:finalize",pt(A,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cs=(()=>{class A{constructor(){}static assertion(v){return bd._fromCredential(v)}}return A.FACTOR_ID="phone",A})();var A,Ku="@firebase/auth";class Zi{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(k=>{var oe;m((null===(oe=k)||void 0===oe?void 0:oe.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}A="Browser",(0,q._registerComponent)(new de.wA("auth",(m,{options:v})=>{const k=m.getProvider("app").getImmediate(),{apiKey:oe,authDomain:Ce}=k.options;return(Dt=>{Ue(oe&&!oe.includes(":"),"invalid-api-key",{appName:Dt.name}),Ue(!(null==Ce?void 0:Ce.includes(":")),"argument-error",{appName:Dt.name});const Yt={apiKey:oe,authDomain:Ce,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(A)},Vn=new Ur(Dt,Yt);return function(A,m){const v=(null==m?void 0:m.persistence)||[],k=(Array.isArray(v)?v:[v]).map(Le);(null==m?void 0:m.errorMap)&&A._updateErrorMap(m.errorMap),A._initializeWithPersistence(k,null==m?void 0:m.popupRedirectResolver)}(Vn,v),Vn})(k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,k)=>{m.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new de.wA("auth-internal",m=>{const v=tr(m.getProvider("auth").getImmediate());return new Zi(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(Ku,"0.19.9",void 0),(0,q.registerVersion)(Ku,"0.19.9","esm2017")},5023:(Gt,at,H)=>{"use strict";H.d(at,{u7:()=>lu,Jj:()=>Lu,IX:()=>xy,my:()=>os,xU:()=>bc,Lz:()=>Hl,WA:()=>Wt,F8:()=>ap,$q:()=>af,W:()=>wc,EK:()=>O,PU:()=>Tm,l7:()=>Ns,Ky:()=>kn,Xb:()=>xt,Cf:()=>ii,K9:()=>Wr,Me:()=>Ir,yq:()=>or,Wi:()=>ag,ET:()=>Sm,Ab:()=>jy,vr:()=>Uy,Fc:()=>mm,hJ:()=>hm,B$:()=>sp,at:()=>dm,oe:()=>iy,AK:()=>sy,TF:()=>ch,JU:()=>hg,ST:()=>Ry,fH:()=>My,Ix:()=>Qm,Wu:()=>nr,Lx:()=>Nn,qY:()=>eo,GL:()=>cf,QT:()=>ty,kl:()=>uf,Xk:()=>Ly,PL:()=>By,UQ:()=>ny,zN:()=>Vy,ad:()=>mg,nP:()=>Hy,b9:()=>ae,vh:()=>Se,Pb:()=>ym,L$:()=>Xm,cf:()=>Uu,sc:()=>$y,Xo:()=>S,IO:()=>l,iE:()=>pg,Eo:()=>fg,i3:()=>cu,Bt:()=>oy,pl:()=>ry,Ub:()=>la,qK:()=>wg,TQ:()=>St,e0:()=>It,r7:()=>k_,Mx:()=>Oy,ar:()=>p});var J,u=H(8239),$=H(1572),q=H(1177),Me=H(3855),ye=H(4213),de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he={},me=me||{},te=de||self;function re(){}function ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ie(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Xe="closure_uid_"+(1e9*Math.random()>>>0),Te=0;function Re(i,e,r){return i.call.apply(i.bind,arguments)}function we(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function Be(i,e,r){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Re:we).apply(null,arguments)}function qe(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function De(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,h,y){for(var D=Array(arguments.length-2),U=2;U<arguments.length;U++)D[U-2]=arguments[U];return e.prototype[h].apply(o,D)}}function ke(){this.s=this.s,this.o=this.o}var Et={};ke.prototype.s=!1,ke.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Xe)&&i[Xe]||(i[Xe]=++Te)}(this);delete Et[i]}},ke.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ue=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},Tt=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,h="string"==typeof i?i.split(""):i;for(let y=0;y<o;y++)y in h&&e.call(r,h[y],y,i)};function je(i){return Array.prototype.concat.apply([],arguments)}function Le(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function Fe(i){return/^[\s\xa0]*$/.test(i)}var zt,Ae=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function et(i,e){return-1!=i.indexOf(e)}function Ut(i,e){return i<e?-1:i>e?1:0}e:{var bt=te.navigator;if(bt){var ft=bt.userAgent;if(ft){zt=ft;break e}}zt=""}function rt(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function ot(i){const e={};for(const r in i)e[r]=i[r];return e}var ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(i,e){let r,o;for(let h=1;h<arguments.length;h++){for(r in o=arguments[h],o)i[r]=o[r];for(let y=0;y<ct.length;y++)r=ct[y],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function gt(i){return gt[" "](i),i}gt[" "]=re;var Cn,i,_t=et(zt,"Opera"),tn=et(zt,"Trident")||et(zt,"MSIE"),Rn=et(zt,"Edge"),wn=Rn||tn,un=et(zt,"Gecko")&&!(et(zt.toLowerCase(),"webkit")&&!et(zt,"Edge"))&&!(et(zt,"Trident")||et(zt,"MSIE"))&&!et(zt,"Edge"),En=et(zt.toLowerCase(),"webkit")&&!et(zt,"Edge");function hr(){var i=te.document;return i?i.documentMode:void 0}e:{var $n="",Ft=(i=zt,un?/rv:([^\);]+)(\)|;)/.exec(i):Rn?/Edge\/([\d\.]+)/.exec(i):tn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):En?/WebKit\/(\S+)/.exec(i):_t?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ft&&($n=Ft?Ft[1]:""),tn){var sr=hr();if(null!=sr&&sr>parseFloat($n)){Cn=String(sr);break e}}Cn=$n}var an={};function Ar(){return e=an,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let i=0;const e=Ae(String(Cn)).split("."),r=Ae("9").split("."),o=Math.max(e.length,r.length);for(let D=0;0==i&&D<o;D++){var h=e[D]||"",y=r[D]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==h[0].length&&0==y[0].length)break;i=Ut(0==h[1].length?0:parseInt(h[1],10),0==y[1].length?0:parseInt(y[1],10))||Ut(0==h[2].length,0==y[2].length)||Ut(h[2],y[2]),h=h[3],y=y[3]}while(0==i)}return 0<=i}();var e}var ln=te.document&&tn&&(hr()||parseInt(Cn,10))||void 0,gn=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{te.addEventListener("test",re,e),te.removeEventListener("test",re,e)}catch(r){}return i}();function In(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Fn(i,e){if(In.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(un){e:{try{gt(e.nodeName);var h=!0;break e}catch(y){}h=!1}h||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:mr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Fn.Z.h.call(this)}}In.prototype.h=function(){this.defaultPrevented=!0},De(Fn,In);var mr={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),cn=0;function sn(i,e,r,o,h){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=h,this.key=++cn,this.ca=this.fa=!1}function Yr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ti(i){this.src=i,this.g={},this.h=0}function _n(i,e){var r=e.type;if(r in i.g){var y,o=i.g[r],h=Ue(o,e);(y=0<=h)&&Array.prototype.splice.call(o,h,1),y&&(Yr(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function fr(i,e,r,o){for(var h=0;h<i.length;++h){var y=i[h];if(!y.ca&&y.listener==e&&y.capture==!!r&&y.ia==o)return h}return-1}ti.prototype.add=function(i,e,r,o,h){var y=i.toString();(i=this.g[y])||(i=this.g[y]=[],this.h++);var D=fr(i,e,o,h);return-1<D?(e=i[D],r||(e.fa=!1)):((e=new sn(e,this.src,y,!!o,h)).fa=r,i.push(e)),e};var yr="closure_lm_"+(1e6*Math.random()|0),Fr={};function Qe(i,e,r,o,h){if(o&&o.once)return Ot(i,e,r,o,h);if(Array.isArray(e)){for(var y=0;y<e.length;y++)Qe(i,e[y],r,o,h);return null}return r=ar(r),i&&i[Yn]?i.N(e,r,ie(o)?!!o.capture:!!o,h):He(i,e,r,!1,o,h)}function He(i,e,r,o,h,y){if(!e)throw Error("Invalid event type");var D=ie(h)?!!h.capture:!!h,U=_r(i);if(U||(i[yr]=U=new ti(i)),(r=U.add(e,r,o,D,y)).proxy)return r;if(o=function(){var e=Zn;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)gn||(h=D),void 0===h&&(h=!1),i.addEventListener(e.toString(),o,h);else if(i.attachEvent)i.attachEvent(mn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function Ot(i,e,r,o,h){if(Array.isArray(e)){for(var y=0;y<e.length;y++)Ot(i,e[y],r,o,h);return null}return r=ar(r),i&&i[Yn]?i.O(e,r,ie(o)?!!o.capture:!!o,h):He(i,e,r,!0,o,h)}function dt(i,e,r,o,h){if(Array.isArray(e))for(var y=0;y<e.length;y++)dt(i,e[y],r,o,h);else o=ie(o)?!!o.capture:!!o,r=ar(r),i&&i[Yn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=fr(y=i.g[e],r,o,h))&&(Yr(y[r]),Array.prototype.splice.call(y,r,1),0==y.length&&(delete i.g[e],i.h--))):i&&(i=_r(i))&&(e=i.g[e.toString()],i=-1,e&&(i=fr(e,r,o,h)),(r=-1<i?e[i]:null)&&on(r))}function on(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Yn])_n(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(mn(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=_r(e))?(_n(r,i),0==r.h&&(r.src=null,e[yr]=null)):Yr(i)}}}function mn(i){return i in Fr?Fr[i]:Fr[i]="on"+i}function Zn(i,e){if(i.ca)i=!0;else{e=new Fn(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&on(i),i=r.call(o,e)}return i}function _r(i){return(i=i[yr])instanceof ti?i:null}var Ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(i){return"function"==typeof i?i:(i[Ln]||(i[Ln]=function(e){return i.handleEvent(e)}),i[Ln])}function vn(){ke.call(this),this.i=new ti(this),this.P=this,this.I=null}function Qn(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new In(e,i);else if(e instanceof In)e.target=e.target||i;else{var h=e;yt(e=new In(o,i),h)}if(h=!0,r)for(var y=r.length-1;0<=y;y--){var D=e.g=r[y];h=vt(D,o,!0,e)&&h}if(h=vt(D=e.g=i,o,!0,e)&&h,h=vt(D,o,!1,e)&&h,r)for(y=0;y<r.length;y++)h=vt(D=e.g=r[y],o,!1,e)&&h}function vt(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,y=0;y<e.length;++y){var D=e[y];if(D&&!D.ca&&D.capture==r){var U=D.listener,ee=D.ia||D.src;D.fa&&_n(i.i,D),h=!1!==U.call(ee,o)&&h}}return h&&!o.defaultPrevented}De(vn,ke),vn.prototype[Yn]=!0,vn.prototype.removeEventListener=function(i,e,r,o){dt(this,i,e,r,o)},vn.prototype.M=function(){if(vn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)Yr(r[o]);delete i.g[e],i.h--}}this.I=null},vn.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},vn.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var it=te.JSON.stringify;function tt(){var i=$t;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qn,Xt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Bn,i=>i.reset());class Bn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Pn(i){te.setTimeout(()=>{throw i},0)}function Un(i,e){qn||function(){var i=te.Promise.resolve(void 0);qn=function(){i.then(bn)}}(),ur||(qn(),ur=!0),$t.add(i,e)}var ur=!1,$t=new class{constructor(){this.h=this.g=null}add(e,r){const o=Xt.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function bn(){for(var i;i=tt();){try{i.h.call(i.g)}catch(r){Pn(r)}var e=Xt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ur=!1}function lr(i,e){vn.call(this),this.h=i||1,this.g=e||te,this.j=Be(this.kb,this),this.l=Date.now()}function Hr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ur(i,e,r){if("function"==typeof i)r&&(i=Be(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Be(i.handleEvent,i)}return 2147483647<Number(e)?-1:te.setTimeout(i,e||0)}function tr(i){i.g=Ur(()=>{i.g=null,i.i&&(i.i=!1,tr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}De(lr,vn),(J=lr.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(Hr(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){lr.Z.M.call(this),Hr(this),delete this.g};class xr extends ke{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tr(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(i){ke.call(this),this.h=i,this.g={}}De(jn,ke);var Kr=[];function Lr(i,e,r,o){Array.isArray(r)||(r&&(Kr[0]=r.toString()),r=Kr);for(var h=0;h<r.length;h++){var y=Qe(e,r[h],o||i.handleEvent,!1,i.h||i);if(!y)break;i.g[y.key]=y}}function Mn(i){rt(i.g,function(e,r){this.g.hasOwnProperty(r)&&on(e)},i),i.g={}}function qr(){this.g=!0}function Jr(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var y=h[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var D=1;D<h.length;D++)h[D]=""}}}return it(r)}catch(U){return e}}(i,r)+(o?" "+o:"")})}jn.prototype.M=function(){jn.Z.M.call(this),Mn(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qr.prototype.Aa=function(){this.g=!1},qr.prototype.info=function(){};var gi={},Qr=null;function dr(){return Qr=Qr||new vn}function Ii(i){In.call(this,gi.Ma,i)}function ci(i){const e=dr();Qn(e,new Ii(e,i))}function be(i,e){In.call(this,gi.STAT_EVENT,i),this.stat=e}function Ke(i){const e=dr();Qn(e,new be(e,i))}function C(i,e){In.call(this,gi.Na,i),this.size=e}function N(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){i()},e)}gi.Ma="serverreachability",De(Ii,In),gi.STAT_EVENT="statevent",De(be,In),gi.Na="timingevent",De(C,In);var P={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},j={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ne(){}function Pe(){}ne.prototype.h=null;var Lt,Ze={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function We(){In.call(this,"d")}function ht(){In.call(this,"c")}function Kt(){}function hn(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new jn(this),this.P=Mr,this.W=new lr(i=wn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}De(We,In),De(ht,In),De(Kt,ne),Kt.prototype.g=function(){return new XMLHttpRequest},Kt.prototype.i=function(){return{}},Lt=new Kt;var Mr=45e3,Er={},si={};function $i(i,e,r){i.K=1,i.v=Ti(Hi(e)),i.s=r,i.U=!0,gs(i,null)}function gs(i,e){i.F=Date.now(),Es(i),i.A=Hi(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Y(r.h,"t",o),i.C=0,r=i.l.H,i.h=new Sn,i.g=ju(i.l,r?e:null,!i.s),0<i.O&&(i.L=new xr(Be(i.Ia,i,i.g),i.O)),Lr(i.V,i.g,"readystatechange",i.gb),e=i.H?ot(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ci(1),function(i,e,r,o,h,y){i.info(function(){if(i.g)if(y)for(var D="",U=y.split("&"),ee=0;ee<U.length;ee++){var _e=U[ee].split("=");if(1<_e.length){var Ge=_e[0];_e=_e[1];var ut=Ge.split("_");D=2<=ut.length&&"type"==ut[1]?D+(Ge+"=")+_e+"&":D+(Ge+"=redacted&")}}else D=null;else D=y;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+r+"\n"+D})}(i.j,i.u,i.A,i.m,i.X,i.s)}function as(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ys(i,e,r){let h,o=!0;for(;!i.I&&i.C<r.length;){if(h=ls(i,r),h==si){4==e&&(i.o=4,Ke(14),o=!1),Jr(i.j,i.m,null,"[Incomplete Response]");break}if(h==Er){i.o=4,Ke(15),Jr(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Jr(i.j,i.m,h,null),Po(i,h)}as(i)&&h!=si&&h!=Er&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Ke(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),io(e),e.L=!0,Ke(11))):(Jr(i.j,i.m,r,"[Invalid Chunked Response]"),ms(i),us(i))}function ls(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?si:(r=Number(e.substring(r,o)),isNaN(r)?Er:(o+=1)+r>e.length?si:(e=e.substr(o,r),i.C=o+r,e))}function Es(i){i.Y=Date.now()+i.P,oi(i,i.P)}function oi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=N(Be(i.eb,i),e)}function xs(i){i.B&&(te.clearTimeout(i.B),i.B=null)}function us(i){0==i.l.G||i.I||zl(i.l,i)}function ms(i){xs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Hr(i.W),Mn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Po(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||nn(r.i,i)))if(r.I=i.N,!i.J&&nn(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(_e){o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0])e:if(r.u)r.ta=h[1],0<r.ta-r.U&&37500>h[2]&&r.N&&0==r.A&&!r.v&&(r.v=N(Be(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Wo(r),wa(r)}za(r),Ke(18)}if(1>=Ct(r.i)&&r.ka){try{r.ka()}catch(_e){}r.ka=void 0}}else ni(r,11)}else if((i.J||r.g==i)&&Wo(r),!Fe(e))for(h=r.Ca.g.parse(e),e=0;e<h.length;e++){let _e=h[e];if(r.U=_e[0],_e=_e[1],2==r.G)if("c"==_e[0]){r.J=_e[1],r.la=_e[2];const Ge=_e[3];null!=Ge&&(r.ma=Ge,r.h.info("VER="+r.ma));const ut=_e[4];null!=ut&&(r.za=ut,r.h.info("SVER="+r.za));const Pt=_e[5];null!=Pt&&"number"==typeof Pt&&0<Pt&&(r.K=o=1.5*Pt,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const qt=i.g;if(qt){const rn=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rn){var y=o.i;!y.g&&(et(rn,"spdy")||et(rn,"quic")||et(rn,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(Kn(y,y.h),y.h=null))}if(o.D){const rr=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;rr&&(o.sa=rr,Br(o.F,o.D,rr))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var D=i;if((o=r).oa=wi(o,o.H?o.la:null,o.W),D.J){Rr(o.i,D);var U=D,ee=o.K;ee&&U.setTimeout(ee),U.B&&(xs(U),Es(U)),o.g=D}else oa(o);0<r.l.length&&Ho(r)}else"stop"!=_e[0]&&"close"!=_e[0]||ni(r,7);else 3==r.G&&("stop"==_e[0]||"close"==_e[0]?"stop"==_e[0]?ni(r,7):Wa(r):"noop"!=_e[0]&&r.j&&r.j.wa(_e),r.A=0)}ci(4)}catch(_e){}}function xe(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ce(i)||"string"==typeof i)Tt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(ce(i)||"string"==typeof i){r=[];for(var o=i.length,h=0;h<o;h++)r.push(h)}else for(h in r=[],o=0,i)r[o++]=h;o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ce(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),h=o.length;for(var y=0;y<h;y++)e.call(void 0,o[y],r&&r[y],i)}}function Ui(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ui)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function Oi(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];ji(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var h={};for(r=e=0;e<i.g.length;)ji(h,o=i.g[e])||(i.g[r++]=o,h[o]=1),e++;i.g.length=r}}function ji(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(J=hn.prototype).setTimeout=function(i){this.P=i},J.gb=function(i){i=i.target;const e=this.L;e&&3==ns(i)?e.l():this.Ia(i)},J.Ia=function(i){try{if(i==this.g)e:{const Ge=ns(this.g);var e=this.g.Da();const ut=this.g.ba();if(!(3>Ge)&&(3!=Ge||wn||this.g&&(this.h.h||this.g.ga()||qs(this.g)))){this.I||4!=Ge||7==e||ci(8==e||0>=ut?3:2),xs(this);var r=this.g.ba();this.N=r;t:if(as(this)){var o=qs(this.g);i="";var h=o.length,y=4==ns(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ms(this),us(this);var D="";break t}this.h.i=new te.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:y&&e==h-1});o.splice(0,h),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==r,function(i,e,r,o,h,y,D){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+r+"\n"+y+" "+D})}(this.j,this.u,this.A,this.m,this.X,Ge,r),this.i){if(this.$&&!this.J){t:{if(this.g){var U,ee=this.g;if((U=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fe(U)){var _e=U;break t}}_e=null}if(!(r=_e)){this.i=!1,this.o=3,Ke(12),ms(this),us(this);break e}Jr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Po(this,r)}this.U?(Ys(this,Ge,D),wn&&this.i&&3==Ge&&(Lr(this.V,this.W,"tick",this.fb),this.W.start())):(Jr(this.j,this.m,D,null),Po(this,D)),4==Ge&&ms(this),this.i&&!this.I&&(4==Ge?zl(this.l,this):(this.i=!1,Es(this)))}else 400==r&&0<D.indexOf("Unknown SID")?(this.o=3,Ke(12)):(this.o=0,Ke(13)),ms(this),us(this)}}}catch(Ge){}},J.fb=function(){if(this.g){var i=ns(this.g),e=this.g.ga();this.C<e.length&&(xs(this),Ys(this,i,e),this.i&&4!=i&&Es(this))}},J.cancel=function(){this.I=!0,ms(this)},J.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ci(3),Ke(17)),ms(this),this.o=2,us(this)):oi(this,this.Y-i)},(J=Ui.prototype).R=function(){Oi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},J.T=function(){return Oi(this),this.g.concat()},J.get=function(i,e){return ji(this.h,i)?this.h[i]:e},J.set=function(i,e){ji(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},J.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var h=r[o],y=this.get(h);i.call(e,y,h,this)}};var ys=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Yi){this.g=void 0!==e?e:i.g,Vs(this,i.j),this.s=i.s,Di(this,i.i),bs(this,i.m),this.l=i.l,e=i.h;var r=new Wi;r.i=e.i,e.g&&(r.g=new Ui(e.g),r.h=e.h),_s(this,r),this.o=i.o}else i&&(r=String(i).match(ys))?(this.g=!!e,Vs(this,r[1]||"",!0),this.s=Xr(r[2]||""),Di(this,r[3]||"",!0),bs(this,r[4]),this.l=Xr(r[5]||"",!0),_s(this,r[6]||"",!0),this.o=Xr(r[7]||"")):(this.g=!!e,this.h=new Wi(null,this.g))}function Hi(i){return new Yi(i)}function Vs(i,e,r){i.j=r?Xr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Di(i,e,r){i.i=r?Xr(e,!0):e}function bs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function _s(i,e,r){e instanceof Wi?(i.h=e,function(i,e){e&&!i.j&&(es(i),i.i=null,i.g.forEach(function(r,o){var h=o.toLowerCase();o!=h&&(G(this,o),Y(this,h,r))},i)),i.j=e}(i.h,i.g)):(r||(e=Ms(e,bi)),i.h=new Wi(e,i.g))}function Br(i,e,r){i.h.set(e,r)}function Ti(i){return Br(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Xr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ms(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,hi),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function hi(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Yi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ms(e,Ji,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ms(e,Ji,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Ms(r,"/"==r.charAt(0)?Ei:wo,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Ms(r,jr)),i.join("")};var Ji=/[#\/\?@]/g,wo=/[#\?:]/g,Ei=/[#\?]/g,bi=/[#\?@]/g,jr=/#/g;function Wi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function es(i){i.g||(i.g=new Ui,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),h=null;if(0<=o){var y=i[r].substring(0,o);h=i[r].substring(o+1)}else y=i[r];e(y,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function G(i,e){es(i),e=Ee(i,e),ji(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ji((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Oi(i)))}function le(i,e){return es(i),e=Ee(i,e),ji(i.g.h,e)}function Y(i,e,r){G(i,e),0<r.length&&(i.i=null,i.g.set(Ee(i,e),Le(r)),i.h+=r.length)}function Ee(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function M(i){this.l=i||R,i=te.PerformanceNavigationTiming?0<(i=te.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=Wi.prototype).add=function(i,e){es(this),this.i=null,i=Ee(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},J.forEach=function(i,e){es(this),this.g.forEach(function(r,o){Tt(r,function(h){i.call(e,h,o,this)},this)},this)},J.T=function(){es(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var h=i[o],y=0;y<h.length;y++)r.push(e[o]);return r},J.R=function(i){es(this);var e=[];if("string"==typeof i)le(this,i)&&(e=je(e,this.g.get(Ee(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=je(e,i[r])}return e},J.set=function(i,e){return es(this),this.i=null,le(this,i=Ee(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},J.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],h=encodeURIComponent(String(o));o=this.R(o);for(var y=0;y<o.length;y++){var D=h;""!==o[y]&&(D+="="+encodeURIComponent(String(o[y]))),i.push(D)}}return this.i=i.join("&")};var R=10;function se(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ct(i){return i.h?1:i.g?i.g.size:0}function nn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Kn(i,e){i.g?i.g.add(e):i.h=e}function Rr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function kr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return Le(i.i)}function b(){}function z(){this.g=new b}function E(i,e,r){const o=r||"";try{xe(i,function(h,y){let D=h;ie(h)&&(D=it(h)),e.push(o+y+"="+encodeURIComponent(D))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function ge(i,e,r,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch(y){}}function Nt(i){this.l=i.$b||null,this.j=i.ib||!1}function dn(i,e){vn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}M.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},b.prototype.stringify=function(i){return te.JSON.stringify(i,void 0)},b.prototype.parse=function(i){return te.JSON.parse(i,void 0)},De(Nt,ne),Nt.prototype.g=function(){return new dn(this.l,this.j)},Nt.prototype.i=function(i){return function(){return i}}({}),De(dn,vn);var Dn=0;function br(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Mt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Hn(i)}function Hn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(J=dn.prototype).open=function(i,e){if(this.readyState!=Dn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Hn(this)},J.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=Dn},J.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==te.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;br(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Mt(this):Hn(this),3==this.readyState&&br(this)}},J.Ua=function(i){this.g&&(this.response=this.responseText=i,Mt(this))},J.Ta=function(i){this.g&&(this.response=i,Mt(this))},J.ha=function(){this.g&&Mt(this)},J.setRequestHeader=function(i,e){this.v.append(i,e)},J.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(dn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var mi=te.JSON.parse;function Jn(i){vn.call(this),this.headers=new Ui,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cs,this.K=this.L=!1}De(Jn,vn);var cs="",Os=/^https?$/i,Si=["POST","PUT"];function ra(i){return"content-type"==i.toLowerCase()}function fu(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,No(i),ro(i)}function No(i){i.D||(i.D=!0,Qn(i,"complete"),Qn(i,"error"))}function Ha(i){if(i.h&&void 0!==me&&(!i.C[1]||4!=ns(i)||2!=i.ba()))if(i.v&&4==ns(i))Ur(i.Fa,0,i);else if(Qn(i,"readystatechange"),4==ns(i)){i.h=!1;try{const U=i.ba();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===U){var h=String(i.H).match(ys)[1]||null;if(!h&&te.self&&te.self.location){var y=te.self.location.protocol;h=y.substr(0,y.length-1)}o=!Os.test(h?h.toLowerCase():"")}r=o}if(r)Qn(i,"complete"),Qn(i,"success");else{i.m=6;try{var D=2<ns(i)?i.g.statusText:""}catch(ee){D=""}i.j=D+" ["+i.ba()+"]",No(i)}}finally{ro(i)}}}function ro(i,e){if(i.g){ts(i);const r=i.g,o=i.C[0]?re:null;i.g=null,i.C=null,e||Qn(i,"ready");try{r.onreadystatechange=o}catch(h){}}}function ts(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(te.clearTimeout(i.A),i.A=null)}function ns(i){return i.g?i.g.readyState:0}function qs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case cs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $s(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function(i){let e="";return rt(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Br(i,e,r))}function ia(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function ba(i){this.za=0,this.l=[],this.h=new qr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ia("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ia("baseRetryDelayMs",5e3,i),this.$a=ia("retryDelaySeedMs",1e4,i),this.Ya=ia("forwardChannelMaxRetries",2,i),this.ra=ia("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new M(i&&i.concurrentRequestLimit),this.Ca=new z,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Wa(i){if(Ia(i),3==i.G){var e=i.V++,r=Hi(i.F);Br(r,"SID",i.J),Br(r,"RID",e),Br(r,"TYPE","terminate"),Ca(i,r),(e=new hn(i,i.h,e,void 0)).K=2,e.v=Ti(Hi(r)),r=!1,te.navigator&&te.navigator.sendBeacon&&(r=te.navigator.sendBeacon(e.v.toString(),"")),!r&&te.Image&&((new Image).src=e.v,r=!0),r||(e.g=ju(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Es(e)}co(i)}function wa(i){i.g&&(io(i),i.g.cancel(),i.g=null)}function Ia(i){wa(i),i.u&&(te.clearTimeout(i.u),i.u=null),Wo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&te.clearTimeout(i.m),i.m=null)}function ko(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ho(i)}function Ho(i){se(i.i)||i.m||(i.m=!0,Un(i.Ha,i),i.C=0)}function _l(i,e){var r;r=e?e.m:i.V++;const o=Hi(i.F);Br(o,"SID",i.J),Br(o,"RID",r),Br(o,"AID",i.U),Ca(i,o),i.o&&i.s&&$s(o,i.o,i.s),r=new hn(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Da(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Kn(i.i,r),$i(r,o,e)}function Ca(i,e){i.j&&xe({},function(r,o){Br(e,o,r)})}function Da(i,e,r){r=Math.min(i.l.length,r);var o=i.j?Be(i.j.Oa,i.j,i):null;e:{var h=i.l;let y=-1;for(;;){const D=["count="+r];-1==y?0<r?(y=h[0].h,D.push("ofs="+y)):y=0:D.push("ofs="+y);let U=!0;for(let ee=0;ee<r;ee++){let _e=h[ee].h;const Ge=h[ee].g;if(_e-=y,0>_e)y=Math.max(0,h[ee].h-100),U=!1;else try{E(Ge,D,"req"+_e+"_")}catch(ut){o&&o(Ge)}}if(U){o=D.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function oa(i){i.g||i.u||(i.Y=1,Un(i.Ga,i),i.A=0)}function za(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=N(Be(i.Ga,i),El(i,i.A)),i.A++,0))}function io(i){null!=i.B&&(te.clearTimeout(i.B),i.B=null)}function vl(i){i.g=new hn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Hi(i.oa);Br(e,"RID","rpc"),Br(e,"SID",i.J),Br(e,"CI",i.N?"0":"1"),Br(e,"AID",i.U),Ca(i,e),Br(e,"TYPE","xmlhttp"),i.o&&i.s&&$s(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Ti(Hi(e)),r.s=null,r.U=!0,gs(r,i)}function Wo(i){null!=i.v&&(te.clearTimeout(i.v),i.v=null)}function zl(i,e){var r=null;if(i.g==e){Wo(i),io(i),i.g=null;var o=2}else{if(!nn(i.i,e))return;r=e.D,Rr(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;Qn(o=dr(),new C(o,r,e,h)),Ho(i)}else oa(i);else if(3==(h=e.o)||0==h&&0<i.I||!(1==o&&function(i,e){return!(Ct(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=N(Be(i.Ha,i,e),El(i,i.C)),i.C++,0)))}(i,e)||2==o&&za(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),h){case 1:ni(i,5);break;case 4:ni(i,10);break;case 3:ni(i,6);break;default:ni(i,2)}}function El(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function ni(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=Be(i.jb,i);r||(r=new Yi("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Vs(r,"https"),Ti(r)),function(i,e){const r=new qr;if(te.Image){const o=new Image;o.onload=qe(ge,r,o,"TestLoadImage: loaded",!0,e),o.onerror=qe(ge,r,o,"TestLoadImage: error",!1,e),o.onabort=qe(ge,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=qe(ge,r,o,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Ke(2);i.G=0,i.j&&i.j.va(e),co(i),Ia(i)}function co(i){i.G=0,i.I=-1,i.j&&((0!=kr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Le(i.l),i.l.length=0),i.j.ua())}function wi(i,e,r){let o=function(i){return i instanceof Yi?Hi(i):new Yi(i,void 0)}(r);if(""!=o.i)e&&Di(o,e+"."+o.i),bs(o,o.m);else{const h=te.location;o=function(i,e,r,o){var h=new Yi(null,void 0);return i&&Vs(h,i),e&&Di(h,e),r&&bs(h,r),o&&(h.l=o),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,r)}return i.aa&&rt(i.aa,function(h,y){Br(o,y,h)}),r=i.sa,(e=i.D)&&r&&Br(o,e,r),Br(o,"VER",i.ma),Ca(i,o),o}function ju(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(r&&i.Ba&&!i.qa?new Nt({ib:!0}):i.qa)).L=i.H,e}function bl(){}function Ta(){if(tn&&!(10<=Number(ln)))throw Error("Environmental error: no available transport.")}function ds(i,e){vn.call(this),this.g=new ba(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Fe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Us(this)}function Hu(i){We.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Cc(){ht.call(this),this.status=1}function Us(i){this.g=i}(J=Jn.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lt.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Lt),this.g.onreadystatechange=Be(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(y){return void fu(this,y)}i=r||"";const h=new Ui(this.headers);o&&xe(o,function(y,D){h.set(D,y)}),o=function(i){e:{var e=ra;const r=i.length,o="string"==typeof i?i.split(""):i;for(let h=0;h<r;h++)if(h in o&&e.call(void 0,o[h],h,i)){e=h;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(h.T()),r=te.FormData&&i instanceof te.FormData,!(0<=Ue(Si,e))||o||r||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(y,D){this.g.setRequestHeader(D,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ts(this),0<this.B&&((this.K=function(i){return tn&&Ar()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.pa,this)):this.A=Ur(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(y){fu(this,y)}},J.pa=function(){void 0!==me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},J.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Qn(this,"complete"),Qn(this,"abort"),ro(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ro(this,!0)),Jn.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?Ha(this):this.cb())},J.cb=function(){Ha(this)},J.ba=function(){try{return 2<ns(this)?this.g.status:-1}catch(i){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},J.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),mi(e)}},J.Da=function(){return this.m},J.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=ba.prototype).ma=8,J.G=1,J.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},J.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const h=new hn(this,this.h,i,void 0);let y=this.s;if(this.P&&(y?(y=ot(y),yt(y,this.P)):y=this.P),null===this.o&&(h.H=y),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Da(this,h,e),Br(r=Hi(this.F),"RID",i),Br(r,"CVER",22),this.D&&Br(r,"X-HTTP-Session-Id",this.D),Ca(this,r),this.o&&y&&$s(r,this.o,y),Kn(this.i,h),this.Ra&&Br(r,"TYPE","init"),this.ja?(Br(r,"$req",e),Br(r,"SID","null"),h.$=!0,$i(h,r,null)):$i(h,r,e),this.G=2}}else 3==this.G&&(i?_l(this,i):0==this.l.length||se(this.i)||_l(this))},J.Ga=function(){if(this.u=null,vl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=N(Be(this.bb,this),i)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ke(10),wa(this),vl(this))},J.ab=function(){null!=this.v&&(this.v=null,wa(this),za(this),Ke(19))},J.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ke(2)):(this.h.info("Failed to ping google.com"),Ke(1))},(J=bl.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},Ta.prototype.g=function(i,e){return new ds(i,e)},De(ds,vn),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Un(Be(i.hb,i,e))),Ke(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=wi(i,null,i.W),Ho(i)},ds.prototype.close=function(){Wa(this.g)},ds.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,ko(this.g,e)}else this.v?((e={}).__data__=it(i),ko(this.g,e)):ko(this.g,i)},ds.prototype.M=function(){this.g.j=null,delete this.j,Wa(this.g),delete this.g,ds.Z.M.call(this)},De(Hu,We),De(Cc,ht),De(Us,bl),Us.prototype.xa=function(){Qn(this.g,"a")},Us.prototype.wa=function(i){Qn(this.g,new Hu(i))},Us.prototype.va=function(i){Qn(this.g,new Cc(i))},Us.prototype.ua=function(){Qn(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,P.NO_ERROR=0,P.TIMEOUT=8,P.HTTP_ERROR=6,j.COMPLETE="complete",Pe.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",vn.prototype.listen=vn.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var so=he.createWebChannelTransport=function(){return new Ta},Fo=he.getStatEventTarget=function(){return dr()},Sa=he.ErrorCode=P,pu=he.EventType=j,Gl=he.Event=gi,yi=he.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Io=he.FetchXmlHttpFactory=Nt,aa=he.WebChannel=Pe,gu=he.XhrIo=Jn;const Ai="@firebase/firestore";class Ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let Co="9.6.7";const js=new Me.Yd("@firebase/firestore");function Ga(){return js.logLevel}function la(i){js.setLogLevel(i)}function Jt(i,...e){if(js.logLevel<=Me.in.DEBUG){const r=e.map($r);js.debug(`Firestore (${Co}): ${i}`,...r)}}function zi(i,...e){if(js.logLevel<=Me.in.ERROR){const r=e.map($r);js.error(`Firestore (${Co}): ${i}`,...r)}}function or(i,...e){if(js.logLevel<=Me.in.WARN){const r=e.map($r);js.warn(`Firestore (${Co}): ${i}`,...r)}}function $r(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Qt(i="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+i;throw zi(e),new Error(e)}function zn(i,e){i||Qt()}function Wr(i,e){i||Qt()}function en(i,e){return i}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wt extends ye.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ai{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ni.UNAUTHENTICATED))}shutdown(){}}class hs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mu{constructor(e){this.t=e,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let h=this.i;const y=_e=>this.i!==h?(h=this.i,r(_e)):Promise.resolve();let D=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new ki,e.enqueueRetryable(()=>y(this.currentUser))};const U=()=>{const _e=D;e.enqueueRetryable((0,u.Z)(function*(){yield _e.promise,yield y(o.currentUser)}))},ee=_e=>{Jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_e,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(_e=>ee(_e)),setTimeout(()=>{if(!this.auth){const _e=this.t.getImmediate({optional:!0});_e?ee(_e):(Jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new ki)}},0),U()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(zn("string"==typeof o.accessToken),new ai(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zn(null===e||"string"==typeof e),new Ni(e)}}class Kl{constructor(e,r,o){this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class qi{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new Kl(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,r){const o=y=>{null!=y.error&&Jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const D=y.token!==this.p;return this.p=y.token,Jt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>o(y))};const h=y=>{Jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.g.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.g.getImmediate({optional:!0});y?h(y):Jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(zn("string"==typeof r.token),this.p=r.token,new Ka(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Gi{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.I(o),this.T=o=>r.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Bo(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}Gi.A=-1;class Hs{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const h=Bo(40);for(let y=0;y<h.length;++y)o.length<20&&h[y]<r&&(o+=e.charAt(h[y]%e.length))}return o}}function wr(i,e){return i<e?-1:i>e?1:0}function zo(i,e,r){return i.length===e.length&&i.every((o,h)=>r(o,e[h]))}function ua(i){return i+"\0"}class O{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Wt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Wt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Wt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return O.fromMillis(Date.now())}static fromDate(e){return O.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new O(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wr(this.nanoseconds,e.nanoseconds):wr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class T{constructor(e){this.timestamp=e}static fromTimestamp(e){return new T(e)}static min(){return new T(new O(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function I(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function W(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Q(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class fe{constructor(e,r,o){void 0===r?r=0:r>e.length&&Qt(),void 0===o?o=e.length-r:o>e.length-r&&Qt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===fe.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof fe?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let h=0;h<o;h++){const y=e.get(h),D=r.get(h);if(y<D)return-1;if(y>D)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ie extends fe{construct(e,r,o){return new Ie(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Wt(At.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(h=>h.length>0))}return new Ie(r)}static emptyPath(){return new Ie([])}}const nt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends fe{construct(e,r,o){return new xt(e,r,o)}static isValidIdentifier(e){return nt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const r=[];let o="",h=0;const y=()=>{if(0===o.length)throw new Wt(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let D=!1;for(;h<e.length;){const U=e[h];if("\\"===U){if(h+1===e.length)throw new Wt(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ee=e[h+1];if("\\"!==ee&&"."!==ee&&"`"!==ee)throw new Wt(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=ee,h+=2}else"`"===U?(D=!D,h++):"."!==U||D?(o+=U,h++):(y(),h++)}if(y(),D)throw new Wt(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(r)}static emptyPath(){return new xt([])}}class Tn{constructor(e){this.fields=e,e.sort(xt.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(r,o)=>r.isEqual(o))}}function Ir(){return"undefined"!=typeof atob}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new yn(r)}static fromUint8Array(e){const r=function(o){let h="";for(let y=0;y<o.length;++y)h+=String.fromCharCode(o[y]);return h}(e);return new yn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const pr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(i){if(zn(!!i),"string"==typeof i){let e=0;const r=pr.exec(i);if(zn(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ir(i.seconds),nanos:ir(i.nanos)}}function ir(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ps(i){return"string"==typeof i?yn.fromBase64String(i):yn.fromUint8Array(i)}function Fi(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ca(i){const e=i.mapValue.fields.__previous_value__;return Fi(e)?ca(e):e}function ho(i){const e=Or(i.mapValue.fields.__local_write_time__.timestampValue);return new O(e.seconds,e.nanos)}class li{constructor(e,r,o,h,y,D,U,ee){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=h,this.ssl=y,this.forceLongPolling=D,this.autoDetectLongPolling=U,this.useFetchStreams=ee}}class Ns{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ns&&e.projectId===this.projectId&&e.database===this.database}}function xa(i){return null==i}function Ra(i){return 0===i&&1/i==-1/0}function md(i){return"number"==typeof i&&Number.isInteger(i)&&!Ra(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class kn{constructor(e){this.path=e}static fromPath(e){return new kn(Ie.fromString(e))}static fromName(e){return new kn(Ie.fromString(e).popFirst(5))}static empty(){return new kn(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Ie.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kn(new Ie(e.slice()))}}const hh={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fi(i)?4:10:Qt()}function Ws(i,e){if(i===e)return!0;const r=Ya(i);if(r!==Ya(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ho(i).isEqual(ho(e));case 3:return function(o,h){if("string"==typeof o.timestampValue&&"string"==typeof h.timestampValue&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const y=Or(o.timestampValue),D=Or(h.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,Ps(i.bytesValue).isEqual(Ps(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,h){return ir(o.geoPointValue.latitude)===ir(h.geoPointValue.latitude)&&ir(o.geoPointValue.longitude)===ir(h.geoPointValue.longitude)}(i,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ir(o.integerValue)===ir(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const y=ir(o.doubleValue),D=ir(h.doubleValue);return y===D?Ra(y)===Ra(D):isNaN(y)&&isNaN(D)}return!1}(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:return function(o,h){const y=o.mapValue.fields||{},D=h.mapValue.fields||{};if(I(y)!==I(D))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===D[U]||!Ws(y[U],D[U])))return!1;return!0}(i,e);default:return Qt()}var h}function ri(i,e){return void 0!==(i.values||[]).find(r=>Ws(r,e))}function Li(i,e){if(i===e)return 0;const r=Ya(i),o=Ya(e);if(r!==o)return wr(r,o);switch(r){case 0:return 0;case 1:return wr(i.booleanValue,e.booleanValue);case 2:return function(h,y){const D=ir(h.integerValue||h.doubleValue),U=ir(y.integerValue||y.doubleValue);return D<U?-1:D>U?1:D===U?0:isNaN(D)?isNaN(U)?0:-1:1}(i,e);case 3:return wl(i.timestampValue,e.timestampValue);case 4:return wl(ho(i),ho(e));case 5:return wr(i.stringValue,e.stringValue);case 6:return function(h,y){const D=Ps(h),U=Ps(y);return D.compareTo(U)}(i.bytesValue,e.bytesValue);case 7:return function(h,y){const D=h.split("/"),U=y.split("/");for(let ee=0;ee<D.length&&ee<U.length;ee++){const _e=wr(D[ee],U[ee]);if(0!==_e)return _e}return wr(D.length,U.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,y){const D=wr(ir(h.latitude),ir(y.latitude));return 0!==D?D:wr(ir(h.longitude),ir(y.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,y){const D=h.values||[],U=y.values||[];for(let ee=0;ee<D.length&&ee<U.length;++ee){const _e=Li(D[ee],U[ee]);if(_e)return _e}return wr(D.length,U.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,y){const D=h.fields||{},U=Object.keys(D),ee=y.fields||{},_e=Object.keys(ee);U.sort(),_e.sort();for(let Ge=0;Ge<U.length&&Ge<_e.length;++Ge){const ut=wr(U[Ge],_e[Ge]);if(0!==ut)return ut;const Pt=Li(D[U[Ge]],ee[_e[Ge]]);if(0!==Pt)return Pt}return wr(U.length,_e.length)}(i.mapValue,e.mapValue);default:throw Qt()}}function wl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return wr(i,e);const r=Or(i),o=Or(e),h=wr(r.seconds,o.seconds);return 0!==h?h:wr(r.nanos,o.nanos)}function oo(i){return Il(i)}function Il(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const h=Or(o);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ps(i.bytesValue).toBase64():"referenceValue"in i?kn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let h="[",y=!0;for(const D of o.values||[])y?y=!1:h+=",",h+=Il(D);return h+"]"}(i.arrayValue):"mapValue"in i?function(o){const h=Object.keys(o.fields||{}).sort();let y="{",D=!0;for(const U of h)D?D=!1:y+=",",y+=`${U}:${Il(o.fields[U])}`;return y+"}"}(i.mapValue):Qt();var e}function Go(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xi(i){return!!i&&"integerValue"in i}function fs(i){return!!i&&"arrayValue"in i}function gr(i){return!!i&&"nullValue"in i}function qa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zs(i){return!!i&&"mapValue"in i}function Ma(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return W(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Ma(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ma(i.arrayValue.values[r]);return e}return Object.assign({},i)}class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!zs(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(r)}setAll(e){let r=xt.emptyPath(),o={},h=[];e.forEach((D,U)=>{if(!r.isImmediateParentOf(U)){const ee=this.getFieldsMap(r);this.applyChanges(ee,o,h),o={},h=[],r=U.popLast()}D?o[U.lastSegment()]=Ma(D):h.push(U.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,o,h)}delete(e){const r=this.field(e.popLast());zs(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=r.mapValue.fields[e.get(o)];zs(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,o){W(r,(h,y)=>e[h]=y);for(const h of o)delete e[h]}clone(){return new Dr(Ma(this.value))}}function Oa(i){const e=[];return W(i.fields,(r,o)=>{const h=new xt([r]);if(zs(o)){const y=Oa(o.mapValue).fields;if(0===y.length)e.push(h);else for(const D of y)e.push(h.child(D))}else e.push(h)}),new Tn(e)}class Bi{constructor(e,r,o,h,y,D){this.key=e,this.documentType=r,this.version=o,this.readTime=h,this.data=y,this.documentState=D}static newInvalidDocument(e){return new Bi(e,0,T.min(),T.min(),Dr.empty(),0)}static newFoundDocument(e,r,o){return new Bi(e,1,r,T.min(),o,0)}static newNoDocument(e,r){return new Bi(e,2,r,T.min(),Dr.empty(),0)}static newUnknownDocument(e,r){return new Bi(e,3,r,T.min(),Dr.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Wu=(()=>{class i{constructor(r,o,h,y){this.indexId=r,this.collectionGroup=o,this.fields=h,this.indexState=y}}return i.UNKNOWN_ID=-1,i})();class da{constructor(e,r){this.fieldPath=e,this.kind=r}}class ps{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new ps(0,Pa.min())}}class Pa{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Pa(T.min(),kn.empty(),-1)}}class Za{constructor(e,r=null,o=[],h=[],y=null,D=null,U=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=h,this.limit=y,this.startAt=D,this.endAt=U,this.P=null}}function Cl(i,e=null,r=[],o=[],h=null,y=null,D=null){return new Za(i,e,r,o,h,y,D)}function Ko(i){const e=en(i);if(null===e.P){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>{return(h=o).field.canonicalString()+h.op.toString()+oo(h.value);var h}).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),xa(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>oo(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>oo(o)).join(",")),e.P=r}return e.P}function Qa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!ze(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((r=i.filters[h]).op!==(o=e.filters[h]).op||!r.field.isEqual(o.field)||!Ws(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Rt(i.startAt,e.startAt)&&Rt(i.endAt,e.endAt)}function Zs(i){return kn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class rs extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.v(e,r,o):new fo(e,r,o):"array-contains"===r?new fh(e,o):"in"===r?new qo(e,o):"not-in"===r?new Yl(e,o):"array-contains-any"===r?new V(e,o):new rs(e,r,o)}static v(e,r,o){return"in"===r?new yd(e,o):new Xa(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.V(Li(r,this.value)):null!==r&&Ya(this.value)===Ya(r)&&this.V(Li(r,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fo extends rs{constructor(e,r,o){super(e,r,o),this.key=kn.fromName(o.referenceValue)}matches(e){const r=kn.comparator(e.key,this.key);return this.V(r)}}class yd extends rs{constructor(e,r){super(e,"in",r),this.keys=Yo(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Xa extends rs{constructor(e,r){super(e,"not-in",r),this.keys=Yo(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Yo(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>kn.fromName(o.referenceValue))}class fh extends rs{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fs(r)&&ri(r.arrayValue,this.value)}}class qo extends rs{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&ri(this.value.arrayValue,r)}}class Yl extends rs{constructor(e,r){super(e,"not-in",r)}matches(e){if(ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!ri(this.value.arrayValue,r)}}class V extends rs{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>ri(this.value.arrayValue,o))}}class Z{constructor(e,r){this.position=e,this.inclusive=r}}class pe{constructor(e,r="asc"){this.field=e,this.dir=r}}function ze(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function mt(i,e,r){let o=0;for(let h=0;h<i.position.length;h++){const y=e[h],D=i.position[h];if(o=y.field.isKeyField()?kn.comparator(kn.fromName(D.referenceValue),r.key):Li(D,r.data.field(y.field)),"desc"===y.dir&&(o*=-1),0!==o)break}return o}function Rt(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ws(i.position[r],e.position[r]))return!1;return!0}class Ht{constructor(e,r=null,o=[],h=[],y=null,D="F",U=null,ee=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=h,this.limit=y,this.limitType=D,this.startAt=U,this.endAt=ee,this.D=null,this.C=null}}function On(i,e,r,o,h,y,D,U){return new Ht(i,e,r,o,h,y,D,U)}function An(i){return new Ht(i)}function er(i){return!xa(i.limit)&&"F"===i.limitType}function ui(i){return!xa(i.limit)&&"L"===i.limitType}function ks(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ki(i){for(const e of i.filters)if(e.S())return e.field;return null}function Ri(i){return null!==i.collectionGroup}function po(i){const e=en(i);if(null===e.D){e.D=[];const r=Ki(e),o=ks(e);if(null!==r&&null===o)r.isKeyField()||e.D.push(new pe(r)),e.D.push(new pe(xt.keyField(),"asc"));else{let h=!1;for(const y of e.explicitOrderBy)e.D.push(y),y.field.isKeyField()&&(h=!0);if(!h){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new pe(xt.keyField(),y))}}}return e.D}function Gs(i){const e=en(i);if(!e.C)if("F"===e.limitType)e.C=Cl(e.path,e.collectionGroup,po(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const y of po(e))r.push(new pe(y.field,"desc"===y.dir?"asc":"desc"));const o=e.endAt?new Z(e.endAt.position,!e.endAt.inclusive):null,h=e.startAt?new Z(e.startAt.position,!e.startAt.inclusive):null;e.C=Cl(e.path,e.collectionGroup,r,e.filters,e.limit,o,h)}return e.C}function Na(i,e,r){return new Ht(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Fs(i,e){return Qa(Gs(i),Gs(e))&&i.limitType===e.limitType}function Qs(i){return`${Ko(Gs(i))}|lt:${i.limitType}`}function ql(i){return`Query(target=${function(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${oo(o.value)}`;var o}).join(", ")}]`),xa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(r=>oo(r)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(r=>oo(r)).join(",")),`Target(${e})`}(Gs(i))}; limitType=${i.limitType})`}function Ja(i,e){return e.isFoundDocument()&&function(r,o){const h=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):kn.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(i,e)&&function(r,o){for(const h of r.explicitOrderBy)if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1;return!0}(i,e)&&function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!function(h,y,D){const U=mt(h,y,D);return h.inclusive?U<=0:U<0}(r.startAt,po(r),o)||r.endAt&&!function(h,y,D){const U=mt(h,y,D);return h.inclusive?U>=0:U>0}(r.endAt,po(r),o)));var r,o}function Do(i){return(e,r)=>{let o=!1;for(const h of po(i)){const y=zu(h,e,r);if(0!==y)return y;o=o||h.field.isKeyField()}return 0}}function zu(i,e,r){const o=i.field.isKeyField()?kn.comparator(e.key,r.key):function(h,y,D){const U=y.data.field(h),ee=D.data.field(h);return null!==U&&null!==ee?Li(U,ee):Qt()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Qt()}}function yu(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ra(e)?"-0":e}}function Dl(i){return{integerValue:""+i}}function Tl(i,e){return md(e)?Dl(e):yu(i,e)}class Sl{constructor(){this._=void 0}}function Zl(i,e,r){return i instanceof _u?function(o,h){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&(y.fields.__previous_value__=h),{mapValue:y}}(r,e):i instanceof vu?Al(i,e):i instanceof Ql?Tc(i,e):function(o,h){const y=go(o,h),D=Eu(y)+Eu(o.k);return xi(y)&&xi(o.k)?Dl(D):yu(o.O,D)}(i,e)}function ha(i,e,r){return i instanceof vu?Al(i,e):i instanceof Ql?Tc(i,e):r}function go(i,e){return i instanceof el?xi(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class _u extends Sl{}class vu extends Sl{constructor(e){super(),this.elements=e}}function Al(i,e){const r=_d(e);for(const o of i.elements)r.some(h=>Ws(h,o))||r.push(o);return{arrayValue:{values:r}}}class Ql extends Sl{constructor(e){super(),this.elements=e}}function Tc(i,e){let r=_d(e);for(const o of i.elements)r=r.filter(h=>!Ws(h,o));return{arrayValue:{values:r}}}class el extends Sl{constructor(e,r){super(),this.O=e,this.k=r}}function Eu(i){return ir(i.integerValue||i.doubleValue)}function _d(i){return fs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class fa{constructor(e,r){this.field=e,this.transform=r}}class xl{constructor(e,r){this.version=e,this.transformResults=r}}class ws{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _i(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class mo{}function Rl(i,e,r){i instanceof Ml?function(o,h,y){const D=o.value.clone(),U=Jl(o.fieldTransforms,h,y.transformResults);D.setAll(U),h.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(i,e,r):i instanceof To?function(o,h,y){if(!_i(o.precondition,h))return void h.convertToUnknownDocument(y.version);const D=Jl(o.fieldTransforms,h,y.transformResults),U=h.data;U.setAll(Sc(o)),U.setAll(D),h.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Xl(i,e,r){var h;i instanceof Ml?function(o,h,y){if(!_i(o.precondition,h))return;const D=o.value.clone(),U=Ed(o.fieldTransforms,y,h);D.setAll(U),h.convertToFoundDocument(nl(h),D).setHasLocalMutations()}(i,e,r):i instanceof To?function(o,h,y){if(!_i(o.precondition,h))return;const D=Ed(o.fieldTransforms,y,h),U=h.data;U.setAll(Sc(o)),U.setAll(D),h.convertToFoundDocument(nl(h),U).setHasLocalMutations()}(i,e,r):_i(i.precondition,h=e)&&h.convertToNoDocument(T.min())}function vd(i,e){let r=null;for(const o of i.fieldTransforms){const h=e.data.field(o.field),y=go(o.transform,h||null);null!=y&&(null==r&&(r=Dr.empty()),r.set(o.field,y))}return r||null}function Gu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&zo(r,o,(h,y)=>function(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof vu&&o instanceof vu||r instanceof Ql&&o instanceof Ql?zo(r.elements,o.elements,Ws):r instanceof el&&o instanceof el?Ws(r.k,o.k):r instanceof _u&&o instanceof _u);var r,o}(h,y))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function nl(i){return i.isFoundDocument()?i.version:T.min()}class Ml extends mo{constructor(e,r,o,h=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=h,this.type=0}}class To extends mo{constructor(e,r,o,h,y=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=h,this.fieldTransforms=y,this.type=1}}function Sc(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function Jl(i,e,r){const o=new Map;zn(i.length===r.length);for(let h=0;h<r.length;h++){const y=i[h],D=y.transform,U=e.data.field(y.field);o.set(y.field,ha(D,U,r[h]))}return o}function Ed(i,e,r){const o=new Map;for(const h of i){const y=h.transform,D=r.data.field(h.field);o.set(h.field,Zl(y,D,e))}return o}class ka extends mo{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Fa extends mo{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class eu{constructor(e){this.count=e}}var Is,ei;function ff(i){switch(i){default:return Qt();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}function bd(i){if(void 0===i)return zi("GRPC error has no .code"),At.UNKNOWN;switch(i){case Is.OK:return At.OK;case Is.CANCELLED:return At.CANCELLED;case Is.UNKNOWN:return At.UNKNOWN;case Is.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case Is.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case Is.INTERNAL:return At.INTERNAL;case Is.UNAVAILABLE:return At.UNAVAILABLE;case Is.UNAUTHENTICATED:return At.UNAUTHENTICATED;case Is.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case Is.NOT_FOUND:return At.NOT_FOUND;case Is.ALREADY_EXISTS:return At.ALREADY_EXISTS;case Is.PERMISSION_DENIED:return At.PERMISSION_DENIED;case Is.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case Is.ABORTED:return At.ABORTED;case Is.OUT_OF_RANGE:return At.OUT_OF_RANGE;case Is.UNIMPLEMENTED:return At.UNIMPLEMENTED;case Is.DATA_LOSS:return At.DATA_LOSS;default:return Qt()}}(ei=Is||(Is={}))[ei.OK=0]="OK",ei[ei.CANCELLED=1]="CANCELLED",ei[ei.UNKNOWN=2]="UNKNOWN",ei[ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ei[ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ei[ei.NOT_FOUND=5]="NOT_FOUND",ei[ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",ei[ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",ei[ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",ei[ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ei[ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ei[ei.ABORTED=10]="ABORTED",ei[ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",ei[ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",ei[ei.INTERNAL=13]="INTERNAL",ei[ei.UNAVAILABLE=14]="UNAVAILABLE",ei[ei.DATA_LOSS=15]="DATA_LOSS";class Cs{constructor(e,r){this.comparator=e,this.root=r||Ds.EMPTY}insert(e,r){return new Cs(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(e){return new Cs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return r+o.left.size;h<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,r,o,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?o(e.key,r):1,h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ds{constructor(e,r,o,h,y){this.key=e,this.value=r,this.color=null!=o?o:Ds.RED,this.left=null!=h?h:Ds.EMPTY,this.right=null!=y?y:Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,h,y){return new Ds(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=h?h:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let h=this;const y=o(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,r,o),null):0===y?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Ds.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qt();const e=this.left.check();if(e!==this.right.check())throw Qt();return e+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt()}get value(){throw Qt()}get color(){throw Qt()}get left(){throw Qt()}get right(){throw Qt()}copy(i,e,r,o,h){return this}insert(i,e,r){return new Ds(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zi{constructor(e){this.comparator=e,this.data=new Cs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ph(this.data.getIterator())}getIteratorFrom(e){return new ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Zi)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=o.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Zi(this.comparator);return r.data=e,r}}class ph{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bu(i){return i.hasNext()?i.getNext():void 0}const yp=new Cs(kn.comparator);function A(){return yp}const m=new Cs(kn.comparator);function v(){return m}const k=new Cs(kn.comparator),oe=new Zi(kn.comparator);function Ce(...i){let e=oe;for(const r of i)e=e.add(r);return e}const Dt=new Zi(wr);function Yt(){return Dt}class Vn{constructor(e,r,o,h,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,cr.createSynthesizedTargetChangeForCurrentChange(e,r)),new Vn(T.min(),o,Yt(),A(),Ce())}}class cr{constructor(e,r,o,h,y){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r){return new cr(yn.EMPTY_BYTE_STRING,r,Ce(),Ce(),Ce())}}class zr{constructor(e,r,o,h){this.M=e,this.removedTargetIds=r,this.key=o,this.$=h}}class Qi{constructor(e,r){this.targetId=e,this.F=r}}class So{constructor(e,r,o=yn.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=h}}class Vo{constructor(){this.B=0,this.L=wd(),this.U=yn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ce(),r=Ce(),o=Ce();return this.L.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:o=o.add(h);break;default:Qt()}}),new cr(this.U,this.q,e,r,o)}J(){this.K=!1,this.L=wd()}Y(e,r){this.K=!0,this.L=this.L.insert(e,r)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class wu{constructor(e){this.nt=e,this.st=new Map,this.it=A(),this.rt=gh(),this.ot=new Zi(wr)}ct(e){for(const r of e.M)e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$);for(const r of e.removedTargetIds)this.at(r,e.key,e.$)}ht(e){this.forEachTarget(e,r=>{const o=this.lt(r);switch(e.state){case 0:this.ft(r)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(r);break;case 3:this.ft(r)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(r)&&(this.dt(r),o.W(e.resumeToken));break;default:Qt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.st.forEach((o,h)=>{this.ft(h)&&r(h)})}_t(e){const r=e.targetId,o=e.F.count,h=this.wt(r);if(h){const y=h.target;if(Zs(y))if(0===o){const D=new kn(y.path);this.at(r,D,Bi.newNoDocument(D,T.min()))}else zn(1===o);else this.gt(r)!==o&&(this.dt(r),this.ot=this.ot.add(r))}}yt(e){const r=new Map;this.st.forEach((y,D)=>{const U=this.wt(D);if(U){if(y.current&&Zs(U.target)){const ee=new kn(U.target.path);null!==this.it.get(ee)||this.It(D,ee)||this.at(D,ee,Bi.newNoDocument(ee,e))}y.j&&(r.set(D,y.H()),y.J())}});let o=Ce();this.rt.forEach((y,D)=>{let U=!0;D.forEachWhile(ee=>{const _e=this.wt(ee);return!_e||2===_e.purpose||(U=!1,!1)}),U&&(o=o.add(y))}),this.it.forEach((y,D)=>D.setReadTime(e));const h=new Vn(e,r,this.ot,this.it,o);return this.it=A(),this.rt=gh(),this.ot=new Zi(wr),h}ut(e,r){if(!this.ft(e))return;const o=this.It(e,r.key)?2:0;this.lt(e).Y(r.key,o),this.it=this.it.insert(r.key,r),this.rt=this.rt.insert(r.key,this.Et(r.key).add(e))}at(e,r,o){if(!this.ft(e))return;const h=this.lt(e);this.It(e,r)?h.Y(r,1):h.X(r),this.rt=this.rt.insert(r,this.Et(r).delete(e)),o&&(this.it=this.it.insert(r,o))}removeTarget(e){this.st.delete(e)}gt(e){const r=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let r=this.st.get(e);return r||(r=new Vo,this.st.set(e,r)),r}Et(e){let r=this.rt.get(e);return r||(r=new Zi(wr),this.rt=this.rt.insert(e,r)),r}ft(e){const r=null!==this.wt(e);return r||Jt("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.st.get(e);return r&&r.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new Vo),this.nt.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}It(e,r){return this.nt.getRemoteKeysForTarget(e).has(r)}}function gh(){return new Cs(kn.comparator)}function wd(){return new Cs(kn.comparator)}const Id={asc:"ASCENDING",desc:"DESCENDING"},Cd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Iu{constructor(e,r){this.databaseId=e,this.N=r}}function Ol(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ac(i,e){return i.N?e.toBase64():e.toUint8Array()}function xc(i,e){return Ol(i,e.toTimestamp())}function is(i){return zn(!!i),T.fromTimestamp(function(e){const r=Or(e);return new O(r.seconds,r.nanos)}(i))}function Yu(i,e){return(r=i,new Ie(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Cu(i){const e=Ie.fromString(i);return zn(Pl(e)),e}function qu(i,e){return Yu(i.databaseId,e.path)}function Mi(i,e){const r=Cu(e);if(r.get(1)!==i.databaseId.projectId)throw new Wt(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Wt(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new kn(gf(r))}function pf(i,e){return Yu(i.databaseId,e)}function _p(i){const e=Cu(i);return 4===e.length?Ie.emptyPath():gf(e)}function Zu(i){return new Ie(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gf(i){return zn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function mf(i,e,r){return{name:qu(i,e),fields:r.value.mapValue.fields}}function vp(i,e,r){const o=Mi(i,e.name),h=is(e.updateTime),y=new Dr({mapValue:{fields:e.fields}}),D=Bi.newFoundDocument(o,h,y);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function Dd(i,e){let r;if(e instanceof Ml)r={update:mf(i,e.key,e.value)};else if(e instanceof ka)r={delete:qu(i,e.key)};else if(e instanceof To)r={update:mf(i,e.key,e.data),updateMask:Ip(e.fieldMask)};else{if(!(e instanceof Fa))return Qt();r={verify:qu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(h,y){const D=y.transform;if(D instanceof _u)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof vu)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Ql)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof el)return{fieldPath:y.field.canonicalString(),increment:D.k};throw Qt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:xc(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Qt()),r;var h}function yf(i,e){const r=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?ws.updateTime(is(h.updateTime)):void 0!==h.exists?ws.exists(h.exists):ws.none():ws.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(y,D){let U=null;"setToServerValue"in D?(zn("REQUEST_TIME"===D.setToServerValue),U=new _u):"appendMissingElements"in D?U=new vu(D.appendMissingElements.values||[]):"removeAllFromArray"in D?U=new Ql(D.removeAllFromArray.values||[]):"increment"in D?U=new el(y,D.increment):Qt();const ee=xt.fromServerFormat(D.fieldPath);return new fa(ee,U)}(i,h)):[];var h;if(e.update){const h=Mi(i,e.update.name),y=new Dr({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Tn((e.updateMask.fieldPaths||[]).map(_e=>xt.fromServerFormat(_e)));return new To(h,y,D,r,o)}return new Ml(h,y,r,o)}if(e.delete){const h=Mi(i,e.delete);return new ka(h,r)}if(e.verify){const h=Mi(i,e.verify);return new Fa(h,r)}return Qt()}function Qu(i,e){return{documents:[pf(i,e.path)]}}function Ao(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=pf(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=pf(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(ee){if(0===ee.length)return;const _e=ee.map(Ge=>function(ut){if("=="===ut.op){if(qa(ut.value))return{unaryFilter:{field:Du(ut.field),op:"IS_NAN"}};if(gr(ut.value))return{unaryFilter:{field:Du(ut.field),op:"IS_NULL"}}}else if("!="===ut.op){if(qa(ut.value))return{unaryFilter:{field:Du(ut.field),op:"IS_NOT_NAN"}};if(gr(ut.value))return{unaryFilter:{field:Du(ut.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(ut.field),op:Sd(ut.op),value:ut.value}}}(Ge));return 1===_e.length?_e[0]:{compositeFilter:{op:"AND",filters:_e}}}(e.filters);h&&(r.structuredQuery.where=h);const y=function(ee){if(0!==ee.length)return ee.map(_e=>{return{field:Du((Ge=_e).field),direction:yo(Ge.dir)};var Ge})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const D=(_e=e.limit,i.N||xa(_e)?_e:{value:_e});var _e,U,ee;return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(r.structuredQuery.endAt={before:!(ee=e.endAt).inclusive,values:ee.position}),r}function mh(i){let e=_p(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let h=null;if(o>0){zn(1===o);const Ge=r.from[0];Ge.allDescendants?h=Ge.collectionId:e=e.child(Ge.collectionId)}let y=[];r.where&&(y=Td(r.where));let D=[];r.orderBy&&(D=r.orderBy.map(Ge=>{return new pe(Xu((ut=Ge).field),function(Pt){switch(Pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ut.direction));var ut}));let U=null;r.limit&&(U=function(Ge){let ut;return ut="object"==typeof Ge?Ge.value:Ge,xa(ut)?null:ut}(r.limit));let ee=null;var Ge;r.startAt&&(ee=new Z((Ge=r.startAt).values||[],!!Ge.before));let _e=null;return r.endAt&&(_e=function(Ge){return new Z(Ge.values||[],!Ge.before)}(r.endAt)),On(e,h,D,y,U,"F",ee,_e)}function Td(i){return i?void 0!==i.unaryFilter?[vf(i)]:void 0!==i.fieldFilter?[Tu(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Td(e)).reduce((e,r)=>e.concat(r)):Qt():[]}function yo(i){return Id[i]}function Sd(i){return Cd[i]}function Du(i){return{fieldPath:i.canonicalString()}}function Xu(i){return xt.fromServerFormat(i.fieldPath)}function Tu(i){return rs.create(Xu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qt()}}(i.fieldFilter.op),i.fieldFilter.value)}function vf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Xu(i.unaryFilter.field);return rs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Xu(i.unaryFilter.field);return rs.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xu(i.unaryFilter.field);return rs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xu(i.unaryFilter.field);return rs.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Qt()}}function Ip(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Pl(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ls(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Cp(e)),e=Ad(i.get(r),e);return Cp(e)}function Ad(i,e){let r=e;const o=i.length;for(let h=0;h<o;h++){const y=i.charAt(h);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function Cp(i){return i+"\x01\x01"}function Nl(i){const e=i.length;if(zn(e>=2),2===e)return zn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ie.emptyPath();const r=e-2,o=[];let h="";for(let y=0;y<e;){const D=i.indexOf("\x01",y);switch((D<0||D>r)&&Qt(),i.charAt(D+1)){case"\x01":const U=i.substring(y,D);let ee;0===h.length?ee=U:(h+=U,ee=h,h=""),o.push(ee);break;case"\x10":h+=i.substring(y,D),h+="\0";break;case"\x11":h+=i.substring(y,D+1);break;default:Qt()}y=D+2}return new Ie(o)}class Og{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class xo{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}xo.store="owner",xo.key="owner";class kl{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}kl.store="mutationQueues",kl.keyPath="userId";class ss{constructor(e,r,o,h,y){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=h,this.mutations=y}}ss.store="mutations",ss.keyPath="batchId",ss.userMutationsIndex="userMutationsIndex",ss.userMutationsKeyPath=["userId","batchId"];class Ts{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,Ls(r)]}static key(e,r,o){return[e,Ls(r),o]}}Ts.store="documentMutations",Ts.PLACEHOLDER=new Ts;class Ju{constructor(e,r){this.path=e,this.readTime=r}}class Pg{constructor(e,r){this.path=e,this.version=r}}class Ss{constructor(e,r,o,h,y,D){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=h,this.readTime=y,this.parentPath=D}}Ss.store="remoteDocuments",Ss.readTimeIndex="readTimeIndex",Ss.readTimeIndexPath="readTime",Ss.collectionReadTimeIndex="collectionReadTimeIndex",Ss.collectionReadTimeIndexPath=["parentPath","readTime"];class Zo{constructor(e){this.byteSize=e}}Zo.store="remoteDocumentGlobal",Zo.key="remoteDocumentGlobalKey";class Ro{constructor(e,r,o,h,y,D,U){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=h,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=D,this.query=U}}Ro.store="targets",Ro.keyPath="targetId",Ro.queryTargetsIndexName="queryTargetsIndex",Ro.queryTargetsKeyPath=["canonicalId","targetId"];class _o{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}_o.store="targetDocuments",_o.keyPath=["targetId","path"],_o.documentTargetsIndex="documentTargetsIndex",_o.documentTargetsKeyPath=["path","targetId"];class pa{constructor(e,r,o,h){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=h}}pa.key="targetGlobalKey",pa.store="targetGlobal";class Su{constructor(e,r){this.collectionId=e,this.parent=r}}Su.store="collectionParents",Su.keyPath=["collectionId","parent"];class La{constructor(e,r,o,h){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=h}}La.store="clientMetadata",La.keyPath="clientId";class ec{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}ec.store="bundles",ec.keyPath="bundleId";class rl{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}rl.store="namedQueries",rl.keyPath="name";class Qo{constructor(e,r,o){this.indexId=e,this.collectionGroup=r,this.fields=o}}Qo.store="indexConfiguration",Qo.keyPath="indexId",Qo.collectionGroupIndex="collectionGroupIndex",Qo.collectionGroupIndexPath="collectionGroup";class ga{constructor(e,r,o,h,y,D){this.indexId=e,this.uid=r,this.sequenceNumber=o,this.readTime=h,this.documentKey=y,this.largestBatchId=D}}ga.store="indexState",ga.keyPath=["indexId","uid"],ga.sequenceNumberIndex="sequenceNumberIndex",ga.sequenceNumberIndexPath=["uid","sequenceNumber"];class ma{constructor(e,r,o,h,y){this.indexId=e,this.uid=r,this.arrayValue=o,this.directionalValue=h,this.documentKey=y}}ma.store="indexEntries",ma.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ma.documentKeyIndex="documentKeyIndex",ma.documentKeyIndexPath=["indexId","uid","documentKey"];class As{constructor(e,r,o,h,y,D){this.userId=e,this.collectionPath=r,this.documentId=o,this.collectionGroup=h,this.largestBatchId=y,this.overlayMutation=D}}As.store="documentOverlays",As.keyPath=["userId","collectionPath","documentId"],As.collectionPathOverlayIndex="collectionPathOverlayIndex",As.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],As.collectionGroupOverlayIndex="collectionGroupOverlayIndex",As.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const xd=[kl.store,ss.store,Ts.store,Ss.store,Ro.store,xo.store,pa.store,_o.store,La.store,Zo.store,Su.store,ec.store,rl.store],yh=[...xd,As.store],Ef=[...yh,Qo.store,ga.store,ma.store],tu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Vt((o,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(o,h)},this.catchCallback=y=>{this.wrapFailure(r,y).next(o,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Vt?r:Vt.resolve(r)}catch(r){return Vt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Vt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Vt.reject(r)}static resolve(e){return new Vt((r,o)=>{r(e)})}static reject(e){return new Vt((r,o)=>{o(e)})}static waitFor(e){return new Vt((r,o)=>{let h=0,y=0,D=!1;e.forEach(U=>{++h,U.next(()=>{++y,D&&y===h&&r()},ee=>o(ee))}),D=!0,y===h&&r()})}static or(e){let r=Vt.resolve(!1);for(const o of e)r=r.next(h=>h?Vt.resolve(h):o());return r}static forEach(e,r){const o=[];return e.forEach((h,y)=>{o.push(r.call(this,h,y))}),this.waitFor(o)}}class bf{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.At=new ki,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{r.error?this.At.reject(new Mo(e,r.error)):this.At.resolve()},this.transaction.onerror=o=>{const h=tc(o.target.error);this.At.reject(new Mo(e,h))}}static open(e,r,o,h){try{return new bf(r,e.transaction(h,o))}catch(y){throw new Mo(r,y)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Jt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new wf(r)}}class Ba{constructor(e,r,o){this.name=e,this.version=r,this.bt=o,12.2===Ba.vt((0,ye.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Jt("SimpleDb","Removing database:",e),Au(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,ye.hl)())return!1;if(Ba.St())return!0;const e=(0,ye.z$)(),r=Ba.vt(e),o=0<r&&r<10,h=Ba.Dt(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||y)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,r){return e.store(r)}static vt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}xt(e){var r=this;return(0,u.Z)(function*(){return r.db||(Jt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,h)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=D=>{o(D.target.result)},y.onblocked=()=>{h(new Mo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=D=>{const U=D.target.error;h("VersionError"===U.name?new Wt(At.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new Wt(At.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new Mo(e,U))},y.onupgradeneeded=D=>{Jt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',D.oldVersion),r.bt.kt(D.target.result,y.transaction,D.oldVersion,r.version).next(()=>{Jt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Ot&&(r.db.onversionchange=o=>r.Ot(o)),r.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,h){var y=this;return(0,u.Z)(function*(){const D="readonly"===r;let U=0;for(;;){++U;try{y.db=yield y.xt(e);const ee=bf.open(y.db,e,D?"readonly":"readwrite",o),_e=h(ee).next(Ge=>(ee.Pt(),Ge)).catch(Ge=>(ee.abort(Ge),Vt.reject(Ge))).toPromise();return _e.catch(()=>{}),yield ee.Rt,_e}catch(ee){const _e="FirebaseError"!==ee.name&&U<3;if(Jt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",_e),y.close(),!_e)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $m{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Au(this.$t.delete())}}class Mo extends Wt{constructor(e,r){super(At.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function sl(i){return"IndexedDbTransactionError"===i.name}class wf{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Jt("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Jt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Au(o)}add(e){return Jt("SimpleDb","ADD",this.store.name,e,e),Au(this.store.add(e))}get(e){return Au(this.store.get(e)).next(r=>(void 0===r&&(r=null),Jt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Jt("SimpleDb","DELETE",this.store.name,e),Au(this.store.delete(e))}count(){return Jt("SimpleDb","COUNT",this.store.name),Au(this.store.count())}qt(e,r){const o=this.options(e,r);if(o.index||"function"!=typeof this.store.getAll){const h=this.cursor(o),y=[];return this.Kt(h,(D,U)=>{y.push(U)}).next(()=>y)}{const h=this.store.getAll(o.range);return new Vt((y,D)=>{h.onerror=U=>{D(U.target.error)},h.onsuccess=U=>{y(U.target.result)}})}}Gt(e,r){Jt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.jt=!1;const h=this.cursor(o);return this.Kt(h,(y,D,U)=>U.delete())}Qt(e,r){let o;r?o=e:(o={},r=e);const h=this.cursor(o);return this.Kt(h,r)}Wt(e){const r=this.cursor({});return new Vt((o,h)=>{r.onerror=y=>{const D=tc(y.target.error);h(D)},r.onsuccess=y=>{const D=y.target.result;D?e(D.primaryKey,D.value).next(U=>{U?D.continue():o()}):o()}})}Kt(e,r){const o=[];return new Vt((h,y)=>{e.onerror=D=>{y(D.target.error)},e.onsuccess=D=>{const U=D.target.result;if(!U)return void h();const ee=new $m(U),_e=r(U.primaryKey,U.value,ee);if(_e instanceof Vt){const Ge=_e.catch(ut=>(ee.done(),Vt.reject(ut)));o.push(Ge)}ee.isDone?h():null===ee.Lt?U.continue():U.continue(ee.Lt)}}).next(()=>Vt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Au(i){return new Vt((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const h=tc(o.target.error);r(h)}})}let If=!1;function tc(i){const e=Ba.vt((0,ye.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new Wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return If||(If=!0,setTimeout(()=>{throw o},0)),o}}return i}class _h extends il{constructor(e,r){super(),this.zt=e,this.currentSequenceNumber=r}}function Bs(i,e){const r=en(i);return Ba.Nt(r.zt,e)}class nc{constructor(e,r,o,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Rl(y,e,o[h])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&Xl(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&Xl(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),h=o;this.applyToLocalView(h),o.isValidDocument()||h.convertToNoDocument(T.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ce())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(r,o)=>Gu(r,o))&&zo(this.baseMutations,e.baseMutations,(r,o)=>Gu(r,o))}}class rc{constructor(e,r,o,h){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=h}static from(e,r,o){zn(e.mutations.length===o.length);let h=k;const y=e.mutations;for(let D=0;D<y.length;D++)h=h.insert(y[D].key,o[D].version);return new rc(e,r,o,h)}}class ic{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ya{constructor(e,r,o,h,y=T.min(),D=T.min(),U=yn.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=U}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nu{constructor(e){this.Ht=e}}function Rd(i,e){let r;if(e.document)r=vp(i.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=kn.fromSegments(e.noDocument.path),h=ol(e.noDocument.readTime);r=Bi.newNoDocument(o,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qt();{const o=kn.fromSegments(e.unknownDocument.path),h=ol(e.unknownDocument.version);r=Bi.newUnknownDocument(o,h)}}return e.readTime&&r.setReadTime(Mc(e.readTime)),r}function Cf(i,e){const r=Rc(e.readTime),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const h={name:qu(D=i.Ht,(U=e).key),fields:U.data.value.mapValue.fields,updateTime:Ol(D,U.version.toTimestamp())};return new Ss(null,null,h,e.hasCommittedMutations,r,o)}var D,U;if(e.isNoDocument()){const h=e.key.path.toArray(),y=sc(e.version),D=e.hasCommittedMutations;return new Ss(null,new Ju(h,y),null,D,r,o)}if(e.isUnknownDocument()){const h=e.key.path.toArray(),y=sc(e.version);return new Ss(new Pg(h,y),null,null,!0,r,o)}return Qt()}function Rc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Mc(i){const e=new O(i[0],i[1]);return T.fromTimestamp(e)}function sc(i){const e=i.toTimestamp();return new Og(e.seconds,e.nanoseconds)}function ol(i){const e=new O(i.seconds,i.nanoseconds);return T.fromTimestamp(e)}function xu(i,e){const r=(e.baseMutations||[]).map(y=>yf(i.Ht,y));for(let y=0;y<e.mutations.length-1;++y){const D=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(D.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const o=e.mutations.map(y=>yf(i.Ht,y)),h=O.fromMillis(e.localWriteTimeMs);return new nc(e.batchId,h,r,o)}function Md(i){const e=ol(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?ol(i.lastLimboFreeSnapshotVersion):T.min();let o;var h;return void 0!==i.query.documents?(zn(1===(h=i.query).documents.length),o=Gs(An(_p(h.documents[0])))):o=Gs(mh(i.query)),new ya(o,i.targetId,0,i.lastListenSequenceNumber,e,r,yn.fromBase64String(i.resumeToken))}function Dp(i,e){const r=sc(e.snapshotVersion),o=sc(e.lastLimboFreeSnapshotVersion);let h;h=Zs(e.target)?Qu(i.Ht,e.target):Ao(i.Ht,e.target);const y=e.resumeToken.toBase64();return new Ro(e.targetId,Ko(e.target),r,y,e.sequenceNumber,o,h)}function Df(i){const e=mh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Na(e,e.limit,"L"):e}function Oc(i,e){return new ic(e.largestBatchId,yf(i.Ht,e.overlayMutation))}function oc(i,e){const r=e.path.lastSegment();return[i,Ls(e.path.popLast()),r]}class Tf{getBundleMetadata(e,r){return vh(e).get(r).next(o=>{if(o)return{id:(h=o).bundleId,createTime:ol(h.createTime),version:h.version};var h})}saveBundleMetadata(e,r){return vh(e).put({bundleId:(o=r).id,createTime:sc(is(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Pc(e).get(r).next(o=>{if(o)return{name:(h=o).name,query:Df(h.bundledQuery),readTime:ol(h.readTime)};var h})}saveNamedQuery(e,r){return Pc(e).put({name:(o=r).name,readTime:sc(is(o.readTime)),bundledQuery:o.bundledQuery});var o}}function vh(i){return Bs(i,ec.store)}function Pc(i){return Bs(i,rl.store)}class Va{constructor(e,r){this.O=e,this.userId=r}static Jt(e,r){return new Va(e,r.uid||"")}getOverlay(e,r){return Fl(e).get(oc(this.userId,r)).next(o=>o?Oc(this.O,o):null)}saveOverlays(e,r,o){const h=[];return o.forEach(y=>{const D=new ic(r,y);h.push(this.Yt(e,D))}),Vt.waitFor(h)}removeOverlaysForBatchId(e,r,o){const h=new Set;r.forEach(D=>h.add(Ls(D.getCollectionPath())));const y=[];return h.forEach(D=>{const U=IDBKeyRange.bound([this.userId,D,o],[this.userId,D,o+1],!1,!0);y.push(Fl(e).Gt(As.collectionPathOverlayIndex,U))}),Vt.waitFor(y)}getOverlaysForCollection(e,r,o){const h=new Map,y=Ls(r),D=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Fl(e).qt(As.collectionPathOverlayIndex,D).next(U=>{for(const ee of U){const _e=Oc(this.O,ee);h.set(_e.getKey(),_e)}return h})}getOverlaysForCollectionGroup(e,r,o,h){const y=new Map;let D;const U=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Fl(e).Qt({index:As.collectionGroupOverlayIndex,range:U},(ee,_e,Ge)=>{const ut=Oc(this.O,_e);y.size<h||ut.largestBatchId===D?(y.set(ut.getKey(),ut),D=ut.largestBatchId):Ge.done()}).next(()=>y)}Yt(e,r){return Fl(e).put(function(o,h,y){const[D,U,ee]=oc(h,y.mutation.key);return new As(h,U,ee,y.mutation.key.getCollectionGroup(),y.largestBatchId,Dd(o.Ht,y.mutation))}(this.O,this.userId,r))}}function Fl(i){return Bs(i,As.store)}class Od{constructor(){}Xt(e,r){this.Zt(e,r),r.te()}Zt(e,r){if("nullValue"in e)this.ee(r,5);else if("booleanValue"in e)this.ee(r,10),r.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(r,15),r.ne(ir(e.integerValue));else if("doubleValue"in e){const o=ir(e.doubleValue);isNaN(o)?this.ee(r,13):(this.ee(r,15),Ra(o)?r.ne(0):r.ne(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ee(r,20),"string"==typeof o?r.se(o):(r.se(`${o.seconds||""}`),r.ne(o.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,r),this.re(r);else if("bytesValue"in e)this.ee(r,30),r.oe(Ps(e.bytesValue)),this.re(r);else if("referenceValue"in e)this.ce(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.ee(r,45),r.ne(o.latitude||0),r.ne(o.longitude||0)}else"mapValue"in e?Ws(e,hh)?this.ee(r,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,r),this.re(r)):"arrayValue"in e?(this.ae(e.arrayValue,r),this.re(r)):Qt()}ie(e,r){this.ee(r,25),this.he(e,r)}he(e,r){r.se(e)}ue(e,r){const o=e.fields||{};this.ee(r,55);for(const h of Object.keys(o))this.ie(h,r),this.Zt(o[h],r)}ae(e,r){const o=e.values||[];this.ee(r,50);for(const h of o)this.Zt(h,r)}ce(e,r){this.ee(r,37),kn.fromName(e).path.forEach(o=>{this.ee(r,60),this.he(o,r)})}ee(e,r){e.ne(r)}re(e){e.ne(2)}}function Ru(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Pd(i){const e=64-function(r){let o=0;for(let h=0;h<8;++h){const y=Ru(255&r[h]);if(o+=y,8!==y)break}return o}(i);return Math.ceil(e/8)}Od.le=new Od;class Nc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.de(o.value),o=r.next();this._e()}we(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.me(o.value),o=r.next();this.ge()}ye(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.de(o);else if(o<2048)this.de(960|o>>>6),this.de(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.de(480|o>>>12),this.de(128|63&o>>>6),this.de(128|63&o);else{const h=r.codePointAt(0);this.de(240|h>>>18),this.de(128|63&h>>>12),this.de(128|63&h>>>6),this.de(128|63&h)}}this._e()}pe(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.me(o);else if(o<2048)this.me(960|o>>>6),this.me(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.me(480|o>>>12),this.me(128|63&o>>>6),this.me(128|63&o);else{const h=r.codePointAt(0);this.me(240|h>>>18),this.me(128|63&h>>>12),this.me(128|63&h>>>6),this.me(128|63&h)}}this.ge()}Ie(e){const r=this.Ee(e),o=Pd(r);this.Te(1+o),this.buffer[this.position++]=255&o;for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Ae(e){const r=this.Ee(e),o=Pd(r);this.Te(1+o),this.buffer[this.position++]=~(255&o);for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const r=function(h){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,h,!1),new Uint8Array(y.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let h=1;h<r.length;++h)r[h]^=o?255:0;return r}de(e){const r=255&e;0===r?(this.Pe(0),this.Pe(255)):255===r?(this.Pe(255),this.Pe(0)):this.Pe(r)}me(e){const r=255&e;0===r?(this.ve(0),this.ve(255)):255===r?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Nd{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class Eh{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class _a{constructor(){this.Se=new Nc,this.De=new Nd(this.Se),this.Ce=new Eh(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class kd{constructor(e,r,o,h){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=h}}function bh(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=kn.comparator(i.documentKey,e.documentKey),0!==r?r:(r=kc(i.arrayValue,e.arrayValue),0!==r?r:kc(i.directionalValue,e.directionalValue)))}function kc(i,e){for(let r=0;r<i.length&&r<e.length;++r){const o=i[r]-e[r];if(0!==o)return o}return i.length-e.length}class Fd{constructor(){this.xe=new $o}addToCollectionParentIndex(e,r){return this.xe.add(r),Vt.resolve()}getCollectionParents(e,r){return Vt.resolve(this.xe.getEntries(r))}addFieldIndex(e,r){return Vt.resolve()}deleteFieldIndex(e,r){return Vt.resolve()}getDocumentsMatchingTarget(e,r,o){return Vt.resolve(Ce())}getFieldIndex(e,r){return Vt.resolve(null)}getFieldIndexes(e,r){return Vt.resolve([])}getNextCollectionGroupToUpdate(e){return Vt.resolve(null)}updateCollectionGroup(e,r,o){return Vt.resolve()}updateIndexEntries(e,r){return Vt.resolve()}}class $o{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r]||new Zi(Ie.comparator),y=!h.has(o);return this.index[r]=h.add(o),y}has(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r];return h&&h.has(o)}getEntries(e){return(this.index[e]||new Zi(Ie.comparator)).toArray()}}class Ld{constructor(e){this.user=e,this.ke=new $o,this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.ke.has(r)){const o=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.ke.add(r)});const y={collectionId:o,parent:Ls(h)};return Bd(e).put(y)}return Vt.resolve()}getCollectionParents(e,r){const o=[],h=IDBKeyRange.bound([r,""],[ua(r),""],!1,!0);return Bd(e).qt(h).next(y=>{for(const D of y){if(D.collectionId!==r)break;o.push(Nl(D.parent))}return o})}addFieldIndex(e,r){const o=Lc(e),h=new Qo((y=r).indexId,y.collectionGroup,y.fields.map(D=>[D.fieldPath.canonicalString(),D.kind]));var y;return delete h.indexId,o.add(h).next()}deleteFieldIndex(e,r){const o=Lc(e),h=Vd(e),y=Fc(e);return o.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r,o){return Vt.resolve(Ce())}getFieldIndex(e,r){return Vt.resolve(null)}Oe(e,r){const o=new _a;for(const h of e.fields.filter(D=>2!==D.kind)){const y=r.data.field(h.fieldPath);if(null==y)return null;const D=o.Ne(h.kind);Od.le.Xt(y,D)}return o.Ve()}Me(e){const r=new _a;return Od.le.Xt(e,r.Ne(0)),r.Ve()}getFieldIndexes(e,r){const o=Lc(e),h=Vd(e);return(r?o.qt(Qo.collectionGroupIndex,IDBKeyRange.bound(r,r)):o.qt()).next(y=>{const D=[];return Vt.forEach(y,U=>h.get([U.indexId,this.uid]).next(ee=>{D.push(function(_e,Ge){const ut=Ge?new ps(Ge.sequenceNumber,new Pa(ol(Ge.readTime),new kn(Nl(Ge.documentKey)),Ge.largestBatchId)):ps.empty(),Pt=_e.fields.map(([qt,rn])=>new da(xt.fromServerFormat(qt),rn));return new Wu(_e.indexId,_e.collectionGroup,Pt,ut)}(U,ee))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,h)=>o.indexState.sequenceNumber-h.indexState.sequenceNumber),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const h=Lc(e),y=Vd(e);return this.$e(e).next(D=>h.qt(Qo.collectionGroupIndex,IDBKeyRange.bound(r,r)).next(U=>Vt.forEach(U,ee=>{return y.put(new ga(ee.indexId,this.user.uid||"",D,sc((Pt=o).readTime),Ls(Pt.documentKey.path),Pt.largestBatchId));var Pt})))}updateIndexEntries(e,r){const o=new Map;return Vt.forEach(r,(h,y)=>{const D=o.get(h.collectionGroup);return(D?Vt.resolve(D):this.getFieldIndexes(e,h.collectionGroup)).next(U=>(o.set(h.collectionGroup,U),Vt.forEach(U,ee=>this.Fe(e,h,ee).next(_e=>{const Ge=this.Be(y,ee);return _e.isEqual(Ge)?Vt.resolve():this.Le(e,y,_e,Ge)}))))})}Ue(e,r,o){return Fc(e).put(new ma(o.indexId,this.uid,o.arrayValue,o.directionalValue,Ls(r.key.path)))}qe(e,r,o){return Fc(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,Ls(r.key.path)])}Fe(e,r,o){const h=Fc(e);let y=new Zi(bh);return h.Qt({index:ma.documentKeyIndex,range:IDBKeyRange.only([o.indexId,this.uid,Ls(r.path)])},(D,U)=>{y=y.add(new kd(o.indexId,r,U.arrayValue,U.directionalValue))}).next(()=>y)}Be(e,r){let o=new Zi(bh);const h=this.Oe(r,e);if(null==h)return o;const y=r.fields.find(U=>2===U.kind);if(null!=y){const D=e.data.field(y.fieldPath);if(fs(D))for(const U of D.arrayValue.values||[])o=o.add(new kd(r.indexId,e.key,this.Me(U),h))}else o=o.add(new kd(r.indexId,e.key,new Uint8Array,h));return o}Le(e,r,o,h){Jt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(D,U,ee,_e,Ge){const ut=D.getIterator(),Pt=U.getIterator();let qt=bu(ut),rn=bu(Pt);for(;qt||rn;){let rr=!1,Gr=!1;if(qt&&rn){const to=ee(qt,rn);to<0?Gr=!0:to>0&&(rr=!0)}else null!=qt?Gr=!0:rr=!0;rr?(_e(rn),rn=bu(Pt)):Gr?(Ge(qt),qt=bu(ut)):(qt=bu(ut),rn=bu(Pt))}}(o,h,bh,D=>{y.push(this.Ue(e,r,D))},D=>{y.push(this.qe(e,r,D))}),Vt.waitFor(y)}$e(e){let r=1;return Vd(e).Qt({index:ga.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,y)=>{y.done(),r=h.sequenceNumber+1}).next(()=>r)}}function Bd(i){return Bs(i,Su.store)}function Fc(i){return Bs(i,ma.store)}function Lc(i){return Bs(i,Qo.store)}function Vd(i){return Bs(i,ga.store)}const wh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xs{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Bc(i,e,r){const o=i.store(ss.store),h=i.store(Ts.store),y=[],D=IDBKeyRange.only(r.batchId);let U=0;const ee=o.Qt({range:D},(Ge,ut,Pt)=>(U++,Pt.delete()));y.push(ee.next(()=>{zn(1===U)}));const _e=[];for(const Ge of r.mutations){const ut=Ts.key(e,Ge.key.path,r.batchId);y.push(h.delete(ut)),_e.push(Ge.key)}return Vt.waitFor(y).next(()=>_e)}function Vc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Qt();e=i.noDocument}return JSON.stringify(e).length}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class Ih{constructor(e,r,o,h){this.userId=e,this.O=r,this.indexManager=o,this.referenceDelegate=h,this.Ke={}}static Jt(e,r,o,h){zn(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Ih(y,r,o,h)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(e).Qt({index:ss.userMutationsIndex,range:o},(h,y,D)=>{r=!1,D.done()}).next(()=>r)}addMutationBatch(e,r,o,h){const y=ll(e),D=al(e);return D.add({}).next(U=>{zn("number"==typeof U);const ee=new nc(U,r,o,h),_e=function(Pt,qt,rn){const rr=rn.baseMutations.map(to=>Dd(Pt.Ht,to)),Gr=rn.mutations.map(to=>Dd(Pt.Ht,to));return new ss(qt,rn.batchId,rn.localWriteTime.toMillis(),rr,Gr)}(this.O,this.userId,ee),Ge=[];let ut=new Zi((Pt,qt)=>wr(Pt.canonicalString(),qt.canonicalString()));for(const Pt of h){const qt=Ts.key(this.userId,Pt.key.path,U);ut=ut.add(Pt.key.path.popLast()),Ge.push(D.put(_e)),Ge.push(y.put(qt,Ts.PLACEHOLDER))}return ut.forEach(Pt=>{Ge.push(this.indexManager.addToCollectionParentIndex(e,Pt))}),e.addOnCommittedListener(()=>{this.Ke[U]=ee.keys()}),Vt.waitFor(Ge).next(()=>ee)})}lookupMutationBatch(e,r){return al(e).get(r).next(o=>o?(zn(o.userId===this.userId),xu(this.O,o)):null)}Ge(e,r){return this.Ke[r]?Vt.resolve(this.Ke[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const h=o.keys();return this.Ke[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,h=IDBKeyRange.lowerBound([this.userId,o]);let y=null;return al(e).Qt({index:ss.userMutationsIndex,range:h},(D,U,ee)=>{U.userId===this.userId&&(zn(U.batchId>=o),y=xu(this.O,U)),ee.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return al(e).Qt({index:ss.userMutationsIndex,range:r,reverse:!0},(h,y,D)=>{o=y.batchId,D.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(e).qt(ss.userMutationsIndex,r).next(o=>o.map(h=>xu(this.O,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Ts.prefixForPath(this.userId,r.path),h=IDBKeyRange.lowerBound(o),y=[];return ll(e).Qt({range:h},(D,U,ee)=>{const[_e,Ge,ut]=D,Pt=Nl(Ge);if(_e===this.userId&&r.path.isEqual(Pt))return al(e).get(ut).next(qt=>{if(!qt)throw Qt();zn(qt.userId===this.userId),y.push(xu(this.O,qt))});ee.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Zi(wr);const h=[];return r.forEach(y=>{const D=Ts.prefixForPath(this.userId,y.path),U=IDBKeyRange.lowerBound(D),ee=ll(e).Qt({range:U},(_e,Ge,ut)=>{const[Pt,qt,rn]=_e,rr=Nl(qt);Pt===this.userId&&y.path.isEqual(rr)?o=o.add(rn):ut.done()});h.push(ee)}),Vt.waitFor(h).next(()=>this.je(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1,y=Ts.prefixForPath(this.userId,o),D=IDBKeyRange.lowerBound(y);let U=new Zi(wr);return ll(e).Qt({range:D},(ee,_e,Ge)=>{const[ut,Pt,qt]=ee,rn=Nl(Pt);ut===this.userId&&o.isPrefixOf(rn)?rn.length===h&&(U=U.add(qt)):Ge.done()}).next(()=>this.je(e,U))}je(e,r){const o=[],h=[];return r.forEach(y=>{h.push(al(e).get(y).next(D=>{if(null===D)throw Qt();zn(D.userId===this.userId),o.push(xu(this.O,D))}))}),Vt.waitFor(h).next(()=>o)}removeMutationBatch(e,r){return Bc(e.zt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Qe(r.batchId)}),Vt.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Vt.resolve();const o=IDBKeyRange.lowerBound(Ts.prefixForUser(this.userId)),h=[];return ll(e).Qt({range:o},(y,D,U)=>{if(y[0]===this.userId){const ee=Nl(y[1]);h.push(ee)}else U.done()}).next(()=>{zn(0===h.length)})})}containsKey(e,r){return Tp(e,this.userId,r)}We(e){return Sf(e).get(this.userId).next(r=>r||new kl(this.userId,-1,""))}}function Tp(i,e,r){const o=Ts.prefixForPath(e,r.path),h=o[1],y=IDBKeyRange.lowerBound(o);let D=!1;return ll(i).Qt({range:y,jt:!0},(U,ee,_e)=>{const[Ge,ut,Pt]=U;Ge===e&&ut===h&&(D=!0),_e.done()}).next(()=>D)}function al(i){return Bs(i,ss.store)}function ll(i){return Bs(i,Ts.store)}function Sf(i){return Bs(i,kl.store)}class Mu{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Mu(0)}static Je(){return new Mu(-1)}}class Sp{constructor(e,r){this.referenceDelegate=e,this.O=r}allocateTargetId(e){return this.Ye(e).next(r=>{const o=new Mu(r.highestTargetId);return r.highestTargetId=o.next(),this.Xe(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(r=>T.fromTimestamp(new O(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Ye(e).next(h=>(h.highestListenSequenceNumber=r,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Xe(e,h)))}addTargetData(e,r){return this.Ze(e,r).next(()=>this.Ye(e).next(o=>(o.targetCount+=1,this.tn(r,o),this.Xe(e,o))))}updateTargetData(e,r){return this.Ze(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>$c(e).delete(r.targetId)).next(()=>this.Ye(e)).next(o=>(zn(o.targetCount>0),o.targetCount-=1,this.Xe(e,o)))}removeTargets(e,r,o){let h=0;const y=[];return $c(e).Qt((D,U)=>{const ee=Md(U);ee.sequenceNumber<=r&&null===o.get(ee.targetId)&&(h++,y.push(this.removeTargetData(e,ee)))}).next(()=>Vt.waitFor(y)).next(()=>h)}forEachTarget(e,r){return $c(e).Qt((o,h)=>{const y=Md(h);r(y)})}Ye(e){return Af(e).get(pa.key).next(r=>(zn(null!==r),r))}Xe(e,r){return Af(e).put(pa.key,r)}Ze(e,r){return $c(e).put(Dp(this.O,r))}tn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Ye(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Ko(r),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let y=null;return $c(e).Qt({range:h,index:Ro.queryTargetsIndexName},(D,U,ee)=>{const _e=Md(U);Qa(r,_e.target)&&(y=_e,ee.done())}).next(()=>y)}addMatchingKeys(e,r,o){const h=[],y=ru(e);return r.forEach(D=>{const U=Ls(D.path);h.push(y.put(new _o(o,U))),h.push(this.referenceDelegate.addReference(e,o,D))}),Vt.waitFor(h)}removeMatchingKeys(e,r,o){const h=ru(e);return Vt.forEach(r,y=>{const D=Ls(y.path);return Vt.waitFor([h.delete([o,D]),this.referenceDelegate.removeReference(e,o,y)])})}removeMatchingKeysForTargetId(e,r){const o=ru(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),h=ru(e);let y=Ce();return h.Qt({range:o,jt:!0},(D,U,ee)=>{const _e=Nl(D[1]),Ge=new kn(_e);y=y.add(Ge)}).next(()=>y)}containsKey(e,r){const o=Ls(r.path),h=IDBKeyRange.bound([o],[ua(o)],!1,!0);let y=0;return ru(e).Qt({index:_o.documentTargetsIndex,jt:!0,range:h},([D,U],ee,_e)=>{0!==D&&(y++,_e.done())}).next(()=>y>0)}Tt(e,r){return $c(e).get(r).next(o=>o?Md(o):null)}}function $c(i){return Bs(i,Ro.store)}function Af(i){return Bs(i,pa.store)}function ru(i){return Bs(i,_o.store)}function ac(i){return va.apply(this,arguments)}function va(){return va=(0,u.Z)(function*(i){if(i.code!==At.FAILED_PRECONDITION||i.message!==tu)throw i;Jt("LocalStore","Unexpectedly lost primary lease")}),va.apply(this,arguments)}function Ap([i,e],[r,o]){const h=wr(i,r);return 0===h?wr(e,o):h}class Ch{constructor(e){this.en=e,this.buffer=new Zi(Ap),this.nn=0}sn(){return++this.nn}rn(e){const r=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Ap(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xp{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var r=this;const o=this.on?3e5:6e4;Jt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,u.Z)(function*(){r.cn=null,r.on=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(h){sl(h)?Jt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield ac(h)}yield r.un(e)}))}}class Ng{constructor(e,r){this.an=e,this.params=r}calculateTargetCount(e,r){return this.an.hn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Vt.resolve(Gi.A);const o=new Ch(r);return this.an.forEachTarget(e,h=>o.rn(h.sequenceNumber)).next(()=>this.an.ln(e,h=>o.rn(h))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.an.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.an.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(wh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wh):this.fn(e,r))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,r){let o,h,y,D,U,ee,_e;const Ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ut=>(ut>this.params.maximumSequenceNumbersToCollect?(Jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ut}`),h=this.params.maximumSequenceNumbersToCollect):h=ut,D=Date.now(),this.nthSequenceNumber(e,h))).next(ut=>(o=ut,U=Date.now(),this.removeTargets(e,o,r))).next(ut=>(y=ut,ee=Date.now(),this.removeOrphanedDocuments(e,o))).next(ut=>(_e=Date.now(),Ga()<=Me.in.DEBUG&&Jt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-Ge}ms\n\tDetermined least recently used ${h} in `+(U-D)+`ms\n\tRemoved ${y} targets in `+(ee-U)+`ms\n\tRemoved ${ut} documents in `+(_e-ee)+`ms\nTotal Duration: ${_e-Ge}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:ut})))}}class Uc{constructor(e,r){this.db=e,this.garbageCollector=new Ng(this,r)}hn(e){const r=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(h=>o+h))}dn(e){let r=0;return this.ln(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}ln(e,r){return this._n(e,(o,h)=>r(h))}addReference(e,r,o){return ul(e,o)}removeReference(e,r,o){return ul(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return ul(e,r)}wn(e,r){return function(o,h){let y=!1;return Sf(o).Wt(D=>Tp(o,D,h).next(U=>(U&&(y=!0),Vt.resolve(!U)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this._n(e,(D,U)=>{if(U<=r){const ee=this.wn(e,D).next(_e=>{if(!_e)return y++,o.getEntry(e,D).next(()=>(o.removeEntry(D,T.min()),ru(e).delete([0,Ls(D.path)])))});h.push(ee)}}).next(()=>Vt.waitFor(h)).next(()=>o.apply(e)).next(()=>y)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return ul(e,r)}_n(e,r){const o=ru(e);let h,y=Gi.A;return o.Qt({index:_o.documentTargetsIndex},([D,U],{path:ee,sequenceNumber:_e})=>{0===D?(y!==Gi.A&&r(new kn(Nl(h)),y),y=_e,h=ee):y=Gi.A}).next(()=>{y!==Gi.A&&r(new kn(Nl(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ul(i,e){return ru(i).put((o=i.currentSequenceNumber,new _o(0,Ls(e.path),o)));var o}class lc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[h,y]of o)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0!==h){for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,r]);h.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[r]:o.splice(h,1),!0;return!1}forEach(e){W(this.inner,(r,o)=>{for(const[h,y]of o)e(h,y)})}isEmpty(){return Q(this.inner)}}class Dh{constructor(){this.changes=new lc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Vt.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Th{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return iu(e).put(jc(r),o)}removeEntry(e,r){const o=iu(e),h=jc(r);return o.delete(h)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.mn(e,o)))}getEntry(e,r){return iu(e).get(jc(r)).next(o=>this.gn(r,o))}yn(e,r){return iu(e).get(jc(r)).next(o=>({document:this.gn(r,o),size:Vc(o)}))}getEntries(e,r){let o=A();return this.pn(e,r,(h,y)=>{const D=this.gn(h,y);o=o.insert(h,D)}).next(()=>o)}In(e,r){let o=A(),h=new Cs(kn.comparator);return this.pn(e,r,(y,D)=>{const U=this.gn(y,D);o=o.insert(y,U),h=h.insert(y,Vc(D))}).next(()=>({documents:o,En:h}))}pn(e,r,o){if(r.isEmpty())return Vt.resolve();const h=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),y=r.getIterator();let D=y.getNext();return iu(e).Qt({range:h},(U,ee,_e)=>{const Ge=kn.fromSegments(U);for(;D&&kn.comparator(D,Ge)<0;)o(D,null),D=y.getNext();D&&D.isEqual(Ge)&&(o(D,ee),D=y.hasNext()?y.getNext():null),D?_e.Ut(D.path.toArray()):_e.done()}).next(()=>{for(;D;)o(D,null),D=y.hasNext()?y.getNext():null})}getAll(e,r,o){let h=A();const y=r.length+1,D={};if(o.isEqual(T.min())){const U=r.toArray();D.range=IDBKeyRange.lowerBound(U)}else{const U=r.toArray(),ee=Rc(o);D.range=IDBKeyRange.lowerBound([U,ee],!0),D.index=Ss.collectionReadTimeIndex}return iu(e).Qt(D,(U,ee,_e)=>{if(U.length!==y)return;const Ge=this.gn(kn.fromSegments(U),ee);r.isPrefixOf(Ge.key.path)?h=h.insert(Ge.key,Ge):_e.done()}).next(()=>h)}newChangeBuffer(e){return new kg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Tr(e).get(Zo.key).next(r=>(zn(!!r),r))}mn(e,r){return Tr(e).put(Zo.key,r)}gn(e,r){if(r){const o=Rd(this.O,r);if(!o.isNoDocument()||!o.version.isEqual(T.min()))return o}return Bi.newInvalidDocument(e)}}class kg extends Dh{constructor(e,r){super(),this.Tn=e,this.trackRemovals=r,this.An=new lc(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const r=[];let o=0,h=new Zi((y,D)=>wr(y.canonicalString(),D.canonicalString()));return this.changes.forEach((y,D)=>{const U=this.An.get(y);if(D.isValidDocument()){const ee=Cf(this.Tn.O,D);h=h.add(y.path.popLast()),o+=Vc(ee)-U,r.push(this.Tn.addEntry(e,y,ee))}else if(o-=U,this.trackRemovals){const ee=Cf(this.Tn.O,D.convertToNoDocument(T.min()));r.push(this.Tn.addEntry(e,y,ee))}else r.push(this.Tn.removeEntry(e,y))}),h.forEach(y=>{r.push(this.Tn.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.Tn.updateMetadata(e,o)),Vt.waitFor(r)}getFromCache(e,r){return this.Tn.yn(e,r).next(o=>(this.An.set(r,o.size),o.document))}getAllFromCache(e,r){return this.Tn.In(e,r).next(({documents:o,En:h})=>(h.forEach((y,D)=>{this.An.set(y,D)}),o))}}function Tr(i){return Bs(i,Zo.store)}function iu(i){return Bs(i,Ss.store)}function jc(i){return i.path.toArray()}class xf{constructor(e){this.O=e}kt(e,r,o,h){const y=new bf("createOrUpgrade",r);var U;o<1&&h>=1&&(e.createObjectStore(xo.store),(U=e).createObjectStore(kl.store,{keyPath:kl.keyPath}),U.createObjectStore(ss.store,{keyPath:ss.keyPath,autoIncrement:!0}).createIndex(ss.userMutationsIndex,ss.userMutationsKeyPath,{unique:!0}),U.createObjectStore(Ts.store),Hc(e),function(U){U.createObjectStore(Ss.store)}(e));let D=Vt.resolve();return o<3&&h>=3&&(0!==o&&(function(U){U.deleteObjectStore(_o.store),U.deleteObjectStore(Ro.store),U.deleteObjectStore(pa.store)}(e),Hc(e)),D=D.next(()=>function(U){const ee=U.store(pa.store),_e=new pa(0,0,T.min().toTimestamp(),0);return ee.put(pa.key,_e)}(y))),o<4&&h>=4&&(0!==o&&(D=D.next(()=>function(U,ee){return ee.store(ss.store).qt().next(_e=>{U.deleteObjectStore(ss.store),U.createObjectStore(ss.store,{keyPath:ss.keyPath,autoIncrement:!0}).createIndex(ss.userMutationsIndex,ss.userMutationsKeyPath,{unique:!0});const Ge=ee.store(ss.store),ut=_e.map(Pt=>Ge.put(Pt));return Vt.waitFor(ut)})}(e,y))),D=D.next(()=>{!function(U){U.createObjectStore(La.store,{keyPath:La.keyPath})}(e)})),o<5&&h>=5&&(D=D.next(()=>this.Rn(y))),o<6&&h>=6&&(D=D.next(()=>(function(U){U.createObjectStore(Zo.store)}(e),this.Pn(y)))),o<7&&h>=7&&(D=D.next(()=>this.bn(y))),o<8&&h>=8&&(D=D.next(()=>this.vn(e,y))),o<9&&h>=9&&(D=D.next(()=>{(function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")})(e),function(U){const ee=U.objectStore(Ss.store);ee.createIndex(Ss.readTimeIndex,Ss.readTimeIndexPath,{unique:!1}),ee.createIndex(Ss.collectionReadTimeIndex,Ss.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&h>=10&&(D=D.next(()=>this.Vn(y))),o<11&&h>=11&&(D=D.next(()=>{(function(U){U.createObjectStore(ec.store,{keyPath:ec.keyPath})})(e),function(U){U.createObjectStore(rl.store,{keyPath:rl.keyPath})}(e)})),o<12&&h>=12&&(D=D.next(()=>{!function(U){const ee=U.createObjectStore(As.store,{keyPath:As.keyPath});ee.createIndex(As.collectionPathOverlayIndex,As.collectionPathOverlayIndexPath,{unique:!1}),ee.createIndex(As.collectionGroupOverlayIndex,As.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),o<13&&h>=13&&(D=D.next(()=>{!function(U){U.createObjectStore(Qo.store,{keyPath:Qo.keyPath,autoIncrement:!0}).createIndex(Qo.collectionGroupIndex,Qo.collectionGroupIndexPath,{unique:!1}),U.createObjectStore(ga.store,{keyPath:ga.keyPath}).createIndex(ga.sequenceNumberIndex,ga.sequenceNumberIndexPath,{unique:!1}),U.createObjectStore(ma.store,{keyPath:ma.keyPath}).createIndex(ma.documentKeyIndex,ma.documentKeyIndexPath,{unique:!1})}(e)})),D}Pn(e){let r=0;return e.store(Ss.store).Qt((o,h)=>{r+=Vc(h)}).next(()=>{const o=new Zo(r);return e.store(Zo.store).put(Zo.key,o)})}Rn(e){const r=e.store(kl.store),o=e.store(ss.store);return r.qt().next(h=>Vt.forEach(h,y=>{const D=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return o.qt(ss.userMutationsIndex,D).next(U=>Vt.forEach(U,ee=>{zn(ee.userId===y.userId);const _e=xu(this.O,ee);return Bc(e,y.userId,_e).next(()=>{})}))}))}bn(e){const r=e.store(_o.store),o=e.store(Ss.store);return e.store(pa.store).get(pa.key).next(h=>{const y=[];return o.Qt((D,U)=>{const ee=new Ie(D),_e=[0,Ls(ee)];y.push(r.get(_e).next(Ge=>Ge?Vt.resolve():r.put(new _o(0,Ls(ee),h.highestListenSequenceNumber))))}).next(()=>Vt.waitFor(y))})}vn(e,r){e.createObjectStore(Su.store,{keyPath:Su.keyPath});const o=r.store(Su.store),h=new $o,y=D=>{if(h.add(D)){const U=D.lastSegment(),ee=D.popLast();return o.put({collectionId:U,parent:Ls(ee)})}};return r.store(Ss.store).Qt({jt:!0},(D,U)=>{const ee=new Ie(D);return y(ee.popLast())}).next(()=>r.store(Ts.store).Qt({jt:!0},([D,U,ee],_e)=>{const Ge=Nl(U);return y(Ge.popLast())}))}Vn(e){const r=e.store(Ro.store);return r.Qt((o,h)=>{const y=Md(h),D=Dp(this.O,y);return r.put(D)})}}function Hc(i){i.createObjectStore(_o.store,{keyPath:_o.keyPath}).createIndex(_o.documentTargetsIndex,_o.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Ro.store,{keyPath:Ro.keyPath}).createIndex(Ro.queryTargetsIndexName,Ro.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(pa.store)}const Oo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wc{constructor(e,r,o,h,y,D,U,ee,_e,Ge,ut=12){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Sn=y,this.window=D,this.document=U,this.Dn=_e,this.Cn=Ge,this.schemaVersion=ut,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=Pt=>Promise.resolve(),!Wc.Vt())throw new Wt(At.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uc(this,h),this.Bn=r+"main",this.O=new nu(ee),this.Ln=new Ba(this.Bn,this.schemaVersion,new xf(this.O)),this.Un=new Sp(this.referenceDelegate,this.O),this.qn=new Th(this.O),this.Kn=new Tf,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===Ge&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Wt(At.FAILED_PRECONDITION,Oo);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Gi(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var r=this;return this.Fn=function(){var o=(0,u.Z)(function*(h){if(r.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var r=(0,u.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,u.Z)(function*(){r.started&&(yield r.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zc(e).put(new La(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(r=>{r||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(r=>this.isPrimary&&!r?this.Xn(e).next(()=>!1):!!r&&this.Zn(e).next(()=>!0))).catch(e=>{if(sl(e))return Jt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Jt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return uc(e).get(xo.key).next(r=>Vt.resolve(this.ts(r)))}es(e){return zc(e).delete(this.clientId)}ns(){var e=this;return(0,u.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Bs(o,La.store);return h.qt().next(y=>{const D=e.rs(y,18e5),U=y.filter(ee=>-1===D.indexOf(ee));return Vt.forEach(U,ee=>h.delete(ee.clientId)).next(()=>U)})}).catch(()=>[]);if(e.Gn)for(const o of r)e.Gn.removeItem(e.os(o.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Vt.resolve(!0):uc(e).get(xo.key).next(r=>{if(null!==r&&this.ss(r.leaseTimestampMs,5e3)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new Wt(At.FAILED_PRECONDITION,Oo);return!1}}return!(!this.networkEnabled||!this.inForeground)||zc(e).qt().next(o=>void 0===this.rs(o,5e3).find(h=>{if(this.clientId!==h.clientId){const D=!this.inForeground&&h.inForeground,U=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||D&&U)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Jt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,u.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[xo.store,La.store],r=>{const o=new _h(r,Gi.A);return e.Xn(o).next(()=>e.es(o))}),e.Ln.close(),e.fs()})()}rs(e,r){return e.filter(o=>this.ss(o.updateTimeMs,r)&&!this.cs(o.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>zc(e).qt().next(r=>this.rs(r,18e5).map(o=>o.clientId)))}get started(){return this.xn}getMutationQueue(e,r){return Ih.Jt(e,this.O,r,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new Ld(e)}getDocumentOverlayCache(e){return Va.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,r,o){Jt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",y=13===(D=this.schemaVersion)?Ef:12===D?yh:11===D?xd:void Qt();var D;let U;return this.Ln.runTransaction(e,h,y,ee=>(U=new _h(ee,this.Nn?this.Nn.next():Gi.A),"readwrite-primary"===r?this.Jn(U).next(_e=>!!_e||this.Yn(U)).next(_e=>{if(!_e)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Wt(At.FAILED_PRECONDITION,tu);return o(U)}).next(_e=>this.Zn(U).next(()=>_e)):this._s(U).next(()=>o(U)))).then(ee=>(U.raiseOnCommittedEvent(),ee))}_s(e){return uc(e).get(xo.key).next(r=>{if(null!==r&&this.ss(r.leaseTimestampMs,5e3)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Cn||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Wt(At.FAILED_PRECONDITION,Oo)})}Zn(e){const r=new xo(this.clientId,this.allowTabSynchronization,Date.now());return uc(e).put(xo.key,r)}static Vt(){return Ba.Vt()}Xn(e){const r=uc(e);return r.get(xo.key).next(o=>this.ts(o)?(Jt("IndexedDbPersistence","Releasing primary lease."),r.delete(xo.key)):Vt.resolve())}ss(e,r){const o=Date.now();return!(e<o-r||e>o&&(zi(`Detected an update time that is in the future: ${e} > ${o}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,ye.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var r;try{const o=null!==(null===(r=this.Gn)||void 0===r?void 0:r.getItem(this.os(e)));return Jt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uc(i){return Bs(i,xo.store)}function zc(i){return Bs(i,La.store)}function cl(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class $d{constructor(e,r){this.progress=e,this.ws=r}}class Rp{constructor(e,r,o){this.qn=e,this.gs=r,this.indexManager=o}ys(e,r){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.ps(e,r,o))}ps(e,r,o){return this.qn.getEntry(e,r).next(h=>{for(const y of o)y.applyToLocalView(h);return h})}Is(e,r){e.forEach((o,h)=>{for(const y of r)y.applyToLocalView(h)})}Es(e,r){return this.qn.getEntries(e,r).next(o=>this.Ts(e,o).next(()=>o))}Ts(e,r){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Is(r,o))}As(e,r,o){return kn.isDocumentKey((h=r).path)&&null===h.collectionGroup&&0===h.filters.length?this.Rs(e,r.path):Ri(r)?this.Ps(e,r,o):this.bs(e,r,o);var h}Rs(e,r){return this.ys(e,new kn(r)).next(o=>{let h=v();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}Ps(e,r,o){const h=r.collectionGroup;let y=v();return this.indexManager.getCollectionParents(e,h).next(D=>Vt.forEach(D,U=>{const ee=(_e=r,Ge=U.child(h),new Ht(Ge,null,_e.explicitOrderBy.slice(),_e.filters.slice(),_e.limit,_e.limitType,_e.startAt,_e.endAt));var _e,Ge;return this.bs(e,ee,o).next(_e=>{_e.forEach((Ge,ut)=>{y=y.insert(Ge,ut)})})}).next(()=>y))}bs(e,r,o){let h;return this.qn.getAll(e,r.path,o).next(y=>(h=y,this.gs.getAllMutationBatchesAffectingQuery(e,r))).next(y=>{for(const D of y)for(const U of D.mutations){const ee=U.key;let _e=h.get(ee);null==_e&&(_e=Bi.newInvalidDocument(ee),h=h.insert(ee,_e)),Xl(U,_e,D.localWriteTime),_e.isFoundDocument()||(h=h.remove(ee))}}).next(()=>(h.forEach((y,D)=>{Ja(r,D)||(h=h.remove(y))}),h))}}class Gc{constructor(e,r,o,h){this.targetId=e,this.fromCache=r,this.vs=o,this.Vs=h}static Ss(e,r){let o=Ce(),h=Ce();for(const y of r.docChanges)switch(y.type){case 0:o=o.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new Gc(e,r.fromCache,o,h)}}class Mp{Ds(e){this.Cs=e}As(e,r,o,h){return 0===(y=r).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||o.isEqual(T.min())?this.Ns(e,r):this.Cs.Es(e,h).next(y=>{const D=this.xs(r,y);return(er(r)||ui(r))&&this.ks(r.limitType,D,h,o)?this.Ns(e,r):(Ga()<=Me.in.DEBUG&&Jt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ql(r)),this.Cs.As(e,r,o).next(U=>(D.forEach(ee=>{U=U.insert(ee.key,ee)}),U)))});var y}xs(e,r){let o=new Zi(Do(e));return r.forEach((h,y)=>{Ja(e,y)&&(o=o.add(y))}),o}ks(e,r,o,h){if(o.size!==r.size)return!0;const y="F"===e?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Ns(e,r){return Ga()<=Me.in.DEBUG&&Jt("QueryEngine","Using full collection scan to execute query:",ql(r)),this.Cs.As(e,r,T.min())}}class Rf{constructor(e,r,o,h){this.persistence=e,this.Os=r,this.O=h,this.Ms=new Cs(wr),this.$s=new lc(y=>Ko(y),Qa),this.Fs=T.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(o)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Rp(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function Op(i,e,r,o){return new Rf(i,e,r,o)}function ao(i,e){return su.apply(this,arguments)}function su(){return su=(0,u.Z)(function*(i,e){const r=en(i);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let h;return r.gs.getAllMutationBatches(o).next(y=>(h=y,r.Ls(e),r.gs.getAllMutationBatches(o))).next(y=>{const D=[],U=[];let ee=Ce();for(const _e of h){D.push(_e.batchId);for(const Ge of _e.mutations)ee=ee.add(Ge.key)}for(const _e of y){U.push(_e.batchId);for(const Ge of _e.mutations)ee=ee.add(Ge.key)}return r.Us.Es(o,ee).next(_e=>({qs:_e,removedBatchIds:D,addedBatchIds:U}))})})}),su.apply(this,arguments)}function Ll(i,e){const r=en(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),y=r.Bs.newChangeBuffer({trackRemovals:!0});return function(D,U,ee,_e){const Ge=ee.batch,ut=Ge.keys();let Pt=Vt.resolve();return ut.forEach(qt=>{Pt=Pt.next(()=>_e.getEntry(U,qt)).next(rn=>{const rr=ee.docVersions.get(qt);zn(null!==rr),rn.version.compareTo(rr)<0&&(Ge.applyToRemoteDocument(rn,ee),rn.isValidDocument()&&(rn.setReadTime(ee.commitVersion),_e.addEntry(rn)))})}),Pt.next(()=>D.gs.removeMutationBatch(U,Ge))}(r,o,e,y).next(()=>y.apply(o)).next(()=>r.gs.performConsistencyCheck(o)).next(()=>r.Us.Es(o,h))})}function cc(i){const e=en(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Un.getLastRemoteSnapshotVersion(r))}function Xo(i,e){const r=en(i),o=e.snapshotVersion;let h=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const D=r.Bs.newChangeBuffer({trackRemovals:!0});h=r.Ms;const U=[];e.targetChanges.forEach((_e,Ge)=>{const ut=h.get(Ge);if(!ut)return;U.push(r.Un.removeMatchingKeys(y,_e.removedDocuments,Ge).next(()=>r.Un.addMatchingKeys(y,_e.addedDocuments,Ge)));let Pt=ut.withSequenceNumber(y.currentSequenceNumber);var qt,rn,rr;e.targetMismatches.has(Ge)?Pt=Pt.withResumeToken(yn.EMPTY_BYTE_STRING,T.min()).withLastLimboFreeSnapshotVersion(T.min()):_e.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(_e.resumeToken,o)),h=h.insert(Ge,Pt),rn=Pt,rr=_e,(0===(qt=ut).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||rr.addedDocuments.size+rr.modifiedDocuments.size+rr.removedDocuments.size>0)&&U.push(r.Un.updateTargetData(y,Pt))});let ee=A();if(e.documentUpdates.forEach(_e=>{e.resolvedLimboDocuments.has(_e)&&U.push(r.persistence.referenceDelegate.updateLimboDocument(y,_e))}),U.push(dc(y,D,e.documentUpdates).next(_e=>{ee=_e})),!o.isEqual(T.min())){const _e=r.Un.getLastRemoteSnapshotVersion(y).next(Ge=>r.Un.setTargetsMetadata(y,y.currentSequenceNumber,o));U.push(_e)}return Vt.waitFor(U).next(()=>D.apply(y)).next(()=>r.Us.Ts(y,ee)).next(()=>ee)}).then(y=>(r.Ms=h,y))}function dc(i,e,r){let o=Ce();return r.forEach(h=>o=o.add(h)),e.getEntries(i,o).next(h=>{let y=A();return r.forEach((D,U)=>{const ee=h.get(D);U.isNoDocument()&&U.version.isEqual(T.min())?(e.removeEntry(D,U.readTime),y=y.insert(D,U)):!ee.isValidDocument()||U.version.compareTo(ee.version)>0||0===U.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(U),y=y.insert(D,U)):Jt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",ee.version," Watch version:",U.version)}),y})}function Pp(i,e){const r=en(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.gs.getNextMutationBatchAfterBatchId(o,e)))}function hc(i,e){const r=en(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return r.Un.getTargetData(o,e).next(y=>y?(h=y,Vt.resolve(h)):r.Un.allocateTargetId(o).next(D=>(h=new ya(e,D,0,o.currentSequenceNumber),r.Un.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=r.Ms.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(o.targetId,o),r.$s.set(e,o.targetId)),o})}function $a(i,e,r){return Np.apply(this,arguments)}function Np(){return Np=(0,u.Z)(function*(i,e,r){const o=en(i),h=o.Ms.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",y,D=>o.persistence.referenceDelegate.removeTarget(D,h)))}catch(D){if(!sl(D))throw D;Jt("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}o.Ms=o.Ms.remove(e),o.$s.delete(h.target)}),Np.apply(this,arguments)}function Ud(i,e,r){const o=en(i);let h=T.min(),y=Ce();return o.persistence.runTransaction("Execute query","readonly",D=>function(U,ee,_e){const Ge=en(U),ut=Ge.$s.get(_e);return void 0!==ut?Vt.resolve(Ge.Ms.get(ut)):Ge.Un.getTargetData(ee,_e)}(o,D,Gs(e)).next(U=>{if(U)return h=U.lastLimboFreeSnapshotVersion,o.Un.getMatchingKeysForTargetId(D,U.targetId).next(ee=>{y=ee})}).next(()=>o.Os.As(D,e,r?h:T.min(),r?y:Ce())).next(U=>({documents:U,Ks:y})))}function Fg(i,e){const r=en(i),o=en(r.Un),h=r.Ms.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",y=>o.Tt(y,e).next(D=>D?D.target:null))}function Sh(i){const e=en(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,h,y){const D=en(o);let U=A(),ee=Rc(y);const _e=iu(h),Ge=IDBKeyRange.lowerBound(ee,!0);return _e.Qt({index:Ss.readTimeIndex,range:Ge},(ut,Pt)=>{const qt=Rd(D.O,Pt);U=U.insert(qt.key,qt),ee=Pt.readTime}).next(()=>({ws:U,readTime:Mc(ee)}))}(e.Bs,r,e.Fs)).then(({ws:r,readTime:o})=>(e.Fs=o,r))}function Ah(){return Ah=(0,u.Z)(function*(i){const e=en(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const h=iu(o);let y=T.min();return h.Qt({index:Ss.readTimeIndex,reverse:!0},(D,U,ee)=>{U.readTime&&(y=Mc(U.readTime)),ee.done()}).next(()=>y)}(r)).then(r=>{e.Fs=r})}),Ah.apply(this,arguments)}function Mf(){return Mf=(0,u.Z)(function*(i,e,r,o){const h=en(i);let y=Ce(),D=A();for(const _e of r){const Ge=e.Gs(_e.metadata.name);_e.document&&(y=y.add(Ge));const ut=e.js(_e);ut.setReadTime(e.Qs(_e.metadata.readTime)),D=D.insert(Ge,ut)}const U=h.Bs.newChangeBuffer({trackRemovals:!0}),ee=yield hc(h,(_e=o,Gs(An(Ie.fromString(`__bundle__/docs/${_e}`)))));var _e;return h.persistence.runTransaction("Apply bundle documents","readwrite",_e=>dc(_e,U,D).next(Ge=>(U.apply(_e),Ge)).next(Ge=>h.Un.removeMatchingKeysForTargetId(_e,ee.targetId).next(()=>h.Un.addMatchingKeys(_e,y,ee.targetId)).next(()=>h.Us.Ts(_e,Ge)).next(()=>Ge)))}),Mf.apply(this,arguments)}function Kc(i,e){return jd.apply(this,arguments)}function jd(){return jd=(0,u.Z)(function*(i,e,r=Ce()){const o=yield hc(i,Gs(Df(e.bundledQuery))),h=en(i);return h.persistence.runTransaction("Save named query","readwrite",y=>{const D=is(e.readTime);if(o.snapshotVersion.compareTo(D)>=0)return h.Kn.saveNamedQuery(y,e);const U=o.withResumeToken(yn.EMPTY_BYTE_STRING,D);return h.Ms=h.Ms.insert(U.targetId,U),h.Un.updateTargetData(y,U).next(()=>h.Un.removeMatchingKeysForTargetId(y,o.targetId)).next(()=>h.Un.addMatchingKeys(y,r,o.targetId)).next(()=>h.Kn.saveNamedQuery(y,e))})}),jd.apply(this,arguments)}class xh{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,r){return Vt.resolve(this.Ws.get(r))}saveBundleMetadata(e,r){var o;return this.Ws.set(r.id,{id:(o=r).id,version:o.version,createTime:is(o.createTime)}),Vt.resolve()}getNamedQuery(e,r){return Vt.resolve(this.zs.get(r))}saveNamedQuery(e,r){return this.zs.set(r.name,{name:(o=r).name,query:Df(o.bundledQuery),readTime:is(o.readTime)}),Vt.resolve();var o}}class Fp{constructor(){this.overlays=new Cs(kn.comparator),this.Hs=new Map}getOverlay(e,r){return Vt.resolve(this.overlays.get(r))}saveOverlays(e,r,o){return o.forEach(h=>{this.Yt(e,r,h)}),Vt.resolve()}removeOverlaysForBatchId(e,r,o){const h=this.Hs.get(o);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Hs.delete(o)),Vt.resolve()}getOverlaysForCollection(e,r,o){const h=new Map,y=r.length+1,D=new kn(r.child("")),U=this.overlays.getIteratorFrom(D);for(;U.hasNext();){const ee=U.getNext().value,_e=ee.getKey();if(!r.isPrefixOf(_e.path))break;_e.path.length===y&&ee.largestBatchId>o&&h.set(ee.getKey(),ee)}return Vt.resolve(h)}getOverlaysForCollectionGroup(e,r,o,h){let y=new Cs((_e,Ge)=>_e-Ge);const D=this.overlays.getIterator();for(;D.hasNext();){const _e=D.getNext().value;if(_e.getKey().getCollectionGroup()===r&&_e.largestBatchId>o){let Ge=y.get(_e.largestBatchId);null===Ge&&(Ge=new Map,y=y.insert(_e.largestBatchId,Ge)),Ge.set(_e.getKey(),_e)}}const U=new Map,ee=y.getIterator();for(;ee.hasNext()&&(ee.getNext().value.forEach((_e,Ge)=>U.set(Ge,_e)),!(U.size>=h)););return Vt.resolve(U)}Yt(e,r,o){if(null===o)return;const h=this.overlays.get(o.key);null!==h&&this.Hs.get(h.largestBatchId).delete(o.key),this.overlays=this.overlays.insert(o.key,new ic(r,o));let y=this.Hs.get(r);void 0===y&&(y=new Set,this.Hs.set(r,y)),y.add(o.key)}}class Of{constructor(){this.Js=new Zi(lo.Ys),this.Xs=new Zi(lo.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,r){const o=new lo(e,r);this.Js=this.Js.add(o),this.Xs=this.Xs.add(o)}ti(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.ei(new lo(e,r))}ni(e,r){e.forEach(o=>this.removeReference(o,r))}si(e){const r=new kn(new Ie([])),o=new lo(r,e),h=new lo(r,e+1),y=[];return this.Xs.forEachInRange([o,h],D=>{this.ei(D),y.push(D.key)}),y}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const r=new kn(new Ie([])),o=new lo(r,e),h=new lo(r,e+1);let y=Ce();return this.Xs.forEachInRange([o,h],D=>{y=y.add(D.key)}),y}containsKey(e){const r=new lo(e,0),o=this.Js.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class lo{constructor(e,r){this.key=e,this.oi=r}static Ys(e,r){return kn.comparator(e.key,r.key)||wr(e.oi,r.oi)}static Zs(e,r){return wr(e.oi,r.oi)||kn.comparator(e.key,r.key)}}class Lg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.gs=[],this.ci=1,this.ui=new Zi(lo.Ys)}checkEmpty(e){return Vt.resolve(0===this.gs.length)}addMutationBatch(e,r,o,h){const y=this.ci;this.ci++;const D=new nc(y,r,o,h);this.gs.push(D);for(const U of h)this.ui=this.ui.add(new lo(U.key,y)),this.indexManager.addToCollectionParentIndex(e,U.key.path.popLast());return Vt.resolve(D)}lookupMutationBatch(e,r){return Vt.resolve(this.ai(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.hi(r+1),y=h<0?0:h;return Vt.resolve(this.gs.length>y?this.gs[y]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Vt.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new lo(r,0),h=new lo(r,Number.POSITIVE_INFINITY),y=[];return this.ui.forEachInRange([o,h],D=>{const U=this.ai(D.oi);y.push(U)}),Vt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Zi(wr);return r.forEach(h=>{const y=new lo(h,0),D=new lo(h,Number.POSITIVE_INFINITY);this.ui.forEachInRange([y,D],U=>{o=o.add(U.oi)})}),Vt.resolve(this.li(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1;let y=o;kn.isDocumentKey(y)||(y=y.child(""));const D=new lo(new kn(y),0);let U=new Zi(wr);return this.ui.forEachWhile(ee=>{const _e=ee.key.path;return!!o.isPrefixOf(_e)&&(_e.length===h&&(U=U.add(ee.oi)),!0)},D),Vt.resolve(this.li(U))}li(e){const r=[];return e.forEach(o=>{const h=this.ai(o);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){zn(0===this.fi(r.batchId,"removed")),this.gs.shift();let o=this.ui;return Vt.forEach(r.mutations,h=>{const y=new lo(h.key,r.batchId);return o=o.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.ui=o})}Qe(e){}containsKey(e,r){const o=new lo(r,0),h=this.ui.firstAfterOrEqual(o);return Vt.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return Vt.resolve()}fi(e,r){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const r=this.hi(e);return r<0||r>=this.gs.length?null:this.gs[r]}}class Bg{constructor(e){this.di=e,this.docs=new Cs(kn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,h=this.docs.get(o),y=h?h.size:0,D=this.di(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:D}),this.size+=D-y,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Vt.resolve(o?o.document.mutableCopy():Bi.newInvalidDocument(r))}getEntries(e,r){let o=A();return r.forEach(h=>{const y=this.docs.get(h);o=o.insert(h,y?y.document.mutableCopy():Bi.newInvalidDocument(h))}),Vt.resolve(o)}getAll(e,r,o){let h=A();const y=new kn(r.child("")),D=this.docs.getIteratorFrom(y);for(;D.hasNext();){const{key:U,value:{document:ee}}=D.getNext();if(!r.isPrefixOf(U.path))break;U.path.length>r.length+1||ee.readTime.compareTo(o)<=0||(h=h.insert(ee.key,ee.mutableCopy()))}return Vt.resolve(h)}_i(e,r){return Vt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Vg(this)}getSize(e){return Vt.resolve(this.size)}}class Vg extends Dh{constructor(e){super(),this.Tn=e}applyChanges(e){const r=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?r.push(this.Tn.addEntry(e,h)):this.Tn.removeEntry(o)}),Vt.waitFor(r)}getFromCache(e,r){return this.Tn.getEntry(e,r)}getAllFromCache(e,r){return this.Tn.getEntries(e,r)}}class Bl{constructor(e){this.persistence=e,this.wi=new lc(r=>Ko(r),Qa),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.mi=0,this.gi=new Of,this.targetCount=0,this.yi=Mu.He()}forEachTarget(e,r){return this.wi.forEach((o,h)=>r(h)),Vt.resolve()}getLastRemoteSnapshotVersion(e){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vt.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.mi&&(this.mi=r),Vt.resolve()}Ze(e){this.wi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.yi=new Mu(r),this.highestTargetId=r),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,r){return this.Ze(r),this.targetCount+=1,Vt.resolve()}updateTargetData(e,r){return this.Ze(r),Vt.resolve()}removeTargetData(e,r){return this.wi.delete(r.target),this.gi.si(r.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(e,r,o){let h=0;const y=[];return this.wi.forEach((D,U)=>{U.sequenceNumber<=r&&null===o.get(U.targetId)&&(this.wi.delete(D),y.push(this.removeMatchingKeysForTargetId(e,U.targetId)),h++)}),Vt.waitFor(y).next(()=>h)}getTargetCount(e){return Vt.resolve(this.targetCount)}getTargetData(e,r){const o=this.wi.get(r)||null;return Vt.resolve(o)}addMatchingKeys(e,r,o){return this.gi.ti(r,o),Vt.resolve()}removeMatchingKeys(e,r,o){this.gi.ni(r,o);const h=this.persistence.referenceDelegate,y=[];return h&&r.forEach(D=>{y.push(h.markPotentiallyOrphaned(e,D))}),Vt.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.gi.si(r),Vt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.gi.ri(r);return Vt.resolve(o)}containsKey(e,r){return Vt.resolve(this.gi.containsKey(r))}}class $g{constructor(e,r){this.pi={},this.overlays={},this.Nn=new Gi(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new Bl(this),this.indexManager=new Fd,this.qn=new Bg(o=>this.referenceDelegate.Ii(o)),this.O=new nu(r),this.Kn=new xh(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Fp,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.pi[e.toKey()];return o||(o=new Lg(r,this.referenceDelegate),this.pi[e.toKey()]=o),o}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,r,o){Jt("MemoryPersistence","Starting transaction:",e);const h=new Ou(this.Nn.next());return this.referenceDelegate.Ei(),o(h).next(y=>this.referenceDelegate.Ti(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Ai(e,r){return Vt.or(Object.values(this.pi).map(o=>()=>o.containsKey(e,r)))}}class Ou extends il{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Ri=new Of,this.Pi=null}static bi(e){return new Hd(e)}get vi(){if(this.Pi)return this.Pi;throw Qt()}addReference(e,r,o){return this.Ri.addReference(o,r),this.vi.delete(o.toString()),Vt.resolve()}removeReference(e,r,o){return this.Ri.removeReference(o,r),this.vi.add(o.toString()),Vt.resolve()}markPotentiallyOrphaned(e,r){return this.vi.add(r.toString()),Vt.resolve()}removeTarget(e,r){this.Ri.si(r.targetId).forEach(h=>this.vi.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(y=>this.vi.add(y.toString()))}).next(()=>o.removeTargetData(e,r))}Ei(){this.Pi=new Set}Ti(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.vi,o=>{const h=kn.fromPath(o);return this.Vi(e,h).next(y=>{y||r.removeEntry(h,T.min())})}).next(()=>(this.Pi=null,r.apply(e)))}updateLimboDocument(e,r){return this.Vi(e,r).next(o=>{o?this.vi.delete(r.toString()):this.vi.add(r.toString())})}Ii(e){return 0}Vi(e,r){return Vt.or([()=>Vt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}function Lp(i,e){return`firestore_clients_${i}_${e}`}function Rh(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Wd(i,e){return`firestore_targets_${i}_${e}`}class zd{constructor(e,r,o,h){this.user=e,this.batchId=r,this.state=o,this.error=h}static Si(e,r,o){const h=JSON.parse(o);let y,D="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return D&&h.error&&(D="string"==typeof h.error.message&&"string"==typeof h.error.code,D&&(y=new Wt(h.error.code,h.error.message))),D?new zd(e,r,h.state,y):(zi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fc{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Si(e,r){const o=JSON.parse(r);let h,y="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return y&&o.error&&(y="string"==typeof o.error.message&&"string"==typeof o.error.code,y&&(h=new Wt(o.error.code,o.error.message))),y?new fc(e,o.state,h):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Si(e,r){const o=JSON.parse(r);let h="object"==typeof o&&o.activeTargetIds instanceof Array,y=Yt();for(let D=0;h&&D<o.activeTargetIds.length;++D)h=md(o.activeTargetIds[D]),y=y.add(o.activeTargetIds[D]);return h?new Mh(e,y):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Vl{constructor(e,r){this.clientId=e,this.onlineState=r}static Si(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Vl(r.clientId,r.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Oh{constructor(){this.activeTargetIds=Yt()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pf{constructor(e,r,o,h,y){this.window=e,this.Sn=r,this.persistenceKey=o,this.xi=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Cs(wr),this.started=!1,this.$i=[];const D=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Fi=Lp(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new Oh),this.Li=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(U){return`firestore_bundle_loaded_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,u.Z)(function*(){const r=yield e.syncEngine.ds();for(const h of r){if(h===e.xi)continue;const y=e.getItem(Lp(e.persistenceKey,h));if(y){const D=Mh.Si(h,y);D&&(e.Mi=e.Mi.insert(D.clientId,D))}}e.ji();const o=e.storage.getItem(e.Ki);if(o){const h=e.Qi(o);h&&e.Wi(h)}for(const h of e.$i)e.Oi(h);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let r=!1;return this.Mi.forEach((o,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,r,o){this.Hi(e,r,o),this.Ji(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Wd(this.persistenceKey,e));if(o){const h=fc.Si(e,o);h&&(r=h.state)}}return this.Yi.Ci(e),this.ji(),r}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wd(this.persistenceKey,e))}updateQueryState(e,r,o){this.Xi(e,r,o)}handleUserChange(e,r,o){r.forEach(h=>{this.Ji(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Jt("SharedClientState","READ",e,r),r}setItem(e,r){Jt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Jt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Jt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Fi)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,u.Z)(function*(){if(r.started){if(null!==o.key)if(r.Li.test(o.key)){if(null==o.newValue){const h=r.er(o.key);return r.nr(h,null)}{const h=r.sr(o.key,o.newValue);if(h)return r.nr(h.clientId,h)}}else if(r.Ui.test(o.key)){if(null!==o.newValue){const h=r.ir(o.key,o.newValue);if(h)return r.rr(h)}}else if(r.qi.test(o.key)){if(null!==o.newValue){const h=r.cr(o.key,o.newValue);if(h)return r.ur(h)}}else if(o.key===r.Ki){if(null!==o.newValue){const h=r.Qi(o.newValue);if(h)return r.Wi(h)}}else if(o.key===r.Bi){const h=function(y){let D=Gi.A;if(null!=y)try{const U=JSON.parse(y);zn("number"==typeof U),D=U}catch(U){zi("SharedClientState","Failed to read sequence number from WebStorage",U)}return D}(o.newValue);h!==Gi.A&&r.sequenceNumberHandler(h)}else if(o.key===r.Gi)return r.syncEngine.ar()}else r.$i.push(o)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,r,o){const h=new zd(this.currentUser,e,r,o),y=Rh(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Di())}Ji(e){const r=Rh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,r,o){const h=Wd(this.persistenceKey,e),y=new fc(e,r,o);this.setItem(h,y.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const r=this.Li.exec(e);return r?r[1]:null}sr(e,r){const o=this.er(e);return Mh.Si(o,r)}ir(e,r){const o=this.Ui.exec(e),h=Number(o[1]);return zd.Si(new Ni(void 0!==o[2]?o[2]:null),h,r)}cr(e,r){const o=this.qi.exec(e),h=Number(o[1]);return fc.Si(h,r)}Qi(e){return Vl.Si(e)}rr(e){var r=this;return(0,u.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.hr(e.batchId,e.state,e.error);Jt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,r){const o=r?this.Mi.insert(e,r):this.Mi.remove(e),h=this.zi(this.Mi),y=this.zi(o),D=[],U=[];return y.forEach(ee=>{h.has(ee)||D.push(ee)}),h.forEach(ee=>{y.has(ee)||U.push(ee)}),this.syncEngine.dr(D,U).then(()=>{this.Mi=o})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let r=Yt();return e.forEach((o,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class Ph{constructor(){this._r=new Oh,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,r,o){this.wr[e]=r}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new Oh,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ug{mr(e){}shutdown(){}}class Nf{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Hg{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class Gd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,r,o,h,y){const D=this.$r(e,r);Jt("RestConnection","Sending: ",D,o);const U={};return this.Fr(U,h,y),this.Br(e,D,U,o).then(ee=>(Jt("RestConnection","Received: ",ee),ee),ee=>{throw or("RestConnection",`${e} failed with error: `,ee,"url: ",D,"request:",o),ee})}Lr(e,r,o,h,y){return this.Mr(e,r,o,h,y)}Fr(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((h,y)=>e[y]=h),o&&o.headers.forEach((h,y)=>e[y]=h)}$r(e,r){return`${this.kr}/v1/${r}:${jg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,r,o,h){return new Promise((y,D)=>{const U=new gu;U.listenOnce(pu.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Sa.NO_ERROR:const _e=U.getResponseJson();Jt("Connection","XHR received:",JSON.stringify(_e)),y(_e);break;case Sa.TIMEOUT:Jt("Connection",'RPC "'+e+'" timed out'),D(new Wt(At.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const Ge=U.getStatus();if(Jt("Connection",'RPC "'+e+'" failed with status:',Ge,"response text:",U.getResponseText()),Ge>0){const ut=U.getResponseJson().error;if(ut&&ut.status&&ut.message){const Pt=function(qt){const rn=qt.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(rn)>=0?rn:At.UNKNOWN}(ut.status);D(new Wt(Pt,ut.message))}else D(new Wt(At.UNKNOWN,"Server responded with status "+U.getStatus()))}else D(new Wt(At.UNAVAILABLE,"Connection failed."));break;default:Qt()}}finally{Jt("Connection",'RPC "'+e+'" completed.')}});const ee=JSON.stringify(h);U.send(r,"POST",ee,o,15)})}Ur(e,r,o){const h=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=so(),D=Fo(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new Io({})),this.Fr(U.initMessageHeaders,r,o),(0,ye.uI)()||(0,ye.b$)()||(0,ye.d)()||(0,ye.w1)()||(0,ye.Mn)()||(0,ye.ru)()||(U.httpHeadersOverwriteParam="$httpHeaders");const ee=h.join("");Jt("Connection","Creating WebChannel: "+ee,U);const _e=y.createWebChannel(ee,U);let Ge=!1,ut=!1;const Pt=new Hg({Ar:rn=>{ut?Jt("Connection","Not sending because WebChannel is closed:",rn):(Ge||(Jt("Connection","Opening WebChannel transport."),_e.open(),Ge=!0),Jt("Connection","WebChannel sending:",rn),_e.send(rn))},Rr:()=>_e.close()}),qt=(rn,rr,Gr)=>{rn.listen(rr,to=>{try{Gr(to)}catch(ta){setTimeout(()=>{throw ta},0)}})};return qt(_e,aa.EventType.OPEN,()=>{ut||Jt("Connection","WebChannel transport opened.")}),qt(_e,aa.EventType.CLOSE,()=>{ut||(ut=!0,Jt("Connection","WebChannel transport closed"),Pt.Cr())}),qt(_e,aa.EventType.ERROR,rn=>{ut||(ut=!0,or("Connection","WebChannel transport errored:",rn),Pt.Cr(new Wt(At.UNAVAILABLE,"The operation could not be completed")))}),qt(_e,aa.EventType.MESSAGE,rn=>{var rr;if(!ut){const Gr=rn.data[0];zn(!!Gr);const to=Gr,ta=to.error||(null===(rr=to[0])||void 0===rr?void 0:rr.error);if(ta){Jt("Connection","WebChannel received error:",ta);const Ig=ta.status;let hf=function(Wy){const ly=Is[Wy];if(void 0!==ly)return bd(ly)}(Ig),Cg=ta.message;void 0===hf&&(hf=At.INTERNAL,Cg="Unknown error status: "+Ig+" with message "+ta.message),ut=!0,Pt.Cr(new Wt(hf,Cg)),_e.close()}else Jt("Connection","WebChannel received:",Gr),Pt.Nr(Gr)}}),qt(D,Gl.STAT_EVENT,rn=>{rn.stat===yi.PROXY?Jt("Connection","Detected buffering proxy"):rn.stat===yi.NOPROXY&&Jt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Pt.Dr()},0),Pt}}function pc(){return"undefined"!=typeof window?window:null}function Yc(){return"undefined"!=typeof document?document:null}function $l(i){return new Iu(i,!0)}class gc{constructor(e,r,o=1e3,h=1.5,y=6e4){this.Sn=e,this.timerId=r,this.qr=o,this.Kr=h,this.Gr=y,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const r=Math.floor(this.jr+this.Jr()),o=Math.max(0,Date.now()-this.Wr),h=Math.max(0,r-o);h>0&&Jt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.jr} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,h,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class vo{constructor(e,r,o,h,y,D,U,ee){this.Sn=e,this.Xr=o,this.Zr=h,this.eo=y,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=U,this.listener=ee,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new gc(e,r)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,u.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,u.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,r){var o=this;return(0,u.Z)(function*(){o._o(),o.wo(),o.ro.cancel(),o.no++,4!==e?o.ro.reset():r&&r.code===At.RESOURCE_EXHAUSTED?(zi(r.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),o.ro.zr()):r&&r.code===At.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.mo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.vr(r)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),r=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.no===r&&this.po(o,h)},o=>{e(()=>{const h=new Wt(At.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Io(h)})})}po(e,r){const o=this.yo(this.no);this.stream=this.Eo(e,r),this.stream.Pr(()=>{o(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(h=>{o(()=>this.Io(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}uo(){var e=this;this.state=5,this.ro.Hr((0,u.Z)(function*(){e.state=0,e.start()}))}Io(e){return Jt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return r=>{this.Sn.enqueueAndForget(()=>this.no===e?r():(Jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wg extends vo{constructor(e,r,o,h,y,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,h,D),this.O=y}Eo(e,r){return this.eo.Ur("Listen",e,r)}onMessage(e){this.ro.reset();const r=function(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(ee=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:Qt(),h=e.targetChange.targetIds||[],y=function(ee,_e){return ee.N?(zn(void 0===_e||"string"==typeof _e),yn.fromBase64String(_e||"")):(zn(void 0===_e||_e instanceof Uint8Array),yn.fromUint8Array(_e||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,U=D&&function(ee){const _e=void 0===ee.code?At.UNKNOWN:bd(ee.code);return new Wt(_e,ee.message||"")}(D);r=new So(o,h,y,U||null)}else if("documentChange"in e){const o=e.documentChange,h=Mi(i,o.document.name),y=is(o.document.updateTime),D=new Dr({mapValue:{fields:o.document.fields}}),U=Bi.newFoundDocument(h,y,D);r=new zr(o.targetIds||[],o.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const o=e.documentDelete,h=Mi(i,o.document),y=o.readTime?is(o.readTime):T.min(),D=Bi.newNoDocument(h,y);r=new zr([],o.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const o=e.documentRemove,h=Mi(i,o.document);r=new zr([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Qt();{const o=e.filter,y=new eu(o.count||0);r=new Qi(o.targetId,y)}}var ee;return r}(this.O,e),o=function(h){if(!("targetChange"in h))return T.min();const y=h.targetChange;return y.targetIds&&y.targetIds.length?T.min():y.readTime?is(y.readTime):T.min()}(e);return this.listener.To(r,o)}Ao(e){const r={};r.database=Zu(this.O),r.addTarget=function(h,y){let D;const U=y.target;return D=Zs(U)?{documents:Qu(h,U)}:{query:Ao(h,U)},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?D.resumeToken=Ac(h,y.resumeToken):y.snapshotVersion.compareTo(T.min())>0&&(D.readTime=Ol(h,y.snapshotVersion.toTimestamp())),D}(this.O,e);const o=function(i,e){const r=function(o,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qt()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.fo(r)}Ro(e){const r={};r.database=Zu(this.O),r.removeTarget=e,this.fo(r)}}class Nh extends vo{constructor(e,r,o,h,y,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,h,D),this.O=y,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,r){return this.eo.Ur("Write",e,r)}onMessage(e){if(zn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const r=function(i,e){return i&&i.length>0?(zn(void 0!==e),i.map(r=>function(o,h){let y=is(o.updateTime?o.updateTime:h);return y.isEqual(T.min())&&(y=is(h)),new xl(y,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=is(e.commitTime);return this.listener.Vo(o,r)}return zn(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Zu(this.O),this.fo(e)}vo(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Dd(this.O,o))};this.fo(r)}}class kf extends class{}{constructor(e,r,o,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.eo=o,this.O=h,this.Co=!1}No(){if(this.Co)throw new Wt(At.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,r,o){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.eo.Mr(e,r,o,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Wt(At.UNKNOWN,h.toString())})}Lr(e,r,o){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.eo.Lr(e,r,o,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Wt(At.UNKNOWN,h.toString())})}terminate(){this.Co=!0}}class Ff{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(zi(r),this.Oo=!1):Jt("OnlineStateTracker",r)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class kh{constructor(e,r,o,h,y){var D=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=y,this.jo.mr(U=>{o.enqueueAndForget((0,u.Z)(function*(){var ee;Pu(D)&&(Jt("RemoteStore","Restarting streams for network reachability change."),yield(ee=(0,u.Z)(function*(_e){const Ge=en(_e);Ge.Ko.add(4),yield Qc(Ge),Ge.Qo.set("Unknown"),Ge.Ko.delete(4),yield qc(Ge)}),function(_e){return ee.apply(this,arguments)})(D))}))}),this.Qo=new Ff(o,h)}}function qc(i){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,u.Z)(function*(i){if(Pu(i))for(const e of i.Go)yield e(!0)}),Zc.apply(this,arguments)}function Qc(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,u.Z)(function*(i){for(const e of i.Go)yield e(!1)}),Fh.apply(this,arguments)}function Bp(i,e){const r=en(i);r.qo.has(e.targetId)||(r.qo.set(e.targetId,e),Lf(r)?Bh(r):yc(r).co()&&Lh(r,e))}function Xc(i,e){const r=en(i),o=yc(r);r.qo.delete(e),o.co()&&Vp(r,e),0===r.qo.size&&(o.co()?o.ho():Pu(r)&&r.Qo.set("Unknown"))}function Lh(i,e){i.Wo.Z(e.targetId),yc(i).Ao(e)}function Vp(i,e){i.Wo.Z(e),yc(i).Ro(e)}function Bh(i){i.Wo=new wu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>i.qo.get(e)||null}),yc(i).start(),i.Qo.Mo()}function Lf(i){return Pu(i)&&!yc(i).oo()&&i.qo.size>0}function Pu(i){return 0===en(i).Ko.size}function Jo(i){i.Wo=void 0}function zg(i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,u.Z)(function*(i){i.qo.forEach((e,r)=>{Lh(i,e)})}),Bf.apply(this,arguments)}function jm(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,u.Z)(function*(i,e){Jo(i),Lf(i)?(i.Qo.Bo(e),Bh(i)):i.Qo.set("Unknown")}),Gg.apply(this,arguments)}function Kg(i,e,r){return $p.apply(this,arguments)}function $p(){return $p=(0,u.Z)(function*(i,e,r){if(i.Qo.set("Online"),e instanceof So&&2===e.state&&e.cause)try{yield(o=(0,u.Z)(function*(h,y){const D=y.cause;for(const U of y.targetIds)h.qo.has(U)&&(yield h.remoteSyncer.rejectListen(U,D),h.qo.delete(U),h.Wo.removeTarget(U))}),function(h,y){return o.apply(this,arguments)})(i,e)}catch(o){Jt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vh(i,o)}else if(e instanceof zr?i.Wo.ct(e):e instanceof Qi?i.Wo._t(e):i.Wo.ht(e),!r.isEqual(T.min()))try{const o=yield cc(i.localStore);r.compareTo(o)>=0&&(yield function(h,y){const D=h.Wo.yt(y);return D.targetChanges.forEach((U,ee)=>{if(U.resumeToken.approximateByteSize()>0){const _e=h.qo.get(ee);_e&&h.qo.set(ee,_e.withResumeToken(U.resumeToken,y))}}),D.targetMismatches.forEach(U=>{const ee=h.qo.get(U);if(!ee)return;h.qo.set(U,ee.withResumeToken(yn.EMPTY_BYTE_STRING,ee.snapshotVersion)),Vp(h,U);const _e=new ya(ee.target,U,1,ee.sequenceNumber);Lh(h,_e)}),h.remoteSyncer.applyRemoteEvent(D)}(i,r))}catch(o){Jt("RemoteStore","Failed to raise snapshot:",o),yield Vh(i,o)}var o}),$p.apply(this,arguments)}function Vh(i,e,r){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,u.Z)(function*(i,e,r){if(!sl(e))throw e;i.Ko.add(1),yield Qc(i),i.Qo.set("Offline"),r||(r=()=>cc(i.localStore)),i.asyncQueue.enqueueRetryable((0,u.Z)(function*(){Jt("RemoteStore","Retrying IndexedDB access"),yield r(),i.Ko.delete(1),yield qc(i)}))}),Kd.apply(this,arguments)}function $h(i,e){return e().catch(r=>Vh(i,r,e))}function Jc(i){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,u.Z)(function*(i){const e=en(i),r=au(e);let o=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;Yg(e);)try{const h=yield Pp(e.localStore,o);if(null===h){0===e.Uo.length&&r.ho();break}o=h.batchId,Up(e,h)}catch(h){yield Vh(e,h)}ou(e)&&Js(e)}),Vf.apply(this,arguments)}function Yg(i){return Pu(i)&&i.Uo.length<10}function Up(i,e){i.Uo.push(e);const r=au(i);r.co()&&r.bo&&r.vo(e.mutations)}function ou(i){return Pu(i)&&!au(i).oo()&&i.Uo.length>0}function Js(i){au(i).start()}function Ea(i){return mc.apply(this,arguments)}function mc(){return mc=(0,u.Z)(function*(i){au(i).Do()}),mc.apply(this,arguments)}function jp(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,u.Z)(function*(i){const e=au(i);for(const r of i.Uo)e.vo(r.mutations)}),Uh.apply(this,arguments)}function qg(i,e,r){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,u.Z)(function*(i,e,r){const o=i.Uo.shift(),h=rc.from(o,e,r);yield $h(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield Jc(i)}),Ua.apply(this,arguments)}function dl(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,u.Z)(function*(i,e){var r;e&&au(i).bo&&(yield(r=(0,u.Z)(function*(o,h){if(ff(y=h.code)&&y!==At.ABORTED){const D=o.Uo.shift();au(o).ao(),yield $h(o,()=>o.remoteSyncer.rejectFailedWrite(D.batchId,h)),yield Jc(o)}var y}),function(o,h){return r.apply(this,arguments)})(i,e)),ou(i)&&Js(i)}),jh.apply(this,arguments)}function Hp(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,u.Z)(function*(i,e){const r=en(i);r.asyncQueue.verifyOperationInProgress(),Jt("RemoteStore","RemoteStore received new credentials");const o=Pu(r);r.Ko.add(3),yield Qc(r),o&&r.Qo.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Ko.delete(3),yield qc(r)}),Wp.apply(this,arguments)}function Hh(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,u.Z)(function*(i,e){const r=en(i);e?(r.Ko.delete(2),yield qc(r)):e||(r.Ko.add(2),yield Qc(r),r.Qo.set("Unknown"))}),Wh.apply(this,arguments)}function yc(i){return i.zo||(i.zo=function(e,r,o){const h=en(e);return h.No(),new Wg(r,h.eo,h.authCredentials,h.appCheckCredentials,h.O,o)}(i.datastore,i.asyncQueue,{Pr:zg.bind(null,i),vr:jm.bind(null,i),To:Kg.bind(null,i)}),i.Go.push(function(){var e=(0,u.Z)(function*(r){r?(i.zo.ao(),Lf(i)?Bh(i):i.Qo.set("Unknown")):(yield i.zo.stop(),Jo(i))});return function(r){return e.apply(this,arguments)}}())),i.zo}function au(i){return i.Ho||(i.Ho=function(e,r,o){const h=en(e);return h.No(),new Nh(r,h.eo,h.authCredentials,h.appCheckCredentials,h.O,o)}(i.datastore,i.asyncQueue,{Pr:Ea.bind(null,i),vr:dl.bind(null,i),So:jp.bind(null,i),Vo:qg.bind(null,i)}),i.Go.push(function(){var e=(0,u.Z)(function*(r){r?(i.Ho.ao(),yield Jc(i)):(yield i.Ho.stop(),i.Uo.length>0&&(Jt("RemoteStore",`Stopping write stream with ${i.Uo.length} pending writes`),i.Uo=[]))});return function(r){return e.apply(this,arguments)}}())),i.Ho}class ed{constructor(e,r,o,h,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=h,this.removalCallback=y,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,r,o,h,y){const D=Date.now()+o,U=new ed(e,r,D,h,y);return U.start(o),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wt(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ul(i,e){if(zi("AsyncQueue",`${e}: ${i}`),sl(i))return new Wt(At.UNAVAILABLE,`${e}: ${i}`);throw i}class td{constructor(e){this.comparator=e?(r,o)=>e(r,o)||kn.comparator(r.key,o.key):(r,o)=>kn.comparator(r.key,o.key),this.keyedMap=v(),this.sortedSet=new Cs(this.comparator)}static emptySet(e){return new td(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof td)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=o.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new td;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class nd{constructor(){this.Jo=new Cs(kn.comparator)}track(e){const r=e.doc.key,o=this.Jo.get(r);o?0!==e.type&&3===o.type?this.Jo=this.Jo.insert(r,e):3===e.type&&1!==o.type?this.Jo=this.Jo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Jo=this.Jo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Jo=this.Jo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Jo=this.Jo.remove(r):1===e.type&&2===o.type?this.Jo=this.Jo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Jo=this.Jo.insert(r,{type:2,doc:e.doc}):Qt():this.Jo=this.Jo.insert(r,e)}Yo(){const e=[];return this.Jo.inorderTraversal((r,o)=>{e.push(o)}),e}}class Nu{constructor(e,r,o,h,y,D,U,ee){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=y,this.fromCache=D,this.syncStateChanged=U,this.excludesMetadataChanges=ee}static fromInitialDocuments(e,r,o,h){const y=[];return r.forEach(D=>{y.push({type:0,doc:D})}),new Nu(e,r,td.emptySet(r),y,o,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==o[h].type||!r[h].doc.isEqual(o[h].doc))return!1;return!0}}class Zg{constructor(){this.Xo=void 0,this.listeners=[]}}class zh{constructor(){this.queries=new lc(e=>Qs(e),Fs),this.onlineState="Unknown",this.Zo=new Set}}function rd(i,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,u.Z)(function*(i,e){const r=en(i),o=e.query;let h=!1,y=r.queries.get(o);if(y||(h=!0,y=new Zg),h)try{y.Xo=yield r.onListen(o)}catch(D){const U=Ul(D,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(U)}r.queries.set(o,y),y.listeners.push(e),e.tc(r.onlineState),y.Xo&&e.ec(y.Xo)&&Hf(r)}),Yd.apply(this,arguments)}function $f(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,u.Z)(function*(i,e){const r=en(i),o=e.query;let h=!1;const y=r.queries.get(o);if(y){const D=y.listeners.indexOf(e);D>=0&&(y.listeners.splice(D,1),h=0===y.listeners.length)}if(h)return r.queries.delete(o),r.onUnlisten(o)}),Uf.apply(this,arguments)}function jf(i,e){const r=en(i);let o=!1;for(const h of e){const D=r.queries.get(h.query);if(D){for(const U of D.listeners)U.ec(h)&&(o=!0);D.Xo=h}}o&&Hf(r)}function Qg(i,e,r){const o=en(i),h=o.queries.get(e);if(h)for(const y of h.listeners)y.onError(r);o.queries.delete(e)}function Hf(i){i.Zo.forEach(e=>{e.next()})}class Gh{constructor(e,r,o){this.query=e,this.nc=r,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=o||{}}ec(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new Nu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.sc?this.rc(e)&&(this.nc.next(e),r=!0):this.oc(e,this.onlineState)&&(this.cc(e),r=!0),this.ic=e,r}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let r=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),r=!0),r}oc(e,r){return!e.fromCache||!(this.options.uc&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class Wf{constructor(e,r){this.payload=e,this.byteLength=r}ac(){return"metadata"in this.payload}}class zf{constructor(e){this.O=e}Gs(e){return Mi(this.O,e)}js(e){return e.metadata.exists?vp(this.O,e.document,!1):Bi.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return is(e)}}class zp{constructor(e,r,o){this.hc=e,this.localStore=r,this.O=o,this.queries=[],this.documents=[],this.progress=Gf(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}fc(e){const r=new Map,o=new zf(this.O);for(const h of e)if(h.metadata.queries){const y=o.Gs(h.metadata.name);for(const D of h.metadata.queries){const U=(r.get(D)||Ce()).add(y);r.set(D,U)}}return r}complete(){var e=this;return(0,u.Z)(function*(){const r=yield function(i,e,r,o){return Mf.apply(this,arguments)}(e.localStore,new zf(e.O),e.documents,e.hc.id),o=e.fc(e.documents);for(const h of e.queries)yield Kc(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",new $d(Object.assign({},e.progress),r)})()}}function Gf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class jl{constructor(e){this.key=e}}class qd{constructor(e){this.key=e}}class Gp{constructor(e,r){this.query=e,this.dc=r,this._c=null,this.current=!1,this.wc=Ce(),this.mutatedKeys=Ce(),this.mc=Do(e),this.gc=new td(this.mc)}get yc(){return this.dc}Ic(e,r){const o=r?r.Ec:new nd,h=r?r.gc:this.gc;let y=r?r.mutatedKeys:this.mutatedKeys,D=h,U=!1;const ee=er(this.query)&&h.size===this.query.limit?h.last():null,_e=ui(this.query)&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Ge,ut)=>{const Pt=h.get(Ge),qt=Ja(this.query,ut)?ut:null,rn=!!Pt&&this.mutatedKeys.has(Pt.key),rr=!!qt&&(qt.hasLocalMutations||this.mutatedKeys.has(qt.key)&&qt.hasCommittedMutations);let Gr=!1;Pt&&qt?Pt.data.isEqual(qt.data)?rn!==rr&&(o.track({type:3,doc:qt}),Gr=!0):this.Tc(Pt,qt)||(o.track({type:2,doc:qt}),Gr=!0,(ee&&this.mc(qt,ee)>0||_e&&this.mc(qt,_e)<0)&&(U=!0)):!Pt&&qt?(o.track({type:0,doc:qt}),Gr=!0):Pt&&!qt&&(o.track({type:1,doc:Pt}),Gr=!0,(ee||_e)&&(U=!0)),Gr&&(qt?(D=D.add(qt),y=rr?y.add(Ge):y.delete(Ge)):(D=D.delete(Ge),y=y.delete(Ge)))}),er(this.query)||ui(this.query))for(;D.size>this.query.limit;){const Ge=er(this.query)?D.last():D.first();D=D.delete(Ge.key),y=y.delete(Ge.key),o.track({type:1,doc:Ge})}return{gc:D,Ec:o,ks:U,mutatedKeys:y}}Tc(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const h=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const y=e.Ec.Yo();y.sort((_e,Ge)=>function(ut,Pt){const qt=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt()}};return qt(ut)-qt(Pt)}(_e.type,Ge.type)||this.mc(_e.doc,Ge.doc)),this.Ac(o);const D=r?this.Rc():[],U=0===this.wc.size&&this.current?1:0,ee=U!==this._c;return this._c=U,0!==y.length||ee?{snapshot:new Nu(this.query,e.gc,h,y,e.mutatedKeys,0===U,ee,!1),Pc:D}:{Pc:D}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new nd,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(r=>this.dc=this.dc.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.dc=this.dc.delete(r)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Ce(),this.gc.forEach(o=>{this.bc(o.key)&&(this.wc=this.wc.add(o.key))});const r=[];return e.forEach(o=>{this.wc.has(o)||r.push(new qd(o))}),this.wc.forEach(o=>{e.has(o)||r.push(new jl(o))}),r}vc(e){this.dc=e.Ks,this.wc=Ce();const r=this.Ic(e.documents);return this.applyChanges(r,!0)}Vc(){return Nu.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Kf{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Cy{constructor(e){this.key=e,this.Sc=!1}}class Kh{constructor(e,r,o,h,y,D){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=D,this.Dc={},this.Cc=new lc(U=>Qs(U),Fs),this.Nc=new Map,this.xc=new Set,this.kc=new Cs(kn.comparator),this.Oc=new Map,this.Mc=new Of,this.$c={},this.Fc=new Map,this.Bc=Mu.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function Xg(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,u.Z)(function*(i,e){const r=ep(i);let o,h;const y=r.Cc.get(e);if(y)o=y.targetId,r.sharedClientState.addLocalQueryTarget(o),h=y.view.Vc();else{const D=yield hc(r.localStore,Gs(e));r.isPrimaryClient&&Bp(r.remoteStore,D);const U=r.sharedClientState.addLocalQueryTarget(D.targetId);o=D.targetId,h=yield id(r,e,o,"current"===U)}return h}),Yh.apply(this,arguments)}function id(i,e,r,o){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,u.Z)(function*(i,e,r,o){i.Uc=(Ge,ut,Pt)=>{return(qt=(0,u.Z)(function*(rn,rr,Gr,to){let ta=rr.view.Ic(Gr);ta.ks&&(ta=yield Ud(rn.localStore,rr.query,!1).then(({documents:Cg})=>rr.view.Ic(Cg,ta)));const Ig=to&&to.targetChanges.get(rr.targetId),hf=rr.view.applyChanges(ta,rn.isPrimaryClient,Ig);return sd(rn,rr.targetId,hf.Pc),hf.snapshot}),function(rn,rr,Gr,to){return qt.apply(this,arguments)})(i,Ge,ut,Pt);var qt};const h=yield Ud(i.localStore,e,!0),y=new Gp(e,h.Ks),D=y.Ic(h.documents),U=cr.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),ee=y.applyChanges(D,i.isPrimaryClient,U);sd(i,r,ee.Pc);const _e=new Kf(e,r,y);return i.Cc.set(e,_e),i.Nc.has(r)?i.Nc.get(r).push(e):i.Nc.set(r,[e]),ee.snapshot}),Kp.apply(this,arguments)}function hl(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,u.Z)(function*(i,e){const r=en(i),o=r.Cc.get(e),h=r.Nc.get(o.targetId);if(h.length>1)return r.Nc.set(o.targetId,h.filter(y=>!Fs(y,e))),void r.Cc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield $a(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Xc(r.remoteStore,o.targetId),ku(r,o.targetId)}).catch(ac))):(ku(r,o.targetId),yield $a(r.localStore,o.targetId,!0))}),Yf.apply(this,arguments)}function qf(){return qf=(0,u.Z)(function*(i,e,r){const o=tp(i);try{const h=yield function(y,D){const U=en(y),ee=O.now(),_e=D.reduce((ut,Pt)=>ut.add(Pt.key),Ce());let Ge;return U.persistence.runTransaction("Locally write mutations","readwrite",ut=>U.Us.Es(ut,_e).next(Pt=>{Ge=Pt;const qt=[];for(const rn of D){const rr=vd(rn,Ge.get(rn.key));null!=rr&&qt.push(new To(rn.key,rr,Oa(rr.value.mapValue),ws.exists(!0)))}return U.gs.addMutationBatch(ut,ee,qt,D)})).then(ut=>(ut.applyToLocalDocumentSet(Ge),{batchId:ut.batchId,changes:Ge}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(y,D,U){let ee=y.$c[y.currentUser.toKey()];ee||(ee=new Cs(wr)),ee=ee.insert(D,U),y.$c[y.currentUser.toKey()]=ee}(o,h.batchId,r),yield Uo(o,h.changes),yield Jc(o.remoteStore)}catch(h){const y=Ul(h,"Failed to persist write");r.reject(y)}}),qf.apply(this,arguments)}function Zf(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,u.Z)(function*(i,e){const r=en(i);try{const o=yield Xo(r.localStore,e);e.targetChanges.forEach((h,y)=>{const D=r.Oc.get(y);D&&(zn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?D.Sc=!0:h.modifiedDocuments.size>0?zn(D.Sc):h.removedDocuments.size>0&&(zn(D.Sc),D.Sc=!1))}),yield Uo(r,o,e)}catch(o){yield ac(o)}}),Zd.apply(this,arguments)}function em(i,e,r){const o=en(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const h=[];o.Cc.forEach((y,D)=>{const U=D.view.tc(e);U.snapshot&&h.push(U.snapshot)}),function(y,D){const U=en(y);U.onlineState=D;let ee=!1;U.queries.forEach((_e,Ge)=>{for(const ut of Ge.listeners)ut.tc(D)&&(ee=!0)}),ee&&Hf(U)}(o.eventManager,e),h.length&&o.Dc.To(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Hm(i,e,r){return _c.apply(this,arguments)}function _c(){return _c=(0,u.Z)(function*(i,e,r){const o=en(i);o.sharedClientState.updateQueryState(e,"rejected",r);const h=o.Oc.get(e),y=h&&h.key;if(y){let D=new Cs(kn.comparator);D=D.insert(y,Bi.newNoDocument(y,T.min()));const U=Ce().add(y),ee=new Vn(T.min(),new Map,new Zi(wr),D,U);yield Zf(o,ee),o.kc=o.kc.remove(y),o.Oc.delete(e),qh(o)}else yield $a(o.localStore,e,!1).then(()=>ku(o,e,r)).catch(ac)}),_c.apply(this,arguments)}function Qd(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,u.Z)(function*(i,e){const r=en(i),o=e.batch.batchId;try{const h=yield Ll(r.localStore,e);Qp(r,o,null),Zp(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Uo(r,h)}catch(h){yield ac(h)}}),Qf.apply(this,arguments)}function Wm(i,e,r){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,u.Z)(function*(i,e,r){const o=en(i);try{const h=yield function(y,D){const U=en(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let _e;return U.gs.lookupMutationBatch(ee,D).next(Ge=>(zn(null!==Ge),_e=Ge.keys(),U.gs.removeMutationBatch(ee,Ge))).next(()=>U.gs.performConsistencyCheck(ee)).next(()=>U.Us.Es(ee,_e))})}(o.localStore,e);Qp(o,e,r),Zp(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Uo(o,h)}catch(h){yield ac(h)}}),Yp.apply(this,arguments)}function qp(){return qp=(0,u.Z)(function*(i,e){const r=en(i);Pu(r.remoteStore)||Jt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(y){const D=en(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>D.gs.getHighestUnacknowledgedBatchId(U))}(r.localStore);if(-1===o)return void e.resolve();const h=r.Fc.get(o)||[];h.push(e),r.Fc.set(o,h)}catch(o){const h=Ul(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),qp.apply(this,arguments)}function Zp(i,e){(i.Fc.get(e)||[]).forEach(r=>{r.resolve()}),i.Fc.delete(e)}function Qp(i,e,r){const o=en(i);let h=o.$c[o.currentUser.toKey()];if(h){const y=h.get(e);y&&(r?y.reject(r):y.resolve(),h=h.remove(e)),o.$c[o.currentUser.toKey()]=h}}function ku(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Nc.get(e))i.Cc.delete(o),r&&i.Dc.qc(o,r);i.Nc.delete(e),i.isPrimaryClient&&i.Mc.si(e).forEach(o=>{i.Mc.containsKey(o)||ea(i,o)})}function ea(i,e){i.xc.delete(e.path.canonicalString());const r=i.kc.get(e);null!==r&&(Xc(i.remoteStore,r),i.kc=i.kc.remove(e),i.Oc.delete(r),qh(i))}function sd(i,e,r){for(const o of r)o instanceof jl?(i.Mc.addReference(o.key,e),Xp(i,o)):o instanceof qd?(Jt("SyncEngine","Document no longer in limbo: "+o.key),i.Mc.removeReference(o.key,e),i.Mc.containsKey(o.key)||ea(i,o.key)):Qt()}function Xp(i,e){const r=e.key,o=r.path.canonicalString();i.kc.get(r)||i.xc.has(o)||(Jt("SyncEngine","New document in limbo: "+r),i.xc.add(o),qh(i))}function qh(i){for(;i.xc.size>0&&i.kc.size<i.maxConcurrentLimboResolutions;){const e=i.xc.values().next().value;i.xc.delete(e);const r=new kn(Ie.fromString(e)),o=i.Bc.next();i.Oc.set(o,new Cy(r)),i.kc=i.kc.insert(r,o),Bp(i.remoteStore,new ya(Gs(An(r.path)),o,2,Gi.A))}}function Uo(i,e,r){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,u.Z)(function*(i,e,r){const o=en(i),h=[],y=[],D=[];var U;o.Cc.isEmpty()||(o.Cc.forEach((U,ee)=>{D.push(o.Uc(ee,e,r).then(_e=>{if(_e){o.isPrimaryClient&&o.sharedClientState.updateQueryState(ee.targetId,_e.fromCache?"not-current":"current"),h.push(_e);const Ge=Gc.Ss(ee.targetId,_e);y.push(Ge)}}))}),yield Promise.all(D),o.Dc.To(h),yield(U=(0,u.Z)(function*(ee,_e){const Ge=en(ee);try{yield Ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",ut=>Vt.forEach(_e,Pt=>Vt.forEach(Pt.vs,qt=>Ge.persistence.referenceDelegate.addReference(ut,Pt.targetId,qt)).next(()=>Vt.forEach(Pt.Vs,qt=>Ge.persistence.referenceDelegate.removeReference(ut,Pt.targetId,qt)))))}catch(ut){if(!sl(ut))throw ut;Jt("LocalStore","Failed to update sequence numbers: "+ut)}for(const ut of _e){const Pt=ut.targetId;if(!ut.fromCache){const qt=Ge.Ms.get(Pt),rr=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);Ge.Ms=Ge.Ms.insert(Pt,rr)}}}),function(ee,_e){return U.apply(this,arguments)})(o.localStore,y))}),Fu.apply(this,arguments)}function tm(i,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,u.Z)(function*(i,e){const r=en(i);if(!r.currentUser.isEqual(e)){Jt("SyncEngine","User change. New user:",e.toKey());const o=yield ao(r.localStore,e);r.currentUser=e,(h=r).Fc.forEach(D=>{D.forEach(U=>{U.reject(new Wt(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Fc.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Uo(r,o.qs)}var h}),Jp.apply(this,arguments)}function eg(i,e){const r=en(i),o=r.Oc.get(e);if(o&&o.Sc)return Ce().add(o.key);{let h=Ce();const y=r.Nc.get(e);if(!y)return h;for(const D of y){const U=r.Cc.get(D);h=h.unionWith(U.view.yc)}return h}}function Xf(i,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,u.Z)(function*(i,e){const r=en(i),o=yield Ud(r.localStore,e.query,!0),h=e.view.vc(o);return r.isPrimaryClient&&sd(r,e.targetId,h.Pc),h}),Jd.apply(this,arguments)}function Dy(i){return od.apply(this,arguments)}function od(){return od=(0,u.Z)(function*(i){const e=en(i);return Sh(e.localStore).then(r=>Uo(e,r))}),od.apply(this,arguments)}function nm(i,e,r,o){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,u.Z)(function*(i,e,r,o){const h=en(i),y=yield function(D,U){const ee=en(D),_e=en(ee.gs);return ee.persistence.runTransaction("Lookup mutation documents","readonly",Ge=>_e.Ge(Ge,U).next(ut=>ut?ee.Us.Es(Ge,ut):Vt.resolve(null)))}(h.localStore,e);var U;null!==y?("pending"===r?yield Jc(h.remoteStore):"acknowledged"===r||"rejected"===r?(Qp(h,e,o||null),Zp(h,e),U=e,en(en(h.localStore).gs).Qe(U)):Qt(),yield Uo(h,y)):Jt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jf.apply(this,arguments)}function rm(){return rm=(0,u.Z)(function*(i,e){const r=en(i);if(ep(r),tp(r),!0===e&&!0!==r.Lc){const o=r.sharedClientState.getAllActiveQueryTargets(),h=yield Zh(r,o.toArray());r.Lc=!0,yield Hh(r.remoteStore,!0);for(const y of h)Bp(r.remoteStore,y)}else if(!1===e&&!1!==r.Lc){const o=[];let h=Promise.resolve();r.Nc.forEach((y,D)=>{r.sharedClientState.isLocalQueryTarget(D)?o.push(D):h=h.then(()=>(ku(r,D),$a(r.localStore,D,!0))),Xc(r.remoteStore,D)}),yield h,yield Zh(r,o),function(y){const D=en(y);D.Oc.forEach((U,ee)=>{Xc(D.remoteStore,ee)}),D.Mc.ii(),D.Oc=new Map,D.kc=new Cs(kn.comparator)}(r),r.Lc=!1,yield Hh(r.remoteStore,!1)}}),rm.apply(this,arguments)}function Zh(i,e,r){return tg.apply(this,arguments)}function tg(){return tg=(0,u.Z)(function*(i,e,r){const o=en(i),h=[],y=[];for(const D of e){let U;const ee=o.Nc.get(D);if(ee&&0!==ee.length){U=yield hc(o.localStore,Gs(ee[0]));for(const _e of ee){const Ge=o.Cc.get(_e),ut=yield Xf(o,Ge);ut.snapshot&&y.push(ut.snapshot)}}else{const _e=yield Fg(o.localStore,D);U=yield hc(o.localStore,_e),yield id(o,ng(_e),D,!1)}h.push(U)}return o.Dc.To(y),h}),tg.apply(this,arguments)}function ng(i){return On(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function im(i){const e=en(i);return en(en(e.localStore).persistence).ds()}function Sy(i,e,r,o){return ja.apply(this,arguments)}function ja(){return ja=(0,u.Z)(function*(i,e,r,o){const h=en(i);if(h.Lc)Jt("SyncEngine","Ignoring unexpected query state notification.");else if(h.Nc.has(e))switch(r){case"current":case"not-current":{const y=yield Sh(h.localStore),D=Vn.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Uo(h,y,D);break}case"rejected":yield $a(h.localStore,e,!0),ku(h,e,o);break;default:Qt()}}),ja.apply(this,arguments)}function Ay(i,e,r){return sm.apply(this,arguments)}function sm(){return sm=(0,u.Z)(function*(i,e,r){const o=ep(i);if(o.Lc){for(const h of e){if(o.Nc.has(h)){Jt("SyncEngine","Adding an already active target "+h);continue}const y=yield Fg(o.localStore,h),D=yield hc(o.localStore,y);yield id(o,ng(y),D.targetId,!1),Bp(o.remoteStore,D)}for(const h of r)o.Nc.has(h)&&(yield $a(o.localStore,h,!1).then(()=>{Xc(o.remoteStore,h),ku(o,h)}).catch(ac))}}),sm.apply(this,arguments)}function ep(i){const e=en(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hm.bind(null,e),e.Dc.To=jf.bind(null,e.eventManager),e.Dc.qc=Qg.bind(null,e.eventManager),e}function tp(i){const e=en(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wm.bind(null,e),e}class am{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,u.Z)(function*(){r.O=$l(e.databaseInfo.databaseId),r.sharedClientState=r.Gc(e),r.persistence=r.jc(e),yield r.persistence.start(),r.gcScheduler=r.Qc(e),r.localStore=r.Wc(e)})()}Qc(e){return null}Wc(e){return Op(this.persistence,new Mp,e.initialUser,this.O)}jc(e){return new $g(Hd.bi,this.O)}Gc(e){return new Ph}terminate(){var e=this;return(0,u.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zm extends am{constructor(e,r,o){super(),this.zc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,u.Z)(function*(){yield r().call(o,e),yield function(i){return Ah.apply(this,arguments)}(o.localStore),yield o.zc.initialize(o,e),yield tp(o.zc.syncEngine),yield Jc(o.zc.remoteStore),yield o.persistence.Hn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Wc(e){return Op(this.persistence,new Mp,e.initialUser,this.O)}Qc(e){return new xp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const r=cl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new Wc(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,pc(),Yc(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new Ph}}class lm extends zm{constructor(e,r){super(e,r,!1),this.zc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,u.Z)(function*(){yield r().call(o,e);const h=o.zc.syncEngine;o.sharedClientState instanceof Pf&&(o.sharedClientState.syncEngine={hr:nm.bind(null,h),lr:Sy.bind(null,h),dr:Ay.bind(null,h),ds:im.bind(null,h),ar:Dy.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.Hn(function(){var y=(0,u.Z)(function*(D){yield function(i,e){return rm.apply(this,arguments)}(o.zc.syncEngine,D),o.gcScheduler&&(D&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):D||o.gcScheduler.stop())});return function(D){return y.apply(this,arguments)}}())})()}Gc(e){const r=pc();if(!Pf.Vt(r))throw new Wt(At.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=cl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pf(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Qh{initialize(e,r){var o=this;return(0,u.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>em(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=tm.bind(null,o.syncEngine),yield Hh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zh}createDatastore(e){const r=$l(e.databaseInfo.databaseId),o=new Gd(e.databaseInfo);return new kf(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,h=e.asyncQueue,y=U=>em(this.syncEngine,U,0),D=Nf.Vt()?new Nf:new Ug,new kh(r,o,h,y,D);var r,o,h,y,D}createSyncEngine(e,r){return function(o,h,y,D,U,ee,_e){const Ge=new Kh(o,h,y,D,U,ee);return _e&&(Ge.Lc=!0),Ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,u.Z)(function*(r){const o=en(r);Jt("RemoteStore","RemoteStore shutting down."),o.Ko.add(5),yield Qc(o),o.jo.shutdown(),o.Qo.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function um(i,e=10240){let r=0;return{read:()=>(0,u.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,u.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Gm{constructor(e,r){this.Yc=e,this.O=r,this.metadata=new ki,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(o=>{o&&o.ac()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,u.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,u.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,u.Z)(function*(){const r=yield e.tu();if(null===r)return null;const o=e.Xc.decode(r),h=Number(o);isNaN(h)&&e.eu(`length string (${o}) is not valid number`);const y=yield e.nu(h);return new Wf(JSON.parse(y),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,u.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.eu("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}nu(e){var r=this;return(0,u.Z)(function*(){for(;r.buffer.length<e;)(yield r.iu())&&r.eu("Reached the end of bundle when more is expected.");const o=r.Xc.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,u.Z)(function*(){const r=yield e.Yc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class Km{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,u.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Wt(At.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(h=(0,u.Z)(function*(y,D){const U=en(y),ee=Zu(U.O)+"/documents",_e={documents:D.map(qt=>qu(U.O,qt))},Ge=yield U.Lr("BatchGetDocuments",ee,_e),ut=new Map;Ge.forEach(qt=>{const rn=function(i,e){return"found"in e?function(r,o){zn(!!o.found);const h=Mi(r,o.found.name),y=is(o.found.updateTime),D=new Dr({mapValue:{fields:o.found.fields}});return Bi.newFoundDocument(h,y,D)}(i,e):"missing"in e?function(r,o){zn(!!o.missing),zn(!!o.readTime);const h=Mi(r,o.missing),y=is(o.readTime);return Bi.newNoDocument(h,y)}(i,e):Qt()}(U.O,qt);ut.set(rn.key.toString(),rn)});const Pt=[];return D.forEach(qt=>{const rn=ut.get(qt.toString());zn(!!rn),Pt.push(rn)}),Pt}),function(y,D){return h.apply(this,arguments)})(r.datastore,e);var h;return o.forEach(h=>r.recordVersion(h)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,u.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,h)=>{const y=kn.fromPath(h);e.mutations.push(new Fa(y,e.precondition(y)))}),yield(o=(0,u.Z)(function*(h,y){const D=en(h),U=Zu(D.O)+"/documents",ee={writes:y.map(_e=>Dd(D.O,_e))};yield D.Mr("Commit",U,ee)}),function(h,y){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Qt();r=T.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Wt(At.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?ws.updateTime(r):ws.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(T.min()))throw new Wt(At.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ws.updateTime(r)}return ws.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ym{constructor(e,r,o,h){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=h,this.ru=5,this.ro=new gc(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,u.Z)(function*(){const r=new Km(e.datastore),o=e.cu(r);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.uu(y)}))}).catch(h=>{e.uu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!xa(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!ff(r)}return!1}}class qm{constructor(e,r,o,h){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=h,this.user=Ni.UNAUTHENTICATED,this.clientId=Hs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var D=(0,u.Z)(function*(U){Jt("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(o,D=>(Jt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,u.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wt(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const h=Ul(o,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function cm(i,e){return rg.apply(this,arguments)}function rg(){return rg=(0,u.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Jt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var h=(0,u.Z)(function*(y){o.isEqual(y)||(yield ao(e.localStore,y),o=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),rg.apply(this,arguments)}function Xh(i,e){return vc.apply(this,arguments)}function vc(){return vc=(0,u.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield ig(i);Jt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(h=>Hp(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,y)=>Hp(e.remoteStore,y)),i.onlineComponents=e}),vc.apply(this,arguments)}function ig(i){return ad.apply(this,arguments)}function ad(){return ad=(0,u.Z)(function*(i){return i.offlineComponents||(Jt("FirestoreClient","Using default OfflineComponentProvider"),yield cm(i,new am)),i.offlineComponents}),ad.apply(this,arguments)}function np(i){return sg.apply(this,arguments)}function sg(){return sg=(0,u.Z)(function*(i){return i.onlineComponents||(Jt("FirestoreClient","Using default OnlineComponentProvider"),yield Xh(i,new Qh)),i.onlineComponents}),sg.apply(this,arguments)}function rp(i){return ig(i).then(e=>e.persistence)}function fl(i){return ig(i).then(e=>e.localStore)}function th(i){return np(i).then(e=>e.remoteStore)}function Eo(i){return np(i).then(e=>e.syncEngine)}function pl(i){return nh.apply(this,arguments)}function nh(){return nh=(0,u.Z)(function*(i){const e=yield np(i),r=e.eventManager;return r.onListen=Xg.bind(null,e.syncEngine),r.onUnlisten=hl.bind(null,e.syncEngine),r}),nh.apply(this,arguments)}function ld(i,e,r={}){const o=new ki;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(h,y,D,U,ee){const _e=new eh({next:ut=>{y.enqueueAndForget(()=>$f(h,Ge));const Pt=ut.docs.has(D);!Pt&&ut.fromCache?ee.reject(new Wt(At.UNAVAILABLE,"Failed to get document because the client is offline.")):Pt&&ut.fromCache&&U&&"server"===U.source?ee.reject(new Wt(At.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(ut)},error:ut=>ee.reject(ut)}),Ge=new Gh(An(D.path),_e,{includeMetadataChanges:!0,uc:!0});return rd(h,Ge)}(yield pl(i),i.asyncQueue,e,r,o)})),o.promise}function ud(i,e,r={}){const o=new ki;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(h,y,D,U,ee){const _e=new eh({next:ut=>{y.enqueueAndForget(()=>$f(h,Ge)),ut.fromCache&&"server"===U.source?ee.reject(new Wt(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(ut)},error:ut=>ee.reject(ut)}),Ge=new Gh(D,_e,{includeMetadataChanges:!0,uc:!0});return rd(h,Ge)}(yield pl(i),i.asyncQueue,e,r,o)})),o.promise}const cd=new Map;function ip(i,e,r){if(!r)throw new Wt(At.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ag(i,e,r,o){if(!0===e&&!0===o)throw new Wt(At.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function lg(i){if(!kn.isDocumentKey(i))throw new Wt(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ug(i){if(kn.isDocumentKey(i))throw new Wt(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":Qt()}function ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Wt(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jh(i);throw new Wt(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function cg(i,e){if(e<=0)throw new Wt(At.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class dg{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new Wt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ag("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dg({}),this._settingsFrozen=!1,e instanceof Ns?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Wt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(h.options.projectId)}(e))}get app(){if(!this._app)throw new Wt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dg(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Nr;switch(r.type){case"gapi":const o=r.client;return zn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new qi(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Wt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=cd.get(e);r&&(Jt("ComponentProvider","Removing Datastore"),cd.delete(e),r.terminate())}(this),Promise.resolve()}}function dm(i,e,r,o={}){var h;const y=(i=ii(i,uh))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&or("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let D,U;if("string"==typeof o.mockUserToken)D=o.mockUserToken,U=Ni.MOCK_USER;else{D=(0,ye.Sg)(o.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const ee=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ee)throw new Wt(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new Ni(ee)}i._authCredentials=new hs(new ai(D,U))}}class os{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new os(this.firestore,e,this._key)}}class bo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class ml extends bo{constructor(e,r,o){super(e,r,An(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new os(this.firestore,null,new kn(e))}withConverter(e){return new ml(this.firestore,e,this._path)}}function hm(i,e,...r){if(i=(0,ye.m9)(i),ip("collection","path",e),i instanceof uh){const o=Ie.fromString(e,...r);return ug(o),new ml(i,null,o)}{if(!(i instanceof os||i instanceof ml))throw new Wt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ie.fromString(e,...r));return ug(o),new ml(i.firestore,null,o)}}function sp(i,e){if(i=ii(i,uh),ip("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wt(At.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bo(i,null,(r=e,new Ht(Ie.emptyPath(),r)));var r}function hg(i,e,...r){if(i=(0,ye.m9)(i),1===arguments.length&&(e=Hs.R()),ip("doc","path",e),i instanceof uh){const o=Ie.fromString(e,...r);return lg(o),new os(i,null,new kn(o))}{if(!(i instanceof os||i instanceof ml))throw new Wt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ie.fromString(e,...r));return lg(o),new os(i.firestore,i instanceof ml?i.converter:null,new kn(o))}}function fg(i,e){return i=(0,ye.m9)(i),e=(0,ye.m9)(e),(i instanceof os||i instanceof ml)&&(e instanceof os||e instanceof ml)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function pg(i,e){return i=(0,ye.m9)(i),e=(0,ye.m9)(e),i instanceof bo&&e instanceof bo&&i.firestore===e.firestore&&Fs(i._query,e._query)&&i.converter===e.converter}class gg{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new gc(this,"async_queue_retry"),this.yu=()=>{const r=Yc();r&&Jt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ro.Yr()};const e=Yc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const r=Yc();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const r=new ki;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,u.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(r){if(!sl(r))throw r;Jt("AsyncQueue","Operation failed with retryable error: "+r)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const r=this.hu.then(()=>(this.wu=!0,e().catch(o=>{throw this._u=o,this.wu=!1,zi("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(o)),o}).then(o=>(this.wu=!1,o))));return this.hu=r,r}enqueueAfterDelay(e,r,o){this.pu(),this.gu.indexOf(e)>-1&&(r=0);const h=ed.createAndSchedule(this,e,r,o,y=>this.Tu(y));return this.du.push(h),h}pu(){this._u&&Qt()}verifyOperationInProgress(){}Au(){var e=this;return(0,u.Z)(function*(){let r;do{r=e.hu,yield r}while(r!==e.hu)})()}Ru(e){for(const r of this.du)if(r.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const r=this.du.indexOf(e);this.du.splice(r,1)}}function op(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const h of["next","error","complete"])if(h in o&&"function"==typeof o[h])return!0;return!1}(i)}class fm{constructor(){this._progressObserver={},this._taskCompletionResolver=new ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const xy=-1;class vs extends uh{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new gg,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Zm(this),this._firestoreClient.terminate()}}function mg(i=(0,$.getApp)()){return(0,$._getProvider)(i,"firestore").getImmediate()}function eo(i){return i._firestoreClient||Zm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Zm(i){var e;const r=i._freezeSettings(),o=(y=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new li(i._databaseId,y,i._persistenceKey,(U=r).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,U.useFetchStreams));var y,U;i._firestoreClient=new qm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ry(i,e){yg(i=ii(i,vs));const r=eo(i),o=i._freezeSettings(),h=new Qh;return gm(r,h,new zm(h,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function My(i){yg(i=ii(i,vs));const e=eo(i),r=i._freezeSettings(),o=new Qh;return gm(e,o,new lm(o,r.cacheSizeBytes))}function gm(i,e,r){const o=new ki;return i.asyncQueue.enqueue((0,u.Z)(function*(){try{yield cm(i,r),yield Xh(i,e),o.resolve()}catch(h){if(!("FirebaseError"===(y=h).name?y.code===At.FAILED_PRECONDITION||y.code===At.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var y})).then(()=>o.promise)}function mm(i){if(i._initialized&&!i._terminated)throw new Wt(At.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ki;return i._queue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{yield(r=(0,u.Z)(function*(o){if(!Ba.Vt())return Promise.resolve();const h=o+"main";yield Ba.delete(h)}),function(o){return r.apply(this,arguments)})(cl(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Oy(i){return function(e){const r=new ki;return e.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(i,e){return qp.apply(this,arguments)}(yield Eo(e),r)})),r.promise}(eo(i=ii(i,vs)))}function Qm(i){return function(i){return i.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield rp(i),r=yield th(i);return e.setNetworkEnabled(!0),function(o){const h=en(o);return h.Ko.delete(0),qc(h)}(r)}))}(eo(i=ii(i,vs)))}function ch(i){return function(i){return i.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield rp(i),r=yield th(i);return e.setNetworkEnabled(!1),(o=(0,u.Z)(function*(h){const y=en(h);y.Ko.add(0),yield Qc(y),y.Qo.set("Offline")}),function(h){return o.apply(this,arguments)})(r);var o}))}(eo(i=ii(i,vs)))}function ym(i,e){const r=eo(i=ii(i,vs)),o=new fm;return function(i,e,r,o){const h=function(y,D){let U;return U="string"==typeof y?(new TextEncoder).encode(y):y,ee=function(ee,_e){if(ee instanceof Uint8Array)return um(ee,void 0);if(ee instanceof ArrayBuffer)return um(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new Gm(ee,D);var ee}(r,$l(e));i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){!function(i,e,r){const o=en(i);var h;(h=(0,u.Z)(function*(y,D,U){try{const ee=yield D.getMetadata();if(yield function(Pt,qt){const rn=en(Pt),rr=is(qt.createTime);return rn.persistence.runTransaction("hasNewerBundle","readonly",Gr=>rn.Kn.getBundleMetadata(Gr,qt.id)).then(Gr=>!!Gr&&Gr.createTime.compareTo(rr)>=0)}(y.localStore,ee))return yield D.close(),void U._completeWith((Pt=ee,{taskState:"Success",documentsLoaded:Pt.totalDocuments,bytesLoaded:Pt.totalBytes,totalDocuments:Pt.totalDocuments,totalBytes:Pt.totalBytes}));U._updateProgress(Gf(ee));const _e=new zp(ee,y.localStore,D.O);let Ge=yield D.Kc();for(;Ge;){const Pt=yield _e.lc(Ge);Pt&&U._updateProgress(Pt),Ge=yield D.Kc()}const ut=yield _e.complete();yield Uo(y,ut.ws,void 0),yield function(Pt,qt){const rn=en(Pt);return rn.persistence.runTransaction("Save bundle","readwrite",rr=>rn.Kn.saveBundleMetadata(rr,qt))}(y.localStore,ee),U._completeWith(ut.progress)}catch(ee){or("SyncEngine",`Loading bundle failed with ${ee}`),U._failWith(ee)}var Pt}),function(y,D,U){return h.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield Eo(i),h,o)}))}(r,i._databaseId,e,o),o}function Xm(i,e){return function(i,e){return i.asyncQueue.enqueue((0,u.Z)(function*(){return function(r,o){const h=en(r);return h.persistence.runTransaction("Get named query","readonly",y=>h.Kn.getNamedQuery(y,o))}(yield fl(i),e)}))}(eo(i=ii(i,vs)),e).then(r=>r?new bo(i,null,r.query):null)}function yg(i){if(i._initialized||i._terminated)throw new Wt(At.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Wt(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(yn.fromBase64String(e))}catch(r){throw new Wt(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Lu(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dd{constructor(e){this._methodName=e}}class ap{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Wt(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Wt(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wr(this._lat,e._lat)||wr(this._long,e._long)}}const Jm=/^__.*__$/;class ey{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new To(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ml(e,this.data,r,this.fieldTransforms)}}class _m{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new To(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function _g(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt()}}class lp{constructor(e,r,o,h,y,D){this.settings=e,this.databaseId=r,this.O=o,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=D||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Su({path:o,Cu:!1});return h.Nu(e),h}xu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Su({path:o,Cu:!1});return h.vu(),h}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return sf(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(_g(this.Vu)&&Jm.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class vm{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.O=o||$l(e)}Fu(e,r,o,h=!1){return new lp({Vu:e,methodName:r,$u:o,path:xt.emptyPath(),Cu:!1,Mu:h},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Ec(i){const e=i._freezeSettings(),r=$l(i._databaseId);return new vm(i._databaseId,!!e.ignoreUndefinedProperties,r)}function dh(i,e,r,o,h,y={}){const D=i.Fu(y.merge||y.mergeFields?2:0,e,r,h);wm("Data must be an object, but it was:",D,o);const U=hp(o,D);let ee,_e;if(y.merge)ee=new Tn(D.fieldMask),_e=D.fieldTransforms;else if(y.mergeFields){const Ge=[];for(const ut of y.mergeFields){const Pt=Eg(e,ut,r);if(!D.contains(Pt))throw new Wt(At.INVALID_ARGUMENT,`Field '${Pt}' is specified in your field mask but missing from your input data.`);bg(Ge,Pt)||Ge.push(Pt)}ee=new Tn(Ge),_e=D.fieldTransforms.filter(ut=>ee.covers(ut.field))}else ee=null,_e=D.fieldTransforms;return new ey(new Dr(U),ee,_e)}class up extends dd{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof up}}function cp(i,e,r){return new lp({Vu:3,$u:e.settings.$u,methodName:i._methodName,Cu:r},e.databaseId,e.O,e.ignoreUndefinedProperties)}class dp extends dd{_toFieldTransform(e){return new fa(e.path,new _u)}isEqual(e){return e instanceof dp}}class ky extends dd{constructor(e,r){super(e),this.Bu=r}_toFieldTransform(e){const r=cp(this,e,!0),o=this.Bu.map(y=>Bu(y,r)),h=new vu(o);return new fa(e.path,h)}isEqual(e){return this===e}}class ef extends dd{constructor(e,r){super(e),this.Bu=r}_toFieldTransform(e){const r=cp(this,e,!0),o=this.Bu.map(y=>Bu(y,r)),h=new Ql(o);return new fa(e.path,h)}isEqual(e){return this===e}}class Em extends dd{constructor(e,r){super(e),this.Lu=r}_toFieldTransform(e){const r=new el(e.O,Tl(e.O,this.Lu));return new fa(e.path,r)}isEqual(e){return this===e}}function tf(i,e,r,o){const h=i.Fu(1,e,r);wm("Data must be an object, but it was:",h,o);const y=[],D=Dr.empty();W(o,(ee,_e)=>{const Ge=rf(e,ee,r);_e=(0,ye.m9)(_e);const ut=h.xu(Ge);if(_e instanceof up)y.push(Ge);else{const Pt=Bu(_e,ut);null!=Pt&&(y.push(Ge),D.set(Ge,Pt))}});const U=new Tn(y);return new _m(D,U,h.fieldTransforms)}function nf(i,e,r,o,h,y){const D=i.Fu(1,e,r),U=[Eg(e,o,r)],ee=[h];if(y.length%2!=0)throw new Wt(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Pt=0;Pt<y.length;Pt+=2)U.push(Eg(e,y[Pt])),ee.push(y[Pt+1]);const _e=[],Ge=Dr.empty();for(let Pt=U.length-1;Pt>=0;--Pt)if(!bg(_e,U[Pt])){const qt=U[Pt];let rn=ee[Pt];rn=(0,ye.m9)(rn);const rr=D.xu(qt);if(rn instanceof up)_e.push(qt);else{const Gr=Bu(rn,rr);null!=Gr&&(_e.push(qt),Ge.set(qt,Gr))}}const ut=new Tn(_e);return new _m(Ge,ut,D.fieldTransforms)}function bm(i,e,r,o=!1){return Bu(r,i.Fu(o?4:3,e))}function Bu(i,e){if(vg(i=(0,ye.m9)(i)))return wm("Unsupported field value:",e,i),hp(i,e);if(i instanceof dd)return function(r,o){if(!_g(o.Vu))throw o.Ou(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Ou(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(r,o){const h=[];let y=0;for(const D of r){let U=Bu(D,o.ku(y));null==U&&(U={nullValue:"NULL_VALUE"}),h.push(U),y++}return{arrayValue:{values:h}}}(i,e)}return function(r,o){if(null===(r=(0,ye.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Tl(o.O,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const h=O.fromDate(r);return{timestampValue:Ol(o.O,h)}}if(r instanceof O){const h=new O(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ol(o.O,h)}}if(r instanceof ap)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lu)return{bytesValue:Ac(o.O,r._byteString)};if(r instanceof os){const h=o.databaseId,y=r.firestore._databaseId;if(!y.isEqual(h))throw o.Ou(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Yu(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Ou(`Unsupported field value: ${Jh(r)}`)}(i,e)}function hp(i,e){const r={};return Q(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):W(i,(o,h)=>{const y=Bu(h,e.Du(o));null!=y&&(r[o]=y)}),{mapValue:{fields:r}}}function vg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof O||i instanceof ap||i instanceof Lu||i instanceof os||i instanceof dd)}function wm(i,e,r){if(!vg(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Jh(r);throw e.Ou("an object"===o?i+" a custom object":i+" "+o)}var o}function Eg(i,e,r){if((e=(0,ye.m9)(e))instanceof Hl)return e._internalPath;if("string"==typeof e)return rf(i,e);throw sf("Field path arguments must be of type string or ",i,!1,void 0,r)}const Im=new RegExp("[~\\*/\\[\\]]");function rf(i,e,r){if(e.search(Im)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Hl(...e.split("."))._internalPath}catch(o){throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function sf(i,e,r,o,h){const y=o&&!o.isEmpty(),D=void 0!==h;let U=`Function ${e}() called with invalid data`;r&&(U+=" (via `toFirestore()`)"),U+=". ";let ee="";return(y||D)&&(ee+=" (found",y&&(ee+=` in field ${o}`),D&&(ee+=` in document ${h}`),ee+=")"),new Wt(At.INVALID_ARGUMENT,U+i+ee)}function bg(i,e){return i.some(r=>r.isEqual(e))}class hd{constructor(e,r,o,h,y){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(of("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Cm extends hd{data(){return super.data()}}function of(i,e){return"string"==typeof e?rf(i,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}class Vu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bc extends hd{constructor(e,r,o,h,y,D){super(e,r,o,h,D),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(of("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class af extends bc{data(e={}){return super.data(e)}}class wc{constructor(e,r,o,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Vu(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new af(this._firestore,this._userDataWriter,o.key,o,new Vu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Wt(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let y=0;return o._snapshot.docChanges.map(D=>({type:"added",doc:new af(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Vu(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:y++}))}{let y=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(D=>h||3!==D.type).map(D=>{const U=new af(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Vu(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter);let ee=-1,_e=-1;return 0!==D.type&&(ee=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),_e=y.indexOf(D.doc.key)),{type:Dm(D.type),doc:U,oldIndex:ee,newIndex:_e}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Dm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt()}}function wg(i,e){return i instanceof bc&&e instanceof bc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof wc&&e instanceof wc&&i._firestore===e._firestore&&pg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function fp(i){if(ui(i)&&0===i.explicitOrderBy.length)throw new Wt(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d{}function l(i,...e){for(const r of e)i=r._apply(i);return i}class a extends d{constructor(e,r,o){super(),this.Uu=e,this.qu=r,this.Ku=o,this.type="where"}_apply(e){const r=Ec(e.firestore),o=function(h,y,D,U,ee,_e,Ge){let ut;if(ee.isKeyField()){if("array-contains"===_e||"array-contains-any"===_e)throw new Wt(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_e}' queries on documentId().`);if("in"===_e||"not-in"===_e){$u(Ge,_e);const qt=[];for(const rn of Ge)qt.push(Ks(U,h,rn));ut={arrayValue:{values:qt}}}else ut=Ks(U,h,Ge)}else"in"!==_e&&"not-in"!==_e&&"array-contains-any"!==_e||$u(Ge,_e),ut=bm(D,"where",Ge,"in"===_e||"not-in"===_e);const Pt=rs.create(ee,_e,ut);return function(qt,rn){if(rn.S()){const Gr=Ki(qt);if(null!==Gr&&!Gr.isEqual(rn.field))throw new Wt(At.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Gr.toString()}' and '${rn.field.toString()}'`);const to=ks(qt);null!==to&&Vi(0,rn.field,to)}const rr=function(Gr,to){for(const ta of Gr.filters)if(to.indexOf(ta.op)>=0)return ta.op;return null}(qt,function(Gr){switch(Gr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(rn.op));if(null!==rr)throw new Wt(At.INVALID_ARGUMENT,rr===rn.op?`Invalid query. You cannot use more than one '${rn.op.toString()}' filter.`:`Invalid query. You cannot use '${rn.op.toString()}' filters with '${rr.toString()}' filters.`)}(h,Pt),Pt}(e._query,0,r,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new bo(e.firestore,e.converter,function(h,y){const D=h.filters.concat([y]);return new Ht(h.path,h.collectionGroup,h.explicitOrderBy.slice(),D,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,o))}}function p(i,e,r){const o=e,h=of("where",i);return new a(h,o,r)}class _ extends d{constructor(e,r){super(),this.Uu=e,this.Gu=r,this.type="orderBy"}_apply(e){const r=function(o,h,y){if(null!==o.startAt)throw new Wt(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Wt(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new pe(h,y);return function(U,ee){if(null===ks(U)){const _e=Ki(U);null!==_e&&Vi(0,_e,ee.field)}}(o,D),D}(e._query,this.Uu,this.Gu);return new bo(e.firestore,e.converter,function(o,h){const y=o.explicitOrderBy.concat([h]);return new Ht(o.path,o.collectionGroup,y,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function S(i,e="asc"){const r=e,o=of("orderBy",i);return new _(o,r)}class B extends d{constructor(e,r,o){super(),this.type=e,this.ju=r,this.Qu=o}_apply(e){return new bo(e.firestore,e.converter,Na(e._query,this.ju,this.Qu))}}function ae(i){return cg("limit",i),new B("limit",i,"F")}function Se(i){return cg("limitToLast",i),new B("limitToLast",i,"L")}class Ne extends d{constructor(e,r,o){super(),this.type=e,this.Wu=r,this.zu=o}_apply(e){const r=fi(e,this.type,this.Wu,this.zu);return new bo(e.firestore,e.converter,(h=r,new Ht((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)));var o,h}}function It(...i){return new Ne("startAt",i,!0)}function St(...i){return new Ne("startAfter",i,!1)}class Bt extends d{constructor(e,r,o){super(),this.type=e,this.Wu=r,this.zu=o}_apply(e){const r=fi(e,this.type,this.Wu,this.zu);return new bo(e.firestore,e.converter,(h=r,new Ht((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,h)));var o,h}}function Nn(...i){return new Bt("endBefore",i,!1)}function nr(...i){return new Bt("endAt",i,!0)}function fi(i,e,r,o){if(r[0]=(0,ye.m9)(r[0]),r[0]instanceof hd)return function(h,y,D,U,ee){if(!U)throw new Wt(At.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const _e=[];for(const Ge of po(h))if(Ge.field.isKeyField())_e.push(Go(y,U.key));else{const ut=U.data.field(Ge.field);if(Fi(ut))throw new Wt(At.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ut){const Pt=Ge.field.canonicalString();throw new Wt(At.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Pt}' (used as the orderBy) does not exist.`)}_e.push(ut)}return new Z(_e,ee)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const h=Ec(i.firestore);return function(y,D,U,ee,_e,Ge){const ut=y.explicitOrderBy;if(_e.length>ut.length)throw new Wt(At.INVALID_ARGUMENT,`Too many arguments provided to ${ee}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Pt=[];for(let qt=0;qt<_e.length;qt++){const rn=_e[qt];if(ut[qt].field.isKeyField()){if("string"!=typeof rn)throw new Wt(At.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ee}(), but got a ${typeof rn}`);if(!Ri(y)&&-1!==rn.indexOf("/"))throw new Wt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ee}() must be a plain document ID, but '${rn}' contains a slash.`);const rr=y.path.child(Ie.fromString(rn));if(!kn.isDocumentKey(rr))throw new Wt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ee}() must result in a valid document path, but '${rr}' is not because it contains an odd number of segments.`);const Gr=new kn(rr);Pt.push(Go(D,Gr))}else{const rr=bm(U,ee,rn);Pt.push(rr)}}return new Z(Pt,Ge)}(i._query,i.firestore._databaseId,h,e,r,o)}}function Ks(i,e,r){if("string"==typeof(r=(0,ye.m9)(r))){if(""===r)throw new Wt(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ri(e)&&-1!==r.indexOf("/"))throw new Wt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Ie.fromString(r));if(!kn.isDocumentKey(o))throw new Wt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Go(i,new kn(o))}if(r instanceof os)return Go(i,r._key);throw new Wt(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(r)}.`)}function $u(i,e){if(!Array.isArray(i)||0===i.length)throw new Wt(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Wt(At.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Vi(i,e,r){if(!r.isEqual(e))throw new Wt(At.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class lu{convertValue(e,r="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Qt()}}convertObject(e,r){const o={};return W(e.fields,(h,y)=>{o[h]=this.convertValue(y,r)}),o}convertGeoPoint(e){return new ap(ir(e.latitude),ir(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=ca(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const r=Or(e);return new O(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ie.fromString(e);zn(Pl(o));const h=new Ns(o.get(1),o.get(3)),y=new kn(o.popFirst(5));return h.isEqual(r)||zi(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function lf(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class Fy extends lu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new os(this.firestore,null,r)}}class Tm{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ec(e)}set(e,r,o){this._verifyNotCommitted();const h=fd(e,this._firestore),y=lf(h.converter,r,o),D=dh(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,o);return this._mutations.push(D.toMutation(h._key,ws.none())),this}update(e,r,o,...h){this._verifyNotCommitted();const y=fd(e,this._firestore);let D;return D="string"==typeof(r=(0,ye.m9)(r))||r instanceof Hl?nf(this._dataReader,"WriteBatch.update",y._key,r,o,h):tf(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(D.toMutation(y._key,ws.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=fd(e,this._firestore);return this._mutations=this._mutations.concat(new ka(r._key,ws.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Wt(At.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fd(i,e){if((i=(0,ye.m9)(i)).firestore!==e)throw new Wt(At.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ty(i){i=ii(i,os);const e=ii(i.firestore,vs);return ld(eo(e),i._key).then(r=>Wl(e,i,r))}class pd extends lu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new os(this.firestore,null,r)}}function uf(i){i=ii(i,os);const e=ii(i.firestore,vs),r=eo(e),o=new pd(e);return function(i,e){const r=new ki;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(o=(0,u.Z)(function*(h,y,D){try{const U=yield function(ee,_e){const Ge=en(ee);return Ge.persistence.runTransaction("read document","readonly",ut=>Ge.Us.ys(ut,_e))}(h,y);U.isFoundDocument()?D.resolve(U):U.isNoDocument()?D.resolve(null):D.reject(new Wt(At.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const ee=Ul(U,`Failed to get document '${y} from cache`);D.reject(ee)}}),function(h,y,D){return o.apply(this,arguments)})(yield fl(i),e,r);var o})),r.promise}(r,i._key).then(h=>new bc(e,o,i._key,h,new Vu(null!==h&&h.hasLocalMutations,!0),i.converter))}function Ly(i){i=ii(i,os);const e=ii(i.firestore,vs);return ld(eo(e),i._key,{source:"server"}).then(r=>Wl(e,i,r))}function By(i){i=ii(i,bo);const e=ii(i.firestore,vs),r=eo(e),o=new pd(e);return fp(i._query),ud(r,i._query).then(h=>new wc(e,o,i,h))}function ny(i){i=ii(i,bo);const e=ii(i.firestore,vs),r=eo(e),o=new pd(e);return function(i,e){const r=new ki;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(o=(0,u.Z)(function*(h,y,D){try{const U=yield Ud(h,y,!0),ee=new Gp(y,U.Ks),_e=ee.Ic(U.documents),Ge=ee.applyChanges(_e,!1);D.resolve(Ge.snapshot)}catch(U){const ee=Ul(U,`Failed to execute query '${y} against cache`);D.reject(ee)}}),function(h,y,D){return o.apply(this,arguments)})(yield fl(i),e,r);var o})),r.promise}(r,i._query).then(h=>new wc(e,o,i,h))}function Vy(i){i=ii(i,bo);const e=ii(i.firestore,vs),r=eo(e),o=new pd(e);return ud(r,i._query,{source:"server"}).then(h=>new wc(e,o,i,h))}function ry(i,e,r){i=ii(i,os);const o=ii(i.firestore,vs),h=lf(i.converter,e,r);return cf(o,[dh(Ec(o),"setDoc",i._key,h,null!==i.converter,r).toMutation(i._key,ws.none())])}function k_(i,e,r,...o){i=ii(i,os);const h=ii(i.firestore,vs),y=Ec(h);let D;return D="string"==typeof(e=(0,ye.m9)(e))||e instanceof Hl?nf(y,"updateDoc",i._key,e,r,o):tf(y,"updateDoc",i._key,e),cf(h,[D.toMutation(i._key,ws.exists(!0))])}function iy(i){return cf(ii(i.firestore,vs),[new ka(i._key,ws.none())])}function Sm(i,e){const r=ii(i.firestore,vs),o=hg(i),h=lf(i.converter,e);return cf(r,[dh(Ec(i.firestore),"addDoc",o._key,h,null!==i.converter,{}).toMutation(o._key,ws.exists(!1))]).then(()=>o)}function Uu(i,...e){var r,o,h;i=(0,ye.m9)(i);let y={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||op(e[D])||(y=e[D],D++);const U={includeMetadataChanges:y.includeMetadataChanges};if(op(e[D])){const ut=e[D];e[D]=null===(r=ut.next)||void 0===r?void 0:r.bind(ut),e[D+1]=null===(o=ut.error)||void 0===o?void 0:o.bind(ut),e[D+2]=null===(h=ut.complete)||void 0===h?void 0:h.bind(ut)}let ee,_e,Ge;if(i instanceof os)_e=ii(i.firestore,vs),Ge=An(i._key.path),ee={next:ut=>{e[D]&&e[D](Wl(_e,i,ut))},error:e[D+1],complete:e[D+2]};else{const ut=ii(i,bo);_e=ii(ut.firestore,vs),Ge=ut._query;const Pt=new pd(_e);ee={next:qt=>{e[D]&&e[D](new wc(_e,Pt,ut,qt))},error:e[D+1],complete:e[D+2]},fp(i._query)}return function(ut,Pt,qt,rn){const rr=new eh(rn),Gr=new Gh(Pt,rr,qt);return ut.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return rd(yield pl(ut),Gr)})),()=>{rr.Jc(),ut.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return $f(yield pl(ut),Gr)}))}}(eo(_e),Ge,U,ee)}function $y(i,e){return function(i,e){const r=new eh(e);return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return o=yield pl(i),h=r,en(o).Zo.add(h),void h.next();var o,h})),()=>{r.Jc(),i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return o=yield pl(i),h=r,void en(o).Zo.delete(h);var o,h}))}}(eo(i=ii(i,vs)),op(e)?e:{next:e})}function cf(i,e){return function(r,o){const h=new ki;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(i,e,r){return qf.apply(this,arguments)}(yield Eo(r),o,h)})),h.promise}(eo(i),e)}function Wl(i,e,r){const o=r.docs.get(e._key),h=new pd(i);return new bc(i,h,e._key,o,new Vu(r.hasPendingWrites,r.fromCache),e.converter)}class uu extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Ec(e)}get(e){const r=fd(e,this._firestore),o=new Fy(this._firestore);return this._transaction.lookup([r._key]).then(h=>{if(!h||1!==h.length)return Qt();const y=h[0];if(y.isFoundDocument())return new hd(this._firestore,o,y.key,y,r.converter);if(y.isNoDocument())return new hd(this._firestore,o,r._key,null,r.converter);throw Qt()})}set(e,r,o){const h=fd(e,this._firestore),y=lf(h.converter,r,o),D=dh(this._dataReader,"Transaction.set",h._key,y,null!==h.converter,o);return this._transaction.set(h._key,D),this}update(e,r,o,...h){const y=fd(e,this._firestore);let D;return D="string"==typeof(r=(0,ye.m9)(r))||r instanceof Hl?nf(this._dataReader,"Transaction.update",y._key,r,o,h):tf(this._dataReader,"Transaction.update",y._key,r),this._transaction.update(y._key,D),this}delete(e){const r=fd(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=fd(e,this._firestore),o=new pd(this._firestore);return super.get(e).then(h=>new bc(this._firestore,o,r._key,h._document,new Vu(!1,!1),r.converter))}}function cu(i,e){return function(i,e){const r=new ki;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){const o=yield(h=i,np(h).then(y=>y.datastore));var h;new Ym(i.asyncQueue,o,e,r).run()})),r.promise}(eo(i=ii(i,vs)),r=>e(new uu(i,r)))}function sy(){return new up("deleteField")}function oy(){return new dp("serverTimestamp")}function Uy(...i){return new ky("arrayUnion",i)}function jy(...i){return new ef("arrayRemove",i)}function Hy(i){return new Em("increment",i)}!function(i,e=!0){Co=$.SDK_VERSION,(0,$._registerComponent)(new q.wA("firestore",(r,{options:o})=>{const h=r.getProvider("app").getImmediate(),y=new vs(h,new mu(r.getProvider("auth-internal")),new Lo(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),y._setSettings(o),y},"PUBLIC")),(0,$.registerVersion)(Ai,"3.4.5",i),(0,$.registerVersion)(Ai,"3.4.5","esm2017")}()},4213:(Gt,at,H)=>{"use strict";H.d(at,{BH:()=>ie,LL:()=>et,ZR:()=>Ae,gQ:()=>$n,zI:()=>je,hu:()=>$,g5:()=>q,US:()=>de,tV:()=>me,h$:()=>he,$s:()=>_n,r3:()=>pt,Sg:()=>$e,ne:()=>Ft,p$:()=>te,vZ:()=>wn,ZB:()=>re,gK:()=>ln,pd:()=>Cn,m9:()=>Fr,z$:()=>Xe,GJ:()=>gt,jU:()=>we,ru:()=>Be,d:()=>De,xb:()=>tn,w1:()=>ke,hl:()=>Tt,uI:()=>Te,UG:()=>Re,Yr:()=>Et,b$:()=>qe,G6:()=>Ue,Mn:()=>Ye,w9:()=>yt,cI:()=>bt,UI:()=>Rn,xO:()=>En,zd:()=>hr,DV:()=>_t,ug:()=>Yn,dS:()=>mr,Pz:()=>ft,Dv:()=>Wn,Wj:()=>In,lb:()=>Fn,eu:()=>Ve});const $=function(Qe,He){if(!Qe)throw q(He)},q=function(Qe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Qe)},Me=function(Qe){const He=[];let st=0;for(let Ot=0;Ot<Qe.length;Ot++){let dt=Qe.charCodeAt(Ot);dt<128?He[st++]=dt:dt<2048?(He[st++]=dt>>6|192,He[st++]=63&dt|128):55296==(64512&dt)&&Ot+1<Qe.length&&56320==(64512&Qe.charCodeAt(Ot+1))?(dt=65536+((1023&dt)<<10)+(1023&Qe.charCodeAt(++Ot)),He[st++]=dt>>18|240,He[st++]=dt>>12&63|128,He[st++]=dt>>6&63|128,He[st++]=63&dt|128):(He[st++]=dt>>12|224,He[st++]=dt>>6&63|128,He[st++]=63&dt|128)}return He},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Qe,He){if(!Array.isArray(Qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const st=He?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ot=[];for(let dt=0;dt<Qe.length;dt+=3){const on=Qe[dt],mn=dt+1<Qe.length,Zn=mn?Qe[dt+1]:0,_r=dt+2<Qe.length,Ln=_r?Qe[dt+2]:0;let Qn=(15&Zn)<<2|Ln>>6,vt=63&Ln;_r||(vt=64,mn||(Qn=64)),Ot.push(st[on>>2],st[(3&on)<<4|Zn>>4],st[Qn],st[vt])}return Ot.join("")},encodeString(Qe,He){return this.HAS_NATIVE_SUPPORT&&!He?btoa(Qe):this.encodeByteArray(Me(Qe),He)},decodeString(Qe,He){return this.HAS_NATIVE_SUPPORT&&!He?atob(Qe):function(Qe){const He=[];let st=0,Ot=0;for(;st<Qe.length;){const dt=Qe[st++];if(dt<128)He[Ot++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const on=Qe[st++];He[Ot++]=String.fromCharCode((31&dt)<<6|63&on)}else if(dt>239&&dt<365){const _r=((7&dt)<<18|(63&Qe[st++])<<12|(63&Qe[st++])<<6|63&Qe[st++])-65536;He[Ot++]=String.fromCharCode(55296+(_r>>10)),He[Ot++]=String.fromCharCode(56320+(1023&_r))}else{const on=Qe[st++],mn=Qe[st++];He[Ot++]=String.fromCharCode((15&dt)<<12|(63&on)<<6|63&mn)}}return He.join("")}(this.decodeStringToByteArray(Qe,He))},decodeStringToByteArray(Qe,He){this.init_();const st=He?this.charToByteMapWebSafe_:this.charToByteMap_,Ot=[];for(let dt=0;dt<Qe.length;){const on=st[Qe.charAt(dt++)],Zn=dt<Qe.length?st[Qe.charAt(dt)]:0;++dt;const Ln=dt<Qe.length?st[Qe.charAt(dt)]:64;++dt;const vn=dt<Qe.length?st[Qe.charAt(dt)]:64;if(++dt,null==on||null==Zn||null==Ln||null==vn)throw Error();Ot.push(on<<2|Zn>>4),64!==Ln&&(Ot.push(Zn<<4&240|Ln>>2),64!==vn&&Ot.push(Ln<<6&192|vn))}return Ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Qe=0;Qe<this.ENCODED_VALS.length;Qe++)this.byteToCharMap_[Qe]=this.ENCODED_VALS.charAt(Qe),this.charToByteMap_[this.byteToCharMap_[Qe]]=Qe,this.byteToCharMapWebSafe_[Qe]=this.ENCODED_VALS_WEBSAFE.charAt(Qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Qe]]=Qe,Qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Qe)]=Qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Qe)]=Qe)}}},he=function(Qe){const He=Me(Qe);return de.encodeByteArray(He,!0)},J=function(Qe){return he(Qe).replace(/\./g,"")},me=function(Qe){try{return de.decodeString(Qe,!0)}catch(He){console.error("base64Decode failed: ",He)}return null};function te(Qe){return re(void 0,Qe)}function re(Qe,He){if(!(He instanceof Object))return He;switch(He.constructor){case Date:return new Date(He.getTime());case Object:void 0===Qe&&(Qe={});break;case Array:Qe=[];break;default:return He}for(const st in He)!He.hasOwnProperty(st)||!ce(st)||(Qe[st]=re(Qe[st],He[st]));return Qe}function ce(Qe){return"__proto__"!==Qe}class ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((He,st)=>{this.resolve=He,this.reject=st})}wrapCallback(He){return(st,Ot)=>{st?this.reject(st):this.resolve(Ot),"function"==typeof He&&(this.promise.catch(()=>{}),1===He.length?He(st):He(st,Ot))}}}function $e(Qe,He){if(Qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ot=He||"demo-project",dt=Qe.iat||0,on=Qe.sub||Qe.user_id;if(!on)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mn=Object.assign({iss:`https://securetoken.google.com/${Ot}`,aud:Ot,iat:dt,exp:dt+3600,auth_time:dt,sub:on,user_id:on,firebase:{sign_in_provider:"custom",identities:{}}},Qe);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(mn)),""].join(".")}function Xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Qe){return!1}}function we(){return"object"==typeof self&&self.self===self}function Be(){const Qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Qe&&void 0!==Qe.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Xe().indexOf("Electron/")>=0}function ke(){const Qe=Xe();return Qe.indexOf("MSIE ")>=0||Qe.indexOf("Trident/")>=0}function Ye(){return Xe().indexOf("MSAppHost/")>=0}function Et(){return!1}function Ue(){return!Re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tt(){return"object"==typeof indexedDB}function Ve(){return new Promise((Qe,He)=>{try{let st=!0;const Ot="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(Ot);dt.onsuccess=()=>{dt.result.close(),st||self.indexedDB.deleteDatabase(Ot),Qe(!0)},dt.onupgradeneeded=()=>{st=!1},dt.onerror=()=>{var on;He((null===(on=dt.error)||void 0===on?void 0:on.message)||"")}}catch(st){He(st)}})}function je(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ae extends Error{constructor(He,st,Ot){super(st),this.code=He,this.customData=Ot,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(He,st,Ot){this.service=He,this.serviceName=st,this.errors=Ot}create(He,...st){const Ot=st[0]||{},dt=`${this.service}/${He}`,on=this.errors[He],mn=on?function(Qe,He){return Qe.replace(zt,(st,Ot)=>{const dt=He[Ot];return null!=dt?String(dt):`<${Ot}?>`})}(on,Ot):"Error";return new Ae(dt,`${this.serviceName}: ${mn} (${dt}).`,Ot)}}const zt=/\{\$([^}]+)}/g;function bt(Qe){return JSON.parse(Qe)}function ft(Qe){return JSON.stringify(Qe)}const rt=function(Qe){let He={},st={},Ot={},dt="";try{const on=Qe.split(".");He=bt(me(on[0])||""),st=bt(me(on[1])||""),dt=on[2],Ot=st.d||{},delete st.d}catch(on){}return{header:He,claims:st,data:Ot,signature:dt}},yt=function(Qe){const st=rt(Qe).claims;return!!st&&"object"==typeof st&&st.hasOwnProperty("iat")},gt=function(Qe){const He=rt(Qe).claims;return"object"==typeof He&&!0===He.admin};function pt(Qe,He){return Object.prototype.hasOwnProperty.call(Qe,He)}function _t(Qe,He){if(Object.prototype.hasOwnProperty.call(Qe,He))return Qe[He]}function tn(Qe){for(const He in Qe)if(Object.prototype.hasOwnProperty.call(Qe,He))return!1;return!0}function Rn(Qe,He,st){const Ot={};for(const dt in Qe)Object.prototype.hasOwnProperty.call(Qe,dt)&&(Ot[dt]=He.call(st,Qe[dt],dt,Qe));return Ot}function wn(Qe,He){if(Qe===He)return!0;const st=Object.keys(Qe),Ot=Object.keys(He);for(const dt of st){if(!Ot.includes(dt))return!1;const on=Qe[dt],mn=He[dt];if(un(on)&&un(mn)){if(!wn(on,mn))return!1}else if(on!==mn)return!1}for(const dt of Ot)if(!st.includes(dt))return!1;return!0}function un(Qe){return null!==Qe&&"object"==typeof Qe}function En(Qe){const He=[];for(const[st,Ot]of Object.entries(Qe))Array.isArray(Ot)?Ot.forEach(dt=>{He.push(encodeURIComponent(st)+"="+encodeURIComponent(dt))}):He.push(encodeURIComponent(st)+"="+encodeURIComponent(Ot));return He.length?"&"+He.join("&"):""}function hr(Qe){const He={};return Qe.replace(/^\?/,"").split("&").forEach(Ot=>{if(Ot){const[dt,on]=Ot.split("=");He[decodeURIComponent(dt)]=decodeURIComponent(on)}}),He}function Cn(Qe){const He=Qe.indexOf("?");if(!He)return"";const st=Qe.indexOf("#",He);return Qe.substring(He,st>0?st:void 0)}class $n{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let He=1;He<this.blockSize;++He)this.pad_[He]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(He,st){st||(st=0);const Ot=this.W_;if("string"==typeof He)for(let vn=0;vn<16;vn++)Ot[vn]=He.charCodeAt(st)<<24|He.charCodeAt(st+1)<<16|He.charCodeAt(st+2)<<8|He.charCodeAt(st+3),st+=4;else for(let vn=0;vn<16;vn++)Ot[vn]=He[st]<<24|He[st+1]<<16|He[st+2]<<8|He[st+3],st+=4;for(let vn=16;vn<80;vn++){const Qn=Ot[vn-3]^Ot[vn-8]^Ot[vn-14]^Ot[vn-16];Ot[vn]=4294967295&(Qn<<1|Qn>>>31)}let Ln,ar,dt=this.chain_[0],on=this.chain_[1],mn=this.chain_[2],Zn=this.chain_[3],_r=this.chain_[4];for(let vn=0;vn<80;vn++){vn<40?vn<20?(Ln=Zn^on&(mn^Zn),ar=1518500249):(Ln=on^mn^Zn,ar=1859775393):vn<60?(Ln=on&mn|Zn&(on|mn),ar=2400959708):(Ln=on^mn^Zn,ar=3395469782);const Qn=(dt<<5|dt>>>27)+Ln+_r+ar+Ot[vn]&4294967295;_r=Zn,Zn=mn,mn=4294967295&(on<<30|on>>>2),on=dt,dt=Qn}this.chain_[0]=this.chain_[0]+dt&4294967295,this.chain_[1]=this.chain_[1]+on&4294967295,this.chain_[2]=this.chain_[2]+mn&4294967295,this.chain_[3]=this.chain_[3]+Zn&4294967295,this.chain_[4]=this.chain_[4]+_r&4294967295}update(He,st){if(null==He)return;void 0===st&&(st=He.length);const Ot=st-this.blockSize;let dt=0;const on=this.buf_;let mn=this.inbuf_;for(;dt<st;){if(0===mn)for(;dt<=Ot;)this.compress_(He,dt),dt+=this.blockSize;if("string"==typeof He){for(;dt<st;)if(on[mn]=He.charCodeAt(dt),++mn,++dt,mn===this.blockSize){this.compress_(on),mn=0;break}}else for(;dt<st;)if(on[mn]=He[dt],++mn,++dt,mn===this.blockSize){this.compress_(on),mn=0;break}}this.inbuf_=mn,this.total_+=st}digest(){const He=[];let st=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let dt=this.blockSize-1;dt>=56;dt--)this.buf_[dt]=255&st,st/=256;this.compress_(this.buf_);let Ot=0;for(let dt=0;dt<5;dt++)for(let on=24;on>=0;on-=8)He[Ot]=this.chain_[dt]>>on&255,++Ot;return He}}function Ft(Qe,He){const st=new sr(Qe,He);return st.subscribe.bind(st)}class sr{constructor(He,st){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=st,this.task.then(()=>{He(this)}).catch(Ot=>{this.error(Ot)})}next(He){this.forEachObserver(st=>{st.next(He)})}error(He){this.forEachObserver(st=>{st.error(He)}),this.close(He)}complete(){this.forEachObserver(He=>{He.complete()}),this.close()}subscribe(He,st,Ot){let dt;if(void 0===He&&void 0===st&&void 0===Ot)throw new Error("Missing Observer.");dt=function(Qe,He){if("object"!=typeof Qe||null===Qe)return!1;for(const st of["next","error","complete"])if(st in Qe&&"function"==typeof Qe[st])return!0;return!1}(He)?He:{next:He,error:st,complete:Ot},void 0===dt.next&&(dt.next=Gn),void 0===dt.error&&(dt.error=Gn),void 0===dt.complete&&(dt.complete=Gn);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch(mn){}}),this.observers.push(dt),on}unsubscribeOne(He){void 0===this.observers||void 0===this.observers[He]||(delete this.observers[He],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(He){if(!this.finalized)for(let st=0;st<this.observers.length;st++)this.sendOne(st,He)}sendOne(He,st){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[He])try{st(this.observers[He])}catch(Ot){"undefined"!=typeof console&&console.error&&console.error(Ot)}})}close(He){this.finalized||(this.finalized=!0,void 0!==He&&(this.finalError=He),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}const Wn=function(Qe,He,st,Ot){let dt;if(Ot<He?dt="at least "+He:Ot>st&&(dt=0===st?"none":"no more than "+st),dt)throw new Error(Qe+" failed: Was called with "+Ot+(1===Ot?" argument.":" arguments.")+" Expects "+dt+".")};function ln(Qe,He){return`${Qe} failed: ${He} argument `}function In(Qe,He,st,Ot){if((!Ot||st)&&"function"!=typeof st)throw new Error(ln(Qe,He)+"must be a valid function.")}function Fn(Qe,He,st,Ot){if((!Ot||st)&&("object"!=typeof st||null===st))throw new Error(ln(Qe,He)+"must be a valid context object.")}const mr=function(Qe){const He=[];let st=0;for(let Ot=0;Ot<Qe.length;Ot++){let dt=Qe.charCodeAt(Ot);if(dt>=55296&&dt<=56319){const on=dt-55296;Ot++,$(Ot<Qe.length,"Surrogate pair missing trail surrogate."),dt=65536+(on<<10)+(Qe.charCodeAt(Ot)-56320)}dt<128?He[st++]=dt:dt<2048?(He[st++]=dt>>6|192,He[st++]=63&dt|128):dt<65536?(He[st++]=dt>>12|224,He[st++]=dt>>6&63|128,He[st++]=63&dt|128):(He[st++]=dt>>18|240,He[st++]=dt>>12&63|128,He[st++]=dt>>6&63|128,He[st++]=63&dt|128)}return He},Yn=function(Qe){let He=0;for(let st=0;st<Qe.length;st++){const Ot=Qe.charCodeAt(st);Ot<128?He++:Ot<2048?He+=2:Ot>=55296&&Ot<=56319?(He+=4,st++):He+=3}return He};function _n(Qe,He=1e3,st=2){const Ot=He*Math.pow(st,Qe),dt=Math.round(.5*Ot*(Math.random()-.5)*2);return Math.min(144e5,Ot+dt)}function Fr(Qe){return Qe&&Qe._delegate?Qe._delegate:Qe}},1704:(Gt,at,H)=>{"use strict";H.d(at,{dr:()=>Ar,W2:()=>Qe,gu:()=>_r,pK:()=>Qn,Ie:()=>vt,Q$:()=>Pn,jP:()=>bs,A$:()=>Ii,Hr:()=>ci,yW:()=>P,g2:()=>j,Pc:()=>kr,r4:()=>nn,as:()=>tn,t4:()=>ji,j9:()=>un,yF:()=>F});var u=H(3668),$=H(9010),q=H(4762),Me=H(9506),ye=H(3405),de=H(4099),he=H(6024),re=(H(665),H(8006),H(8751),H(6897)),ce=H(7015),ie=H(9313),Xe=(H(248),H(2860)),Re=(H(5048),H(7629)),Ye=H(8735),Et=H(9204),Ue=H(5389),Tt=H(6019);const je=re.i,Ae=["*"],rt=b=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(b):"function"==typeof requestAnimationFrame?requestAnimationFrame(b):setTimeout(b);let ot=(()=>{class b{constructor(E,K){this.injector=E,this.el=K,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(E){this.el.nativeElement.value=this.lastValue=null==E?"":E,ct(this.el)}handleChangeEvent(E,K){E===this.el.nativeElement&&(K!==this.lastValue&&(this.lastValue=K,this.onChange(K)),ct(this.el))}_handleBlurEvent(E){E===this.el.nativeElement&&(this.onTouched(),ct(this.el))}registerOnChange(E){this.onChange=E}registerOnTouched(E){this.onTouched=E}setDisabledState(E){this.el.nativeElement.disabled=E}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let E;try{E=this.injector.get($.a5)}catch(ge){}if(!E)return;E.statusChanges&&(this.statusChanges=E.statusChanges.subscribe(()=>ct(this.el)));const K=E.control;K&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Nt=>{if(void 0!==K[Nt]){const dn=K[Nt].bind(K);K[Nt]=(...Dn)=>{dn(...Dn),ct(this.el)}}})}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,hostBindings:function(E,K){1&E&&u.NdJ("ionBlur",function(Nt){return K._handleBlurEvent(Nt.target)})}}),b})();const ct=b=>{rt(()=>{const z=b.nativeElement,E=yt(z);gt(z,E);const K=z.closest("ion-item");K&&gt(K,E)})},yt=b=>{const z=b.classList,E=[];for(let K=0;K<z.length;K++){const ge=z.item(K);null!==ge&&pt(ge,"ng-")&&E.push(`ion-${ge.substr(3)}`)}return E},gt=(b,z)=>{const E=b.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(K=>E.remove(K)),z.forEach(K=>E.add(K))},pt=(b,z)=>b.substr(0,z.length)===z;let tn=(()=>{class b extends ot{constructor(E,K){super(E,K)}_handleIonChange(E){this.handleChangeEvent(E,E.value)}registerOnChange(E){super.registerOnChange(K=>{E(""===K?null:parseFloat(K))})}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-input","type","number"]],hostBindings:function(E,K){1&E&&u.NdJ("ionChange",function(Nt){return K._handleIonChange(Nt.target)})},features:[u._Bn([{provide:$.JU,useExisting:b,multi:!0}]),u.qOj]}),b})(),un=(()=>{class b extends ot{constructor(E,K){super(E,K)}_handleInputEvent(E){this.handleChangeEvent(E,E.value)}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(E,K){1&E&&u.NdJ("ionChange",function(Nt){return K._handleInputEvent(Nt.target)})},features:[u._Bn([{provide:$.JU,useExisting:b,multi:!0}]),u.qOj]}),b})();const En=(b,z)=>{const E=b.prototype;z.forEach(K=>{Object.defineProperty(E,K,{get(){return this.el[K]},set(ge){this.z.runOutsideAngular(()=>this.el[K]=ge)}})})},hr=(b,z)=>{const E=b.prototype;z.forEach(K=>{E[K]=function(){const ge=arguments;return this.z.runOutsideAngular(()=>this.el[K].apply(this.el,ge))}})},Cn=(b,z,E)=>{E.forEach(K=>b[K]=(0,Me.R)(z,K))};function Ft(b){return function(E){const{defineCustomElementFn:K,inputs:ge,methods:Nt}=b;return void 0!==K&&K(),ge&&En(E,ge),Nt&&hr(E,Nt),E}}let Ar=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-app"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0})],b),b})(),Qe=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement,Cn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],b),b})(),_r=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],b),b})(),Qn=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement,Cn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),vt=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],b),b})(),Pn=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],b),b})(),Ii=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-slide"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0})],b),b})(),ci=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement,Cn(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],b),b})(),P=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],b),b})(),j=(()=>{let b=class{constructor(E,K,ge){this.z=ge,E.detach(),this.el=K.nativeElement,Cn(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,K){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,q.gn)([Ft({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],b),b})();class We{constructor(z={}){this.data=z}get(z){return this.data[z]}}let ht=(()=>{class b{constructor(E,K){this.zone=E,this.appRef=K}create(E,K,ge){return new Lt(E,K,ge,this.appRef,this.zone)}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(u.R0b),u.LFG(u.z2F))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})();class Lt{constructor(z,E,K,ge,Nt){this.resolver=z,this.injector=E,this.location=K,this.appRef=ge,this.zone=Nt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(z,E,K,ge){return this.zone.run(()=>new Promise(Nt=>{Nt(Kt(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,z,E,K,ge))}))}removeViewFromDom(z,E){return this.zone.run(()=>new Promise(K=>{const ge=this.elRefMap.get(E);if(ge){ge.destroy(),this.elRefMap.delete(E);const Nt=this.elEventsMap.get(E);Nt&&(Nt(),this.elEventsMap.delete(E))}K()}))}}const Kt=(b,z,E,K,ge,Nt,dn,Dn,br,Mt,Hn)=>{const mi=z.resolveComponentFactory(br),Jn=u.zs3.create({providers:Er(Mt),parent:E}),cs=K?K.createComponent(mi,K.length,Jn):mi.create(Jn),Os=cs.instance,Si=cs.location.nativeElement;if(Mt&&Object.assign(Os,Mt),Hn)for(const ra of Hn)Si.classList.add(ra);const no=Sn(b,Os,Si);return Dn.appendChild(Si),K||ge.attachView(cs.hostView),cs.changeDetectorRef.reattach(),Nt.set(Si,cs),dn.set(Si,no),Si},hn=[ie.L,ie.a,ie.b,ie.c,ie.d],Sn=(b,z,E)=>b.run(()=>{const K=hn.filter(ge=>"function"==typeof z[ge]).map(ge=>{const Nt=dn=>z[ge](dn.detail);return E.addEventListener(ge,Nt),()=>E.removeEventListener(ge,Nt)});return()=>K.forEach(ge=>ge())}),Mr=new u.OlP("NavParamsToken"),Er=b=>[{provide:Mr,useValue:b},{provide:We,useFactory:si,deps:[Mr]}],si=b=>new We(b),gs=(b,z)=>((b=b.filter(E=>E.stackId!==z.stackId)).push(z),b),ls=(b,z)=>{const E=b.createUrlTree(["."],{relativeTo:z});return b.serializeUrl(E)},oi=(b,z)=>{if(!b)return;const E=xs(z);for(let K=0;K<E.length;K++){if(K>=b.length)return E[K];if(E[K]!==b[K])return}},xs=b=>b.split("/").map(z=>z.trim()).filter(z=>""!==z),us=b=>{b&&(b.ref.destroy(),b.unlistenEvents())};class ms{constructor(z,E,K,ge,Nt,dn){this.containerEl=E,this.router=K,this.navCtrl=ge,this.zone=Nt,this.location=dn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==z?xs(z):void 0}createView(z,E){var K;const ge=ls(this.router,E),Nt=null===(K=null==z?void 0:z.location)||void 0===K?void 0:K.nativeElement,dn=Sn(this.zone,z.instance,Nt);return{id:this.nextId++,stackId:oi(this.tabsPrefix,ge),unlistenEvents:dn,element:Nt,ref:z,url:ge}}getExistingView(z){const E=ls(this.router,z),K=this.views.find(ge=>ge.url===E);return K&&K.ref.changeDetectorRef.reattach(),K}setActive(z){var E,K;const ge=this.navCtrl.consumeTransition();let{direction:Nt,animation:dn,animationBuilder:Dn}=ge;const br=this.activeView,Mt=((b,z)=>!z||b.stackId!==z.stackId)(z,br);Mt&&(Nt="back",dn=void 0);const Hn=this.views.slice();let mi;const Jn=this.router;Jn.getCurrentNavigation?mi=Jn.getCurrentNavigation():(null===(E=Jn.navigations)||void 0===E?void 0:E.value)&&(mi=Jn.navigations.value),(null===(K=null==mi?void 0:mi.extras)||void 0===K?void 0:K.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const cs=this.views.includes(z),Os=this.insertView(z,Nt);cs||z.ref.changeDetectorRef.detectChanges();const Si=z.animationBuilder;return void 0===Dn&&"back"===Nt&&!Mt&&void 0!==Si&&(Dn=Si),br&&(br.animationBuilder=Dn),this.zone.runOutsideAngular(()=>this.wait(()=>(br&&br.ref.changeDetectorRef.detach(),z.ref.changeDetectorRef.reattach(),this.transition(z,br,dn,this.canGoBack(1),!1,Dn).then(()=>Po(z,Os,Hn,this.location)).then(()=>({enteringView:z,direction:Nt,animation:dn,tabSwitch:Mt})))))}canGoBack(z,E=this.getActiveStackId()){return this.getStack(E).length>z}pop(z,E=this.getActiveStackId()){return this.zone.run(()=>{var K,ge;const Nt=this.getStack(E);if(Nt.length<=z)return Promise.resolve(!1);const dn=Nt[Nt.length-z-1];let Dn=dn.url;const br=dn.savedData;if(br){const Hn=br.get("primary");(null===(ge=null===(K=null==Hn?void 0:Hn.route)||void 0===K?void 0:K._routerState)||void 0===ge?void 0:ge.snapshot.url)&&(Dn=Hn.route._routerState.snapshot.url)}const{animationBuilder:Mt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Dn,Object.assign(Object.assign({},dn.savedExtras),{animation:Mt})).then(()=>!0)})}startBackTransition(){const z=this.activeView;if(z){const E=this.getStack(z.stackId),K=E[E.length-2],ge=K.animationBuilder;return this.wait(()=>this.transition(K,z,"back",this.canGoBack(2),!0,ge))}return Promise.resolve()}endBackTransition(z){z?(this.skipTransition=!0,this.pop(1)):this.activeView&&Rs(this.activeView,this.views,this.views,this.location)}getLastUrl(z){const E=this.getStack(z);return E.length>0?E[E.length-1]:void 0}getRootUrl(z){const E=this.getStack(z);return E.length>0?E[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(us),this.activeView=void 0,this.views=[]}getStack(z){return this.views.filter(E=>E.stackId===z)}insertView(z,E){return this.activeView=z,this.views=((b,z,E)=>"root"===E?gs(b,z):"forward"===E?((b,z)=>(b.indexOf(z)>=0?b=b.filter(K=>K.stackId!==z.stackId||K.id<=z.id):b.push(z),b))(b,z):((b,z)=>b.indexOf(z)>=0?b.filter(K=>K.stackId!==z.stackId||K.id<=z.id):gs(b,z))(b,z))(this.views,z,E),this.views.slice()}transition(z,E,K,ge,Nt,dn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(E===z)return Promise.resolve(!1);const Dn=z?z.element:void 0,br=E?E.element:void 0,Mt=this.containerEl;return Dn&&Dn!==br&&(Dn.classList.add("ion-page"),Dn.classList.add("ion-page-invisible"),Dn.parentElement!==Mt&&Mt.appendChild(Dn),Mt.commit)?Mt.commit(Dn,br,{deepWait:!0,duration:void 0===K?0:void 0,direction:K,showGoBack:ge,progressAnimation:Nt,animationBuilder:dn}):Promise.resolve(!1)}wait(z){return(0,q.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const E=this.runningTask=z();return E.finally(()=>this.runningTask=void 0),E})}}const Po=(b,z,E,K)=>"function"==typeof requestAnimationFrame?new Promise(ge=>{requestAnimationFrame(()=>{Rs(b,z,E,K),ge()})}):Promise.resolve(),Rs=(b,z,E,K)=>{E.filter(ge=>!z.includes(ge)).forEach(us),z.forEach(ge=>{const dn=K.path().split("?")[0].split("#")[0];if(ge!==b&&ge.url!==dn){const Dn=ge.element;Dn.setAttribute("aria-hidden","true"),Dn.classList.add("ion-page-hidden"),ge.ref.changeDetectorRef.detach()}})};let xe=(()=>{class b{get(E,K){const ge=Oi();return ge?ge.get(E,K):null}getBoolean(E,K){const ge=Oi();return!!ge&&ge.getBoolean(E,K)}getNumber(E,K){const ge=Oi();return ge?ge.getNumber(E,K):0}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Ui=new u.OlP("USERCONFIG"),Oi=()=>{if("undefined"!=typeof window){const b=window.Ionic;if(null==b?void 0:b.config)return b.config}return null};let ji=(()=>{class b{constructor(E,K){this.doc=E,this.backButton=new ye.xQ,this.keyboardDidShow=new ye.xQ,this.keyboardDidHide=new ye.xQ,this.pause=new ye.xQ,this.resume=new ye.xQ,this.resize=new ye.xQ,K.run(()=>{var ge;let Nt;this.win=E.defaultView,this.backButton.subscribeWithPriority=function(dn,Dn){return this.subscribe(br=>br.register(dn,Mt=>K.run(()=>Dn(Mt))))},Ci(this.pause,E,"pause"),Ci(this.resume,E,"resume"),Ci(this.backButton,E,"ionBackButton"),Ci(this.resize,this.win,"resize"),Ci(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ci(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(dn=>{Nt=dn}),(null===(ge=this.win)||void 0===ge?void 0:ge.cordova)?E.addEventListener("deviceready",()=>{Nt("cordova")},{once:!0}):Nt("dom")})}is(E){return(0,re.a)(this.win,E)}platforms(){return(0,re.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(E){return ys(this.win.location.href,E)}isLandscape(){return!this.isPortrait()}isPortrait(){var E,K;return null===(K=(E=this.win).matchMedia)||void 0===K?void 0:K.call(E,"(orientation: portrait)").matches}testUserAgent(E){const K=this.win.navigator;return!!((null==K?void 0:K.userAgent)&&K.userAgent.indexOf(E)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(Tt.K0),u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const ys=(b,z)=>{z=z.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const K=new RegExp("[\\?&]"+z+"=([^&#]*)").exec(b);return K?decodeURIComponent(K[1].replace(/\+/g," ")):null},Ci=(b,z,E)=>{z&&z.addEventListener(E,K=>{b.next(null!=K?K.detail:void 0)})};let Yi=(()=>{class b{constructor(E,K,ge,Nt){this.location=K,this.serializer=ge,this.router=Nt,this.direction=Vs,this.animated=Di,this.guessDirection="forward",this.lastNavId=-1,Nt&&Nt.events.subscribe(dn=>{if(dn instanceof he.OD){const Dn=dn.restoredState?dn.restoredState.navigationId:dn.id;this.guessDirection=Dn<this.lastNavId?"back":"forward",this.guessAnimation=dn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?dn.id:Dn}}),E.backButton.subscribeWithPriority(0,dn=>{this.pop(),dn()})}navigateForward(E,K={}){return this.setDirection("forward",K.animated,K.animationDirection,K.animation),this.navigate(E,K)}navigateBack(E,K={}){return this.setDirection("back",K.animated,K.animationDirection,K.animation),this.navigate(E,K)}navigateRoot(E,K={}){return this.setDirection("root",K.animated,K.animationDirection,K.animation),this.navigate(E,K)}back(E={animated:!0,animationDirection:"back"}){return this.setDirection("back",E.animated,E.animationDirection,E.animation),this.location.back()}pop(){return(0,q.mG)(this,void 0,void 0,function*(){let E=this.topOutlet;for(;E&&!(yield E.pop());)E=E.parentOutlet})}setDirection(E,K,ge,Nt){this.direction=E,this.animated=Hi(E,K,ge),this.animationBuilder=Nt}setTopOutlet(E){this.topOutlet=E}consumeTransition(){let K,E="root";const ge=this.animationBuilder;return"auto"===this.direction?(E=this.guessDirection,K=this.guessAnimation):(K=this.animated,E=this.direction),this.direction=Vs,this.animated=Di,this.animationBuilder=void 0,{direction:E,animation:K,animationBuilder:ge}}navigate(E,K){if(Array.isArray(E))return this.router.navigate(E,K);{const ge=this.serializer.parse(E.toString());return void 0!==K.queryParams&&(ge.queryParams=Object.assign({},K.queryParams)),void 0!==K.fragment&&(ge.fragment=K.fragment),this.router.navigateByUrl(ge,K)}}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(ji),u.LFG(Tt.Ye),u.LFG(he.Hx),u.LFG(he.F0,8))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Hi=(b,z,E)=>{if(!1!==z){if(void 0!==E)return E;if("forward"===b||"back"===b)return b;if("root"===b&&!0===z)return"forward"}},Vs="auto",Di=void 0;let bs=(()=>{class b{constructor(E,K,ge,Nt,dn,Dn,br,Mt,Hn,mi,Jn,cs,Os){this.parentContexts=E,this.location=K,this.resolver=ge,this.config=Dn,this.navCtrl=br,this.parentOutlet=Os,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new de.X(null),this.stackEvents=new u.vpe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.nativeEl=Hn.nativeElement,this.name=Nt||he.eC,this.tabsPrefix="true"===dn?ls(mi,cs):void 0,this.stackCtrl=new ms(this.tabsPrefix,this.nativeEl,mi,br,Jn,Mt),E.onChildOutletCreated(this.name,this)}set animation(E){this.nativeEl.animation=E}set animated(E){this.nativeEl.animated=E}set swipeGesture(E){this._swipeGesture=E,this.nativeEl.swipeHandler=E?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:K=>this.stackCtrl.endBackTransition(K)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const E=this.getContext();(null==E?void 0:E.route)&&this.activateWith(E.route,E.resolver||null)}new Promise(E=>(0,ce.c)(this.nativeEl,E)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(E,K){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const K=this.getContext();this.activatedView.savedData=new Map(K.children.contexts);const ge=this.activatedView.savedData.get("primary");if(ge&&K.route&&(ge.route=Object.assign({},K.route)),this.activatedView.savedExtras={},K.route){const Nt=K.route.snapshot;this.activatedView.savedExtras.queryParams=Nt.queryParams,this.activatedView.savedExtras.fragment=Nt.fragment}}const E=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,K){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;let ge,Nt=this.stackCtrl.getExistingView(E);if(Nt){ge=this.activated=Nt.ref;const dn=Nt.savedData;dn&&(this.getContext().children.contexts=dn),this.updateActivatedRouteProxy(ge.instance,E)}else{const br=(K=K||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),Mt=this.parentContexts.getOrCreateContext(this.name).children,Hn=new de.X(null),mi=this.createActivatedRouteProxy(Hn,E),Jn=new _s(mi,Mt,this.location.injector);ge=this.activated=this.location.createComponent(br,this.location.length,Jn),Hn.next(ge.instance),Nt=this.stackCtrl.createView(this.activated,E),this.proxyMap.set(ge.instance,mi),this.currentActivatedRoute$.next({component:ge.instance,activatedRoute:E})}this.activatedView=Nt,this.stackCtrl.setActive(Nt).then(dn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(ge.instance),this.stackEvents.emit(dn)})}canGoBack(E=1,K){return this.stackCtrl.canGoBack(E,K)}pop(E=1,K){return this.stackCtrl.pop(E,K)}getLastUrl(E){const K=this.stackCtrl.getLastUrl(E);return K?K.url:void 0}getLastRouteView(E){return this.stackCtrl.getLastUrl(E)}getRootView(E){return this.stackCtrl.getRootUrl(E)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(E,K){const ge=new he.gz;return ge._futureSnapshot=K._futureSnapshot,ge._routerState=K._routerState,ge.snapshot=K.snapshot,ge.outlet=K.outlet,ge.component=K.component,ge._paramMap=this.proxyObservable(E,"paramMap"),ge._queryParamMap=this.proxyObservable(E,"queryParamMap"),ge.url=this.proxyObservable(E,"url"),ge.params=this.proxyObservable(E,"params"),ge.queryParams=this.proxyObservable(E,"queryParams"),ge.fragment=this.proxyObservable(E,"fragment"),ge.data=this.proxyObservable(E,"data"),ge}proxyObservable(E,K){return E.pipe((0,Ye.h)(ge=>!!ge),(0,Et.w)(ge=>this.currentActivatedRoute$.pipe((0,Ye.h)(Nt=>null!==Nt&&Nt.component===ge),(0,Et.w)(Nt=>Nt&&Nt.activatedRoute[K]),(0,Ue.x)())))}updateActivatedRouteProxy(E,K){const ge=this.proxyMap.get(E);if(!ge)throw new Error("Could not find activated route proxy for view");ge._futureSnapshot=K._futureSnapshot,ge._routerState=K._routerState,ge.snapshot=K.snapshot,ge.outlet=K.outlet,ge.component=K.component,this.currentActivatedRoute$.next({component:E,activatedRoute:K})}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(he.y6),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.$8M("tabs"),u.Y36(xe),u.Y36(Yi),u.Y36(Tt.Ye),u.Y36(u.SBq),u.Y36(he.F0),u.Y36(u.R0b),u.Y36(he.gz),u.Y36(b,12))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),b})();class _s{constructor(z,E,K){this.route=z,this.childContexts=E,this.parent=K}get(z,E){return z===he.gz?this.route:z===he.y6?this.childContexts:this.parent.get(z,E)}}class jr{constructor(z){this.ctrl=z}create(z){return this.ctrl.create(z||{})}dismiss(z,E,K){return this.ctrl.dismiss(z,E,K)}getTop(){return this.ctrl.getTop()}}let Ee=(()=>{class b extends jr{constructor(E,K,ge){super(Xe.m),this.angularDelegate=E,this.resolver=K,this.injector=ge}create(E){return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(ht),u.LFG(u._Vd),u.LFG(u.zs3))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),Je=(()=>{class b extends jr{constructor(E,K,ge){super(Xe.c),this.angularDelegate=E,this.resolver=K,this.injector=ge}create(E){return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(ht),u.LFG(u._Vd),u.LFG(u.zs3))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),F=(()=>{class b extends jr{constructor(){super(Xe.t)}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class nn{shouldDetach(z){return!1}shouldAttach(z){return!1}store(z,E){}retrieve(z){return null}shouldReuseRoute(z,E){if(z.routeConfig!==E.routeConfig)return!1;const K=z.params,ge=E.params,Nt=Object.keys(K),dn=Object.keys(ge);if(Nt.length!==dn.length)return!1;for(const Dn of Nt)if(ge[Dn]!==K[Dn])return!1;return!0}}const Kn=(b,z,E)=>()=>{if(z.defaultView&&"undefined"!=typeof window){(b=>{const z=window,E=z.Ionic;E&&E.config&&"Object"!==E.config.constructor.name||(z.Ionic=z.Ionic||{},z.Ionic.config=Object.assign(Object.assign({},z.Ionic.config),b))})(Object.assign(Object.assign({},b),{_zoneGate:Nt=>E.run(Nt)}));const ge="__zone_symbol__addEventListener"in z.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var b=[];if("undefined"!=typeof window){var z=window;(!z.customElements||z.Element&&(!z.Element.prototype.closest||!z.Element.prototype.matches||!z.Element.prototype.remove||!z.Element.prototype.getRootNode))&&b.push(H.e(6748).then(H.t.bind(H,1394,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||z.NodeList&&!z.NodeList.prototype.forEach||!z.fetch||!function(){try{var K=new URL("b","http://a");return K.pathname="c%20d","http://a/c%20d"===K.href&&K.searchParams}catch(ge){return!1}}()||"undefined"==typeof WeakMap)&&b.push(H.e(2214).then(H.t.bind(H,9631,23)))}return Promise.all(b)}().then(()=>((b,z)=>"undefined"==typeof window?Promise.resolve():(0,Re.p)().then(()=>(je(),(0,Re.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),z))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:rt,jmp:Nt=>E.runOutsideAngular(Nt),ael(Nt,dn,Dn,br){Nt[ge](dn,Dn,br)},rel(Nt,dn,Dn,br){Nt.removeEventListener(dn,Dn,br)}}))}};let kr=(()=>{class b{static forRoot(E){return{ngModule:b,providers:[{provide:Ui,useValue:E},{provide:u.ip1,useFactory:Kn,multi:!0,deps:[Ui,Tt.K0,u.R0b]}]}}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({providers:[ht,Ee,Je],imports:[[Tt.ez]]}),b})()},7996:(Gt,at,H)=>{"use strict";H.d(at,{c:()=>Xe});var u=H(7015);let $;const Me=Te=>Te.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=Te=>{if(void 0===$){const we=void 0!==Te.style.webkitAnimationName;$=void 0===Te.style.animationName&&we?"-webkit-":""}return $},de=(Te,Re,we)=>{const Be=Re.startsWith("animation")?ye(Te):"";Te.style.setProperty(Be+Re,we)},he=(Te,Re)=>{const we=Re.startsWith("animation")?ye(Te):"";Te.style.removeProperty(we+Re)},te=[],$e=(Te=[],Re)=>{if(void 0!==Re){const we=Array.isArray(Re)?Re:[Re];return[...Te,...we]}return Te},Xe=Te=>{let Re,we,Be,qe,De,ke,Ve,bt,ft,rt,ot,pt,_t,Ye=[],Et=[],Ue=[],Tt=!1,je={},Le=[],Fe=[],Ae={},et=0,Ut=!1,zt=!1,ct=!0,yt=!1,gt=!0;const tn=Te,Rn=[],wn=[],un=[],En=[],hr=[],Cn=[],$n=[],Ft=[],sr=[],an=[],Ar="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Gn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ar,ln=()=>an,mr=(P,j)=>((j&&j.oneTimeCallback?wn:Rn).push({c:P,o:j}),_t),cn=()=>{if(Gn)an.forEach(P=>{P.cancel()}),an.length=0;else{const P=un.slice();(0,u.r)(()=>{P.forEach(j=>{he(j,"animation-name"),he(j,"animation-duration"),he(j,"animation-timing-function"),he(j,"animation-iteration-count"),he(j,"animation-delay"),he(j,"animation-play-state"),he(j,"animation-fill-mode"),he(j,"animation-direction")})})}},sn=()=>{hr.forEach(P=>{P&&P.parentNode&&P.parentNode.removeChild(P)}),hr.length=0},mn=()=>void 0!==De?De:Ve?Ve.getFill():"both",Zn=()=>void 0!==ft?ft:void 0!==ke?ke:Ve?Ve.getDirection():"normal",_r=()=>Ut?"linear":void 0!==Be?Be:Ve?Ve.getEasing():"linear",Ln=()=>zt?0:void 0!==rt?rt:void 0!==we?we:Ve?Ve.getDuration():0,ar=()=>void 0!==qe?qe:Ve?Ve.getIterations():1,vn=()=>void 0!==ot?ot:void 0!==Re?Re:Ve?Ve.getDelay():0,lr=()=>{0!==et&&(et--,0===et&&((()=>{vi(),Ft.forEach(Pe=>Pe()),sr.forEach(Pe=>Pe());const P=ct?1:0,j=Le,ne=Fe,ve=Ae;un.forEach(Pe=>{const Ze=Pe.classList;j.forEach(We=>Ze.add(We)),ne.forEach(We=>Ze.remove(We));for(const We in ve)ve.hasOwnProperty(We)&&de(Pe,We,ve[We])}),Rn.forEach(Pe=>Pe.c(P,_t)),wn.forEach(Pe=>Pe.c(P,_t)),wn.length=0,gt=!0,ct&&(yt=!0),ct=!0})(),Ve&&Ve.animationFinish()))},Hr=(P=!0)=>{sn();const j=(Te=>(Te.forEach(Re=>{for(const we in Re)if(Re.hasOwnProperty(we)){const Be=Re[we];if("easing"===we)Re["animation-timing-function"]=Be,delete Re[we];else{const qe=Me(we);qe!==we&&(Re[qe]=Be,delete Re[we])}}}),Te))(Ye);un.forEach(ne=>{if(j.length>0){const ve=((Te=[])=>Te.map(Re=>{const we=Re.offset,Be=[];for(const qe in Re)Re.hasOwnProperty(qe)&&"offset"!==qe&&Be.push(`${qe}: ${Re[qe]};`);return`${100*we}% { ${Be.join(" ")} }`}).join(" "))(j);pt=void 0!==Te?Te:(Te=>{let Re=te.indexOf(Te);return Re<0&&(Re=te.push(Te)-1),`ion-animation-${Re}`})(ve);const Pe=((Te,Re,we)=>{const Be=(Te=>{const Re=Te.getRootNode();return Re.head||Re})(we),qe=ye(we),De=Be.querySelector("#"+Te);if(De)return De;const ke=(we.ownerDocument||document).createElement("style");return ke.id=Te,ke.textContent=`@${qe}keyframes ${Te} { ${Re} } @${qe}keyframes ${Te}-alt { ${Re} }`,Be.appendChild(ke),ke})(pt,ve,ne);hr.push(Pe),de(ne,"animation-duration",`${Ln()}ms`),de(ne,"animation-timing-function",_r()),de(ne,"animation-delay",`${vn()}ms`),de(ne,"animation-fill-mode",mn()),de(ne,"animation-direction",Zn());const Ze=ar()===1/0?"infinite":ar().toString();de(ne,"animation-iteration-count",Ze),de(ne,"animation-play-state","paused"),P&&de(ne,"animation-name",`${Pe.id}-alt`),(0,u.r)(()=>{de(ne,"animation-name",Pe.id||null)})}})},tr=(P=!0)=>{(()=>{Cn.forEach(ve=>ve()),$n.forEach(ve=>ve());const P=Et,j=Ue,ne=je;un.forEach(ve=>{const Pe=ve.classList;P.forEach(Ze=>Pe.add(Ze)),j.forEach(Ze=>Pe.remove(Ze));for(const Ze in ne)ne.hasOwnProperty(Ze)&&de(ve,Ze,ne[Ze])})})(),Ye.length>0&&(Gn?(un.forEach(P=>{const j=P.animate(Ye,{id:tn,delay:vn(),duration:Ln(),easing:_r(),iterations:ar(),fill:mn(),direction:Zn()});j.pause(),an.push(j)}),an.length>0&&(an[0].onfinish=()=>{lr()})):Hr(P)),Tt=!0},xr=P=>{if(P=Math.min(Math.max(P,0),.9999),Gn)an.forEach(j=>{j.currentTime=j.effect.getComputedTiming().delay+Ln()*P,j.pause()});else{const j=`-${Ln()*P}ms`;un.forEach(ne=>{Ye.length>0&&(de(ne,"animation-delay",j),de(ne,"animation-play-state","paused"))})}},jn=P=>{an.forEach(j=>{j.effect.updateTiming({delay:vn(),duration:Ln(),easing:_r(),iterations:ar(),fill:mn(),direction:Zn()})}),void 0!==P&&xr(P)},Kr=(P=!0,j)=>{(0,u.r)(()=>{un.forEach(ne=>{de(ne,"animation-name",pt||null),de(ne,"animation-duration",`${Ln()}ms`),de(ne,"animation-timing-function",_r()),de(ne,"animation-delay",void 0!==j?`-${j*Ln()}ms`:`${vn()}ms`),de(ne,"animation-fill-mode",mn()||null),de(ne,"animation-direction",Zn()||null);const ve=ar()===1/0?"infinite":ar().toString();de(ne,"animation-iteration-count",ve),P&&de(ne,"animation-name",`${pt}-alt`),(0,u.r)(()=>{de(ne,"animation-name",pt||null)})})})},Lr=(P=!1,j=!0,ne)=>(P&&En.forEach(ve=>{ve.update(P,j,ne)}),Gn?jn(ne):Kr(j,ne),_t),Zr=()=>{Tt&&(Gn?an.forEach(P=>{P.pause()}):un.forEach(P=>{de(P,"animation-play-state","paused")}))},vr=()=>{bt=void 0,lr()},vi=()=>{bt&&clearTimeout(bt)},ci=P=>new Promise(j=>{P&&P.sync&&(zt=!0,mr(()=>zt=!1,{oneTimeCallback:!0})),Tt||tr(),yt&&(Gn?(xr(0),jn()):Kr(),yt=!1),gt&&(et=En.length+1,gt=!1),mr(()=>j(),{oneTimeCallback:!0}),En.forEach(ne=>{ne.play()}),Gn?(an.forEach(P=>{P.play()}),(0===Ye.length||0===un.length)&&lr()):(()=>{if(vi(),(0,u.r)(()=>{un.forEach(P=>{Ye.length>0&&de(P,"animation-play-state","running")})}),0===Ye.length||0===un.length)lr();else{const P=vn()||0,j=Ln()||0,ne=ar()||1;isFinite(ne)&&(bt=setTimeout(vr,P+j*ne+100)),((Te,Re)=>{let we;const Be={passive:!0},De=ke=>{Te===ke.target&&(we&&we(),vi(),(0,u.r)(()=>{un.forEach(P=>{he(P,"animation-duration"),he(P,"animation-delay"),he(P,"animation-play-state")}),(0,u.r)(lr)}))};Te&&(Te.addEventListener("webkitAnimationEnd",De,Be),Te.addEventListener("animationend",De,Be),we=()=>{Te.removeEventListener("webkitAnimationEnd",De,Be),Te.removeEventListener("animationend",De,Be)})})(un[0])}})()}),Ke=(P,j)=>{const ne=Ye[0];return void 0===ne||void 0!==ne.offset&&0!==ne.offset?Ye=[{offset:0,[P]:j},...Ye]:ne[P]=j,_t};return _t={parentAnimation:Ve,elements:un,childAnimations:En,id:tn,animationFinish:lr,from:Ke,to:(P,j)=>{const ne=Ye[Ye.length-1];return void 0===ne||void 0!==ne.offset&&1!==ne.offset?Ye=[...Ye,{offset:1,[P]:j}]:ne[P]=j,_t},fromTo:(P,j,ne)=>Ke(P,j).to(P,ne),parent:P=>(Ve=P,_t),play:ci,pause:()=>(En.forEach(P=>{P.pause()}),Zr(),_t),stop:()=>{En.forEach(P=>{P.stop()}),Tt&&(cn(),Tt=!1),Ut=!1,zt=!1,gt=!0,ft=void 0,rt=void 0,ot=void 0,et=0,yt=!1,ct=!0},destroy:P=>(En.forEach(j=>{j.destroy(P)}),(P=>{cn(),P&&sn()})(P),un.length=0,En.length=0,Ye.length=0,Rn.length=0,wn.length=0,Tt=!1,gt=!0,_t),keyframes:P=>{const j=Ye!==P;return Ye=P,j&&(P=>{Gn?ln().forEach(j=>{if(j.effect.setKeyframes)j.effect.setKeyframes(P);else{const ne=new KeyframeEffect(j.effect.target,P,j.effect.getTiming());j.effect=ne}}):Hr()})(Ye),_t},addAnimation:P=>{if(null!=P)if(Array.isArray(P))for(const j of P)j.parent(_t),En.push(j);else P.parent(_t),En.push(P);return _t},addElement:P=>{if(null!=P)if(1===P.nodeType)un.push(P);else if(P.length>=0)for(let j=0;j<P.length;j++)un.push(P[j]);else console.error("Invalid addElement value");return _t},update:Lr,fill:P=>(De=P,Lr(!0),_t),direction:P=>(ke=P,Lr(!0),_t),iterations:P=>(qe=P,Lr(!0),_t),duration:P=>(!Gn&&0===P&&(P=1),we=P,Lr(!0),_t),easing:P=>(Be=P,Lr(!0),_t),delay:P=>(Re=P,Lr(!0),_t),getWebAnimations:ln,getKeyframes:()=>Ye,getFill:mn,getDirection:Zn,getDelay:vn,getIterations:ar,getEasing:_r,getDuration:Ln,afterAddRead:P=>(Ft.push(P),_t),afterAddWrite:P=>(sr.push(P),_t),afterClearStyles:(P=[])=>{for(const j of P)Ae[j]="";return _t},afterStyles:(P={})=>(Ae=P,_t),afterRemoveClass:P=>(Fe=$e(Fe,P),_t),afterAddClass:P=>(Le=$e(Le,P),_t),beforeAddRead:P=>(Cn.push(P),_t),beforeAddWrite:P=>($n.push(P),_t),beforeClearStyles:(P=[])=>{for(const j of P)je[j]="";return _t},beforeStyles:(P={})=>(je=P,_t),beforeRemoveClass:P=>(Ue=$e(Ue,P),_t),beforeAddClass:P=>(Et=$e(Et,P),_t),onFinish:mr,progressStart:(P=!1,j)=>(En.forEach(ne=>{ne.progressStart(P,j)}),Zr(),Ut=P,Tt||tr(),Lr(!1,!0,j),_t),progressStep:P=>(En.forEach(j=>{j.progressStep(P)}),xr(P),_t),progressEnd:(P,j,ne)=>(Ut=!1,En.forEach(ve=>{ve.progressEnd(P,j,ne)}),void 0!==ne&&(rt=ne),yt=!1,ct=!0,0===P?(ft="reverse"===Zn()?"normal":"reverse","reverse"===ft&&(ct=!1),Gn?(Lr(),xr(1-j)):(ot=(1-j)*Ln()*-1,Lr(!1,!1))):1===P&&(Gn?(Lr(),xr(j)):(ot=j*Ln()*-1,Lr(!1,!1))),void 0!==P&&(mr(()=>{rt=void 0,ft=void 0,ot=void 0},{oneTimeCallback:!0}),Ve||ci()),_t)}}},5048:(Gt,at,H)=>{"use strict";H.d(at,{G:()=>ye});class ${constructor(he,J,me,te,re){this.id=J,this.name=me,this.disableScroll=re,this.priority=1e6*te+J,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class q{constructor(he,J,me,te){this.id=J,this.disable=me,this.disableScroll=te,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Me="backdrop-no-scroll",ye=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){return new $(this,this.newID(),he.name,he.priority||0,!!he.disableScroll)}createBlocker(he={}){return new q(this,this.newID(),he.disable,!!he.disableScroll)}start(he,J,me){return this.canStart(he)?(this.requestedStart.set(J,me),!0):(this.requestedStart.delete(J),!1)}capture(he,J,me){if(!this.start(he,J,me))return!1;const te=this.requestedStart;let re=-1e4;if(te.forEach(ce=>{re=Math.max(re,ce)}),re===me){this.capturedId=J,te.clear();const ce=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(ce),!0}return te.delete(J),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,J){let me=this.disabledGestures.get(he);void 0===me&&(me=new Set,this.disabledGestures.set(he,me)),me.add(J)}enableGesture(he,J){const me=this.disabledGestures.get(he);void 0!==me&&me.delete(J)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(Me)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(Me)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const J=this.disabledGestures.get(he);return!!(J&&J.size>0)}newID(){return this.gestureId++,this.gestureId}}},9081:(Gt,at,H)=>{"use strict";H.r(at),H.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>ye,OVERLAY_BACK_BUTTON_PRIORITY:()=>Me,blockHardwareBackButton:()=>$,startHardwareBackButton:()=>q});var u=H(8239);const $=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const de=document;let he=!1;de.addEventListener("backbutton",()=>{if(he)return;let J=0,me=[];const te=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ie,$e){me.push({priority:ie,handler:$e,id:J++})}}});de.dispatchEvent(te);const re=function(){var ie=(0,u.Z)(function*($e){try{if($e&&$e.handler){const Xe=$e.handler(ce);null!=Xe&&(yield Xe)}}catch(Xe){console.error(Xe)}});return function(Xe){return ie.apply(this,arguments)}}(),ce=()=>{if(me.length>0){let ie={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};me.forEach($e=>{$e.priority>=ie.priority&&(ie=$e)}),he=!0,me=me.filter($e=>$e.id!==ie.id),re(ie).then(()=>he=!1)}};ce()})},Me=100,ye=99},7015:(Gt,at,H)=>{"use strict";H.d(at,{a:()=>ye,b:()=>de,c:()=>q,d:()=>ce,e:()=>ie,f:()=>re,g:()=>he,h:()=>Be,i:()=>Me,j:()=>te,k:()=>$e,l:()=>me,m:()=>Xe,n:()=>we,o:()=>qe,p:()=>Re,q:()=>Te,r:()=>J,s:()=>De,t:()=>u});const u=(ke,Ye=0)=>new Promise(Et=>{$(ke,Ye,Et)}),$=(ke,Ye=0,Et)=>{let Ue,Tt;const Ve={passive:!0},Le=()=>{Ue&&Ue()},Fe=Ae=>{(void 0===Ae||ke===Ae.target)&&(Le(),Et(Ae))};return ke&&(ke.addEventListener("webkitTransitionEnd",Fe,Ve),ke.addEventListener("transitionend",Fe,Ve),Tt=setTimeout(Fe,Ye+500),Ue=()=>{Tt&&(clearTimeout(Tt),Tt=void 0),ke.removeEventListener("webkitTransitionEnd",Fe,Ve),ke.removeEventListener("transitionend",Fe,Ve)}),Le},q=(ke,Ye)=>{ke.componentOnReady?ke.componentOnReady().then(Et=>Ye(Et)):J(()=>Ye(ke))},Me=(ke,Ye=[])=>{const Et={};return Ye.forEach(Ue=>{ke.hasAttribute(Ue)&&(null!==ke.getAttribute(Ue)&&(Et[Ue]=ke.getAttribute(Ue)),ke.removeAttribute(Ue))}),Et},ye=(ke,Ye,Et,Ue)=>{if("undefined"!=typeof window){const Tt=window,Ve=Tt&&Tt.Ionic&&Tt.Ionic.config;if(Ve){const je=Ve.get("_ael");if(je)return je(ke,Ye,Et,Ue);if(Ve._ael)return Ve._ael(ke,Ye,Et,Ue)}}return ke.addEventListener(Ye,Et,Ue)},de=(ke,Ye,Et,Ue)=>{if("undefined"!=typeof window){const Tt=window,Ve=Tt&&Tt.Ionic&&Tt.Ionic.config;if(Ve){const je=Ve.get("_rel");if(je)return je(ke,Ye,Et,Ue);if(Ve._rel)return Ve._rel(ke,Ye,Et,Ue)}}return ke.removeEventListener(Ye,Et,Ue)},he=(ke,Ye=ke)=>ke.shadowRoot||Ye,J=ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke),me=ke=>!!ke.shadowRoot&&!!ke.attachShadow,te=ke=>{const Ye=ke.closest("ion-item");return Ye?Ye.querySelector("ion-label"):null},re=ke=>{if(ke.focus(),ke.classList.contains("ion-focusable")){const Ye=ke.closest("ion-app");Ye&&Ye.setFocus([ke])}},ce=(ke,Ye)=>{let Et;const Ue=ke.getAttribute("aria-labelledby"),Tt=ke.id;let Ve=null!==Ue&&""!==Ue.trim()?Ue:Ye+"-lbl",je=null!==Ue&&""!==Ue.trim()?document.getElementById(Ue):te(ke);return je?(null===Ue&&(je.id=Ve),Et=je.textContent,je.setAttribute("aria-hidden","true")):""!==Tt.trim()&&(je=document.querySelector(`label[for="${Tt}"]`),je&&(""!==je.id?Ve=je.id:je.id=Ve=`${Tt}-lbl`,Et=je.textContent)),{label:je,labelId:Ve,labelText:Et}},ie=(ke,Ye,Et,Ue,Tt)=>{if(ke||me(Ye)){let Ve=Ye.querySelector("input.aux-input");Ve||(Ve=Ye.ownerDocument.createElement("input"),Ve.type="hidden",Ve.classList.add("aux-input"),Ye.appendChild(Ve)),Ve.disabled=Tt,Ve.name=Et,Ve.value=Ue||""}},$e=(ke,Ye,Et)=>Math.max(ke,Math.min(Ye,Et)),Xe=(ke,Ye)=>{if(!ke){const Et="ASSERT: "+Ye;throw console.error(Et),new Error(Et)}},Te=ke=>ke.timeStamp||Date.now(),Re=ke=>{if(ke){const Ye=ke.changedTouches;if(Ye&&Ye.length>0){const Et=Ye[0];return{x:Et.clientX,y:Et.clientY}}if(void 0!==ke.pageX)return{x:ke.pageX,y:ke.pageY}}return{x:0,y:0}},we=ke=>{const Ye="rtl"===document.dir;switch(ke){case"start":return Ye;case"end":return!Ye;default:throw new Error(`"${ke}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(ke,Ye)=>{const Et=ke._original||ke;return{_original:ke,emit:qe(Et.emit.bind(Et),Ye)}},qe=(ke,Ye=0)=>{let Et;return(...Ue)=>{clearTimeout(Et),Et=setTimeout(ke,Ye,...Ue)}},De=(ke,Ye)=>{if(null!=ke||(ke={}),null!=Ye||(Ye={}),ke===Ye)return!0;const Et=Object.keys(ke);if(Et.length!==Object.keys(Ye).length)return!1;for(const Ue of Et)if(!(Ue in Ye)||ke[Ue]!==Ye[Ue])return!1;return!0}},7629:(Gt,at,H)=>{"use strict";H.d(at,{B:()=>Ke,H:()=>hr,a:()=>yt,b:()=>Hr,c:()=>be,e:()=>st,f:()=>ci,g:()=>gt,h:()=>un,i:()=>He,j:()=>ar,k:()=>Ur,p:()=>Te,r:()=>jn,s:()=>$e});var u=H(8239);let q,Me,ye,de=!1,he=!1,J=!1,me=!1,te=!1;const re="undefined"!=typeof window?window:{},ce=re.document||{head:{}},ie={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,N,P,j)=>C.addEventListener(N,P,j),rel:(C,N,P,j)=>C.removeEventListener(N,P,j),ce:(C,N)=>new CustomEvent(C,N)},$e=C=>{Object.assign(ie,C)},Te=C=>Promise.resolve(C),Re=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(C){}return!1})(),we=(C,N,P,j)=>{P&&P.map(([ne,ve,Pe])=>{const Ze=qe(C,ne),We=Be(N,Pe),ht=De(ne);ie.ael(Ze,ve,We,ht),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>ie.rel(Ze,ve,We,ht))})},Be=(C,N)=>P=>{try{256&C.$flags$?C.$lazyInstance$[N](P):(C.$queuedListeners$=C.$queuedListeners$||[]).push([N,P])}catch(j){Mn(j)}},qe=(C,N)=>4&N?ce:8&N?re:16&N?ce.body:C,De=C=>0!=(2&C),Tt="s-id",Ve="sty-id",Fe="http://www.w3.org/1999/xlink",Ut=new WeakMap,zt=(C,N,P)=>{let j=Zr.get(C);Re&&P?(j=j||new CSSStyleSheet,j.replace(N)):j=N,Zr.set(C,j)},bt=(C,N,P,j)=>{let ne=rt(N,P),ve=Zr.get(ne);if(C=11===C.nodeType?C:ce,ve)if("string"==typeof ve){let Ze,Pe=Ut.get(C=C.head||C);Pe||Ut.set(C,Pe=new Set),Pe.has(ne)||(C.host&&(Ze=C.querySelector(`[${Ve}="${ne}"]`))?Ze.innerHTML=ve:(Ze=ce.createElement("style"),Ze.innerHTML=ve,C.insertBefore(Ze,C.querySelector("link"))),Pe&&Pe.add(ne))}else C.adoptedStyleSheets.includes(ve)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,ve]);return ne},rt=(C,N)=>"sc-"+(N&&32&C.$flags$?C.$tagName$+"-"+N:C.$tagName$),ot=C=>C.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),yt=C=>Jr.push(C),gt=C=>xr(C).$modeName$,pt={},wn=C=>"object"==(C=typeof C)||"function"===C,un=(C,N,...P)=>{let j=null,ne=null,ve=null,Pe=!1,Ze=!1,We=[];const ht=Kt=>{for(let hn=0;hn<Kt.length;hn++)j=Kt[hn],Array.isArray(j)?ht(j):null!=j&&"boolean"!=typeof j&&((Pe="function"!=typeof C&&!wn(j))&&(j=String(j)),Pe&&Ze?We[We.length-1].$text$+=j:We.push(Pe?En(null,j):j),Ze=Pe)};if(ht(P),N){N.key&&(ne=N.key),N.name&&(ve=N.name);{const Kt=N.className||N.class;Kt&&(N.class="object"!=typeof Kt?Kt:Object.keys(Kt).filter(hn=>Kt[hn]).join(" "))}}if("function"==typeof C)return C(null===N?{}:N,We,$n);const Lt=En(C,null);return Lt.$attrs$=N,We.length>0&&(Lt.$children$=We),Lt.$key$=ne,Lt.$name$=ve,Lt},En=(C,N)=>({$flags$:0,$tag$:C,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),hr={},$n={forEach:(C,N)=>C.map(Ft).forEach(N),map:(C,N)=>C.map(Ft).map(N).map(sr)},Ft=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),sr=C=>{if("function"==typeof C.vtag){const P=Object.assign({},C.vattrs);return C.vkey&&(P.key=C.vkey),C.vname&&(P.name=C.vname),un(C.vtag,P,...C.vchildren||[])}const N=En(C.vtag,C.vtext);return N.$attrs$=C.vattrs,N.$children$=C.vchildren,N.$key$=C.vkey,N.$name$=C.vname,N},an=(C,N,P,j,ne,ve)=>{if(P!==j){let Pe=Lr(C,N),Ze=N.toLowerCase();if("class"===N){const We=C.classList,ht=Gn(P),Lt=Gn(j);We.remove(...ht.filter(Kt=>Kt&&!Lt.includes(Kt))),We.add(...Lt.filter(Kt=>Kt&&!ht.includes(Kt)))}else if("style"===N){for(const We in P)(!j||null==j[We])&&(We.includes("-")?C.style.removeProperty(We):C.style[We]="");for(const We in j)(!P||j[We]!==P[We])&&(We.includes("-")?C.style.setProperty(We,j[We]):C.style[We]=j[We])}else if("key"!==N)if("ref"===N)j&&j(C);else if(Pe||"o"!==N[0]||"n"!==N[1]){const We=wn(j);if((Pe||We&&null!==j)&&!ne)try{if(C.tagName.includes("-"))C[N]=j;else{let Lt=null==j?"":j;"list"===N?Pe=!1:(null==P||C[N]!=Lt)&&(C[N]=Lt)}}catch(Lt){}let ht=!1;Ze!==(Ze=Ze.replace(/^xlink\:?/,""))&&(N=Ze,ht=!0),null==j||!1===j?(!1!==j||""===C.getAttribute(N))&&(ht?C.removeAttributeNS(Fe,N):C.removeAttribute(N)):(!Pe||4&ve||ne)&&!We&&(j=!0===j?"":j,ht?C.setAttributeNS(Fe,N,j):C.setAttribute(N,j))}else N="-"===N[2]?N.slice(3):Lr(re,Ze)?Ze.slice(2):Ze[2]+N.slice(3),P&&ie.rel(C,N,P,!1),j&&ie.ael(C,N,j,!1)}},Ar=/\s/,Gn=C=>C?C.split(Ar):[],Wn=(C,N,P,j)=>{const ne=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,ve=C&&C.$attrs$||pt,Pe=N.$attrs$||pt;for(j in ve)j in Pe||an(ne,j,ve[j],void 0,P,N.$flags$);for(j in Pe)an(ne,j,ve[j],Pe[j],P,N.$flags$)},ln=(C,N,P,j)=>{let Pe,Ze,We,ne=N.$children$[P],ve=0;if(de||(J=!0,"slot"===ne.$tag$&&(q&&j.classList.add(q+"-s"),ne.$flags$|=ne.$children$?2:1)),null!==ne.$text$)Pe=ne.$elm$=ce.createTextNode(ne.$text$);else if(1&ne.$flags$)Pe=ne.$elm$=ce.createTextNode("");else{if(me||(me="svg"===ne.$tag$),Pe=ne.$elm$=ce.createElementNS(me?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ne.$flags$?"slot-fb":ne.$tag$),me&&"foreignObject"===ne.$tag$&&(me=!1),Wn(null,ne,me),(C=>null!=C)(q)&&Pe["s-si"]!==q&&Pe.classList.add(Pe["s-si"]=q),ne.$children$)for(ve=0;ve<ne.$children$.length;++ve)Ze=ln(C,ne,ve,Pe),Ze&&Pe.appendChild(Ze);"svg"===ne.$tag$?me=!1:"foreignObject"===Pe.tagName&&(me=!0)}return Pe["s-hn"]=ye,3&ne.$flags$&&(Pe["s-sr"]=!0,Pe["s-cr"]=Me,Pe["s-sn"]=ne.$name$||"",We=C&&C.$children$&&C.$children$[P],We&&We.$tag$===ne.$tag$&&C.$elm$&&gn(C.$elm$,!1)),Pe},gn=(C,N)=>{ie.$flags$|=1;const P=C.childNodes;for(let j=P.length-1;j>=0;j--){const ne=P[j];ne["s-hn"]!==ye&&ne["s-ol"]&&(sn(ne).insertBefore(ne,cn(ne)),ne["s-ol"].remove(),ne["s-ol"]=void 0,J=!0),N&&gn(ne,N)}ie.$flags$&=-2},In=(C,N,P,j,ne,ve)=>{let Ze,Pe=C["s-cr"]&&C["s-cr"].parentNode||C;for(Pe.shadowRoot&&Pe.tagName===ye&&(Pe=Pe.shadowRoot);ne<=ve;++ne)j[ne]&&(Ze=ln(null,P,ne,C),Ze&&(j[ne].$elm$=Ze,Pe.insertBefore(Ze,cn(N))))},Fn=(C,N,P,j,ne)=>{for(;N<=P;++N)(j=C[N])&&(ne=j.$elm$,Fr(j),he=!0,ne["s-ol"]?ne["s-ol"].remove():gn(ne,!0),ne.remove())},Yn=(C,N)=>C.$tag$===N.$tag$&&("slot"===C.$tag$?C.$name$===N.$name$:C.$key$===N.$key$),cn=C=>C&&C["s-ol"]||C,sn=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,Yr=(C,N)=>{const P=N.$elm$=C.$elm$,j=C.$children$,ne=N.$children$,ve=N.$tag$,Pe=N.$text$;let Ze;null===Pe?(me="svg"===ve||"foreignObject"!==ve&&me,"slot"===ve||Wn(C,N,me),null!==j&&null!==ne?((C,N,P,j)=>{let Mr,Er,ne=0,ve=0,Pe=0,Ze=0,We=N.length-1,ht=N[0],Lt=N[We],Kt=j.length-1,hn=j[0],Sn=j[Kt];for(;ne<=We&&ve<=Kt;)if(null==ht)ht=N[++ne];else if(null==Lt)Lt=N[--We];else if(null==hn)hn=j[++ve];else if(null==Sn)Sn=j[--Kt];else if(Yn(ht,hn))Yr(ht,hn),ht=N[++ne],hn=j[++ve];else if(Yn(Lt,Sn))Yr(Lt,Sn),Lt=N[--We],Sn=j[--Kt];else if(Yn(ht,Sn))("slot"===ht.$tag$||"slot"===Sn.$tag$)&&gn(ht.$elm$.parentNode,!1),Yr(ht,Sn),C.insertBefore(ht.$elm$,Lt.$elm$.nextSibling),ht=N[++ne],Sn=j[--Kt];else if(Yn(Lt,hn))("slot"===ht.$tag$||"slot"===Sn.$tag$)&&gn(Lt.$elm$.parentNode,!1),Yr(Lt,hn),C.insertBefore(Lt.$elm$,ht.$elm$),Lt=N[--We],hn=j[++ve];else{for(Pe=-1,Ze=ne;Ze<=We;++Ze)if(N[Ze]&&null!==N[Ze].$key$&&N[Ze].$key$===hn.$key$){Pe=Ze;break}Pe>=0?(Er=N[Pe],Er.$tag$!==hn.$tag$?Mr=ln(N&&N[ve],P,Pe,C):(Yr(Er,hn),N[Pe]=void 0,Mr=Er.$elm$),hn=j[++ve]):(Mr=ln(N&&N[ve],P,ve,C),hn=j[++ve]),Mr&&sn(ht.$elm$).insertBefore(Mr,cn(ht.$elm$))}ne>We?In(C,null==j[Kt+1]?null:j[Kt+1].$elm$,P,j,ve,Kt):ve>Kt&&Fn(N,ne,We)})(P,j,N,ne):null!==ne?(null!==C.$text$&&(P.textContent=""),In(P,null,N,ne,0,ne.length-1)):null!==j&&Fn(j,0,j.length-1),me&&"svg"===ve&&(me=!1)):(Ze=P["s-cr"])?Ze.parentNode.textContent=Pe:C.$text$!==Pe&&(P.data=Pe)},ti=C=>{let P,j,ne,ve,Pe,Ze,N=C.childNodes;for(j=0,ne=N.length;j<ne;j++)if(P=N[j],1===P.nodeType){if(P["s-sr"])for(Pe=P["s-sn"],P.hidden=!1,ve=0;ve<ne;ve++)if(Ze=N[ve].nodeType,N[ve]["s-hn"]!==P["s-hn"]||""!==Pe){if(1===Ze&&Pe===N[ve].getAttribute("slot")){P.hidden=!0;break}}else if(1===Ze||3===Ze&&""!==N[ve].textContent.trim()){P.hidden=!0;break}ti(P)}},_n=[],fr=C=>{let N,P,j,ne,ve,Pe,Ze=0,We=C.childNodes,ht=We.length;for(;Ze<ht;Ze++){if(N=We[Ze],N["s-sr"]&&(P=N["s-cr"])&&P.parentNode)for(j=P.parentNode.childNodes,ne=N["s-sn"],Pe=j.length-1;Pe>=0;Pe--)P=j[Pe],!P["s-cn"]&&!P["s-nr"]&&P["s-hn"]!==N["s-hn"]&&(yr(P,ne)?(ve=_n.find(Lt=>Lt.$nodeToRelocate$===P),he=!0,P["s-sn"]=P["s-sn"]||ne,ve?ve.$slotRefNode$=N:_n.push({$slotRefNode$:N,$nodeToRelocate$:P}),P["s-sr"]&&_n.map(Lt=>{yr(Lt.$nodeToRelocate$,P["s-sn"])&&(ve=_n.find(Kt=>Kt.$nodeToRelocate$===P),ve&&!Lt.$slotRefNode$&&(Lt.$slotRefNode$=ve.$slotRefNode$))})):_n.some(Lt=>Lt.$nodeToRelocate$===P)||_n.push({$nodeToRelocate$:P}));1===N.nodeType&&fr(N)}},yr=(C,N)=>1===C.nodeType?null===C.getAttribute("slot")&&""===N||C.getAttribute("slot")===N:C["s-sn"]===N||""===N,Fr=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(Fr)},He=C=>xr(C).$hostElement$,st=(C,N,P)=>{const j=He(C);return{emit:ne=>Ot(j,N,{bubbles:!!(4&P),composed:!!(2&P),cancelable:!!(1&P),detail:ne})}},Ot=(C,N,P)=>{const j=ie.ce(N,P);return C.dispatchEvent(j),j},dt=(C,N)=>{N&&!C.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(P=>C.$onRenderResolve$=P))},on=(C,N)=>{if(C.$flags$|=16,!(4&C.$flags$))return dt(C,C.$ancestorComponent$),be(()=>mn(C,N));C.$flags$|=512},mn=(C,N)=>{const j=C.$lazyInstance$;let ne;return N&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([ve,Pe])=>Qn(j,ve,Pe)),C.$queuedListeners$=null),ne=Qn(j,"componentWillLoad")),ne=vt(ne,()=>Qn(j,"componentWillRender")),vt(ne,()=>Zn(C,j,N))},Zn=function(){var C=(0,u.Z)(function*(N,P,j){const ne=N.$hostElement$,Pe=ne["s-rc"];j&&(C=>{const N=C.$cmpMeta$,P=C.$hostElement$,j=N.$flags$,ve=bt(P.shadowRoot?P.shadowRoot:P.getRootNode(),N,C.$modeName$);10&j&&(P["s-sc"]=ve,P.classList.add(ve+"-h"),2&j&&P.classList.add(ve+"-s"))})(N);_r(N,P),Pe&&(Pe.map(We=>We()),ne["s-rc"]=void 0);{const We=ne["s-p"],ht=()=>Ln(N);0===We.length?ht():(Promise.all(We).then(ht),N.$flags$|=4,We.length=0)}});return function(P,j,ne){return C.apply(this,arguments)}}(),_r=(C,N,P)=>{try{N=N.render&&N.render(),C.$flags$&=-17,C.$flags$|=2,((C,N)=>{const P=C.$hostElement$,j=C.$cmpMeta$,ne=C.$vnode$||En(null,null),ve=(C=>C&&C.$tag$===hr)(N)?N:un(null,null,N);if(ye=P.tagName,j.$attrsToReflect$&&(ve.$attrs$=ve.$attrs$||{},j.$attrsToReflect$.map(([Pe,Ze])=>ve.$attrs$[Ze]=P[Pe])),ve.$tag$=null,ve.$flags$|=4,C.$vnode$=ve,ve.$elm$=ne.$elm$=P.shadowRoot||P,q=P["s-sc"],Me=P["s-cr"],de=0!=(1&j.$flags$),he=!1,Yr(ne,ve),ie.$flags$|=1,J){fr(ve.$elm$);let Pe,Ze,We,ht,Lt,Kt,hn=0;for(;hn<_n.length;hn++)Pe=_n[hn],Ze=Pe.$nodeToRelocate$,Ze["s-ol"]||(We=ce.createTextNode(""),We["s-nr"]=Ze,Ze.parentNode.insertBefore(Ze["s-ol"]=We,Ze));for(hn=0;hn<_n.length;hn++)if(Pe=_n[hn],Ze=Pe.$nodeToRelocate$,Pe.$slotRefNode$){for(ht=Pe.$slotRefNode$.parentNode,Lt=Pe.$slotRefNode$.nextSibling,We=Ze["s-ol"];We=We.previousSibling;)if(Kt=We["s-nr"],Kt&&Kt["s-sn"]===Ze["s-sn"]&&ht===Kt.parentNode&&(Kt=Kt.nextSibling,!Kt||!Kt["s-nr"])){Lt=Kt;break}(!Lt&&ht!==Ze.parentNode||Ze.nextSibling!==Lt)&&Ze!==Lt&&(!Ze["s-hn"]&&Ze["s-ol"]&&(Ze["s-hn"]=Ze["s-ol"].parentNode.nodeName),ht.insertBefore(Ze,Lt))}else 1===Ze.nodeType&&(Ze.hidden=!0)}he&&ti(ve.$elm$),ie.$flags$&=-2,_n.length=0})(C,N)}catch(j){Mn(j,C.$hostElement$)}return null},Ln=C=>{const P=C.$hostElement$,ne=C.$lazyInstance$,ve=C.$ancestorComponent$;64&C.$flags$?Qn(ne,"componentDidUpdate"):(C.$flags$|=64,it(P),Qn(ne,"componentDidLoad"),C.$onReadyResolve$(P),ve||vn()),C.$onInstanceResolve$(P),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&Ii(()=>on(C,!1)),C.$flags$&=-517},ar=C=>{{const N=xr(C),P=N.$hostElement$.isConnected;return P&&2==(18&N.$flags$)&&on(N,!1),P}},vn=C=>{it(ce.documentElement),Ii(()=>Ot(re,"appload",{detail:{namespace:"ionic"}}))},Qn=(C,N,P)=>{if(C&&C[N])try{return C[N](P)}catch(j){Mn(j)}},vt=(C,N)=>C&&C.then?C.then(N):N(),it=C=>C.classList.add("hydrated"),kt=(C,N,P,j,ne,ve,Pe)=>{let Ze,We,ht,Lt;if(1===ve.nodeType){for(Ze=ve.getAttribute("c-id"),Ze&&(We=Ze.split("."),(We[0]===Pe||"0"===We[0])&&(ht={$flags$:0,$hostId$:We[0],$nodeId$:We[1],$depth$:We[2],$index$:We[3],$tag$:ve.tagName.toLowerCase(),$elm$:ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(ht),ve.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[ht.$index$]=ht,C=ht,j&&"0"===ht.$depth$&&(j[ht.$index$]=ht.$elm$))),Lt=ve.childNodes.length-1;Lt>=0;Lt--)kt(C,N,P,j,ne,ve.childNodes[Lt],Pe);if(ve.shadowRoot)for(Lt=ve.shadowRoot.childNodes.length-1;Lt>=0;Lt--)kt(C,N,P,j,ne,ve.shadowRoot.childNodes[Lt],Pe)}else if(8===ve.nodeType)We=ve.nodeValue.split("."),(We[1]===Pe||"0"===We[1])&&(Ze=We[0],ht={$flags$:0,$hostId$:We[1],$nodeId$:We[2],$depth$:We[3],$index$:We[4],$elm$:ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ze?(ht.$elm$=ve.nextSibling,ht.$elm$&&3===ht.$elm$.nodeType&&(ht.$text$=ht.$elm$.textContent,N.push(ht),ve.remove(),C.$children$||(C.$children$=[]),C.$children$[ht.$index$]=ht,j&&"0"===ht.$depth$&&(j[ht.$index$]=ht.$elm$))):ht.$hostId$===Pe&&("s"===Ze?(ht.$tag$="slot",ve["s-sn"]=We[5]?ht.$name$=We[5]:"",ve["s-sr"]=!0,j&&(ht.$elm$=ce.createElement(ht.$tag$),ht.$name$&&ht.$elm$.setAttribute("name",ht.$name$),ve.parentNode.insertBefore(ht.$elm$,ve),ve.remove(),"0"===ht.$depth$&&(j[ht.$index$]=ht.$elm$)),P.push(ht),C.$children$||(C.$children$=[]),C.$children$[ht.$index$]=ht):"r"===Ze&&(j?ve.remove():(ne["s-cr"]=ve,ve["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const Kt=En(null,ve.textContent);Kt.$elm$=ve,Kt.$index$="0",C.$children$=[Kt]}},Xt=(C,N)=>{if(1===C.nodeType){let P=0;for(;P<C.childNodes.length;P++)Xt(C.childNodes[P],N);if(C.shadowRoot)for(P=0;P<C.shadowRoot.childNodes.length;P++)Xt(C.shadowRoot.childNodes[P],N)}else if(8===C.nodeType){const P=C.nodeValue.split(".");"o"===P[0]&&(N.set(P[1]+"."+P[2],C),C.nodeValue="",C["s-en"]=P[3])}},qn=(C,N,P)=>{if(N.$members$){C.watchers&&(N.$watchers$=C.watchers);const j=Object.entries(N.$members$),ne=C.prototype;if(j.map(([ve,[Pe]])=>{31&Pe||2&P&&32&Pe?Object.defineProperty(ne,ve,{get(){return((C,N)=>xr(this).$instanceValues$.get(N))(0,ve)},set(Ze){((C,N,P,j)=>{const ne=xr(C),ve=ne.$hostElement$,Pe=ne.$instanceValues$.get(N),Ze=ne.$flags$,We=ne.$lazyInstance$;if(P=((C,N)=>null==C||wn(C)?C:4&N?"false"!==C&&(""===C||!!C):2&N?parseFloat(C):1&N?String(C):C)(P,j.$members$[N][0]),(!(8&Ze)||void 0===Pe)&&P!==Pe&&(ne.$instanceValues$.set(N,P),We)){if(j.$watchers$&&128&Ze){const ht=j.$watchers$[N];ht&&ht.map(Lt=>{try{We[Lt](P,Pe,N)}catch(Kt){Mn(Kt,ve)}})}2==(18&Ze)&&on(ne,!1)}})(this,ve,Ze,N)},configurable:!0,enumerable:!0}):1&P&&64&Pe&&Object.defineProperty(ne,ve,{value(...Ze){const We=xr(this);return We.$onInstancePromise$.then(()=>We.$lazyInstance$[ve](...Ze))}})}),1&P){const ve=new Map;ne.attributeChangedCallback=function(Pe,Ze,We){ie.jmp(()=>{const ht=ve.get(Pe);if(this.hasOwnProperty(ht))We=this[ht],delete this[ht];else if(ne.hasOwnProperty(ht)&&"number"==typeof this[ht]&&this[ht]==We)return;this[ht]=(null!==We||"boolean"!=typeof this[ht])&&We})},C.observedAttributes=j.filter(([Pe,Ze])=>15&Ze[0]).map(([Pe,Ze])=>{const We=Ze[1]||Pe;return ve.set(We,Pe),512&Ze[0]&&N.$attrsToReflect$.push([Pe,We]),We})}}return C},fn=function(){var C=(0,u.Z)(function*(N,P,j,ne,ve){if(0==(32&P.$flags$)){{if(P.$flags$|=32,(ve=Vr(j)).then){const ht=()=>{};ve=yield ve,ht()}ve.isProxied||(j.$watchers$=ve.watchers,qn(ve,j,2),ve.isProxied=!0);const We=()=>{};P.$flags$|=8;try{new ve(P)}catch(ht){Mn(ht)}P.$flags$&=-9,P.$flags$|=128,We(),ur(P.$lazyInstance$)}if(ve.style){let We=ve.style;"string"!=typeof We&&(We=We[P.$modeName$=(C=>Jr.map(N=>N(C)).find(N=>!!N))(N)]);const ht=rt(j,P.$modeName$);if(!Zr.has(ht)){const Lt=()=>{};zt(ht,We,!!(1&j.$flags$)),Lt()}}}const Pe=P.$ancestorComponent$,Ze=()=>on(P,!0);Pe&&Pe["s-rc"]?Pe["s-rc"].push(Ze):Ze()});return function(P,j,ne,ve,Pe){return C.apply(this,arguments)}}(),ur=C=>{Qn(C,"connectedCallback")},bn=C=>{const N=C["s-cr"]=ce.createComment("");N["s-cn"]=!0,C.insertBefore(N,C.firstChild)},Hr=(C,N={})=>{const j=[],ne=N.exclude||[],ve=re.customElements,Pe=ce.head,Ze=Pe.querySelector("meta[charset]"),We=ce.createElement("style"),ht=[],Lt=ce.querySelectorAll(`[${Ve}]`);let Kt,hn=!0,Sn=0;for(Object.assign(ie,N),ie.$resourcesUrl$=new URL(N.resourcesUrl||"./",ce.baseURI).href,ie.$flags$|=2;Sn<Lt.length;Sn++)zt(Lt[Sn].getAttribute(Ve),ot(Lt[Sn].innerHTML),!0);C.map(Mr=>{Mr[1].map(Er=>{const si={$flags$:Er[0],$tagName$:Er[1],$members$:Er[2],$listeners$:Er[3]};si.$members$=Er[2],si.$listeners$=Er[3],si.$attrsToReflect$=[],si.$watchers$={};const $i=si.$tagName$,gs=class extends HTMLElement{constructor(as){super(as),Kr(as=this,si),1&si.$flags$&&as.attachShadow({mode:"open",delegatesFocus:!!(16&si.$flags$)})}connectedCallback(){Kt&&(clearTimeout(Kt),Kt=null),hn?ht.push(this):ie.jmp(()=>(C=>{if(0==(1&ie.$flags$)){const N=xr(C),P=N.$cmpMeta$,j=()=>{};if(1&N.$flags$)we(C,N,P.$listeners$),ur(N.$lazyInstance$);else{let ne;if(N.$flags$|=1,ne=C.getAttribute(Tt),ne){if(1&P.$flags$){const ve=bt(C.shadowRoot,P,C.getAttribute("s-mode"));C.classList.remove(ve+"-h",ve+"-s")}((C,N,P,j)=>{const ve=C.shadowRoot,Pe=[],We=ve?[]:null,ht=j.$vnode$=En(N,null);ie.$orgLocNodes$||Xt(ce.body,ie.$orgLocNodes$=new Map),C[Tt]=P,C.removeAttribute(Tt),kt(ht,Pe,[],We,C,C,P),Pe.map(Lt=>{const Kt=Lt.$hostId$+"."+Lt.$nodeId$,hn=ie.$orgLocNodes$.get(Kt),Sn=Lt.$elm$;hn&&""===hn["s-en"]&&hn.parentNode.insertBefore(Sn,hn.nextSibling),ve||(Sn["s-hn"]=N,hn&&(Sn["s-ol"]=hn,Sn["s-ol"]["s-nr"]=Sn)),ie.$orgLocNodes$.delete(Kt)}),ve&&We.map(Lt=>{Lt&&ve.appendChild(Lt)})})(C,P.$tagName$,ne,N)}ne||12&P.$flags$&&bn(C);{let ve=C;for(;ve=ve.parentNode||ve.host;)if(1===ve.nodeType&&ve.hasAttribute("s-id")&&ve["s-p"]||ve["s-p"]){dt(N,N.$ancestorComponent$=ve);break}}P.$members$&&Object.entries(P.$members$).map(([ve,[Pe]])=>{if(31&Pe&&C.hasOwnProperty(ve)){const Ze=C[ve];delete C[ve],C[ve]=Ze}}),Ii(()=>fn(C,N,P))}j()}})(this))}disconnectedCallback(){ie.jmp(()=>(C=>{if(0==(1&ie.$flags$)){const N=xr(this),P=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(j=>j()),N.$rmListeners$=void 0),Qn(P,"disconnectedCallback")}})())}componentOnReady(){return xr(this).$onReadyPromise$}};si.$lazyBundleId$=Mr[0],!ne.includes($i)&&!ve.get($i)&&(j.push($i),ve.define($i,qn(gs,si,1)))})}),We.innerHTML=j+"{visibility:hidden}.hydrated{visibility:inherit}",We.setAttribute("data-styles",""),Pe.insertBefore(We,Ze?Ze.nextSibling:Pe.firstChild),hn=!1,ht.length?ht.map(Mr=>Mr.connectedCallback()):ie.jmp(()=>Kt=setTimeout(vn,30))},Ur=C=>{const N=new URL(C,ie.$resourcesUrl$);return N.origin!==re.location.origin?N.href:N.pathname},tr=new WeakMap,xr=C=>tr.get(C),jn=(C,N)=>tr.set(N.$lazyInstance$=C,N),Kr=(C,N)=>{const P={$flags$:0,$hostElement$:C,$cmpMeta$:N,$instanceValues$:new Map};return P.$onInstancePromise$=new Promise(j=>P.$onInstanceResolve$=j),P.$onReadyPromise$=new Promise(j=>P.$onReadyResolve$=j),C["s-p"]=[],C["s-rc"]=[],we(C,P,N.$listeners$),tr.set(C,P)},Lr=(C,N)=>N in C,Mn=(C,N)=>(0,console.error)(C,N),qr=new Map,Vr=(C,N,P)=>{const j=C.$tagName$.replace(/-/g,"_"),ne=C.$lazyBundleId$,ve=qr.get(ne);return ve?ve[j]:H(863)(`./${ne}.entry.js`).then(Pe=>(qr.set(ne,Pe),Pe[j]),Mn)},Zr=new Map,Jr=[],vr=[],vi=[],gi=(C,N)=>P=>{C.push(P),te||(te=!0,N&&4&ie.$flags$?Ii(dr):ie.raf(dr))},Qr=C=>{for(let N=0;N<C.length;N++)try{C[N](performance.now())}catch(P){Mn(P)}C.length=0},dr=()=>{Qr(vr),Qr(vi),(te=vr.length>0)&&ie.raf(dr)},Ii=C=>Te().then(C),ci=gi(vr,!1),be=gi(vi,!0),Ke={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},8751:(Gt,at,H)=>{"use strict";H.r(at),H.d(at,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>me});var u=H(5048);const $=(ie,$e,Xe,Te)=>{const Re=q(ie)?{capture:!!Te.capture,passive:!!Te.passive}:!!Te.capture;let we,Be;return ie.__zone_symbol__addEventListener?(we="__zone_symbol__addEventListener",Be="__zone_symbol__removeEventListener"):(we="addEventListener",Be="removeEventListener"),ie[we]($e,Xe,Re),()=>{ie[Be]($e,Xe,Re)}},q=ie=>{if(void 0===Me)try{const $e=Object.defineProperty({},"passive",{get:()=>{Me=!0}});ie.addEventListener("optsTest",()=>{},$e)}catch($e){Me=!1}return!!Me};let Me;const he=ie=>ie instanceof Document?ie:ie.ownerDocument,me=ie=>{let $e=!1,Xe=!1,Te=!0,Re=!1;const we=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ie),Be=we.canStart,qe=we.onWillStart,De=we.onStart,ke=we.onEnd,Ye=we.notCaptured,Et=we.onMove,Ue=we.threshold,Tt=we.passive,Ve=we.blurOnStart,je={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Le=((ie,$e,Xe)=>{const Te=Xe*(Math.PI/180),Re="x"===ie,we=Math.cos(Te),Be=$e*$e;let qe=0,De=0,ke=!1,Ye=0;return{start(Et,Ue){qe=Et,De=Ue,Ye=0,ke=!0},detect(Et,Ue){if(!ke)return!1;const Tt=Et-qe,Ve=Ue-De,je=Tt*Tt+Ve*Ve;if(je<Be)return!1;const Le=Math.sqrt(je),Fe=(Re?Tt:Ve)/Le;return Ye=Fe>we?1:Fe<-we?-1:0,ke=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(we.direction,we.threshold,we.maxAngle),Fe=u.G.createGesture({name:ie.gestureName,priority:ie.gesturePriority,disableScroll:ie.disableScroll}),Ut=()=>{!$e||(Re=!1,Et&&Et(je))},zt=()=>!(Fe&&!Fe.capture()||($e=!0,Te=!1,je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime,qe?qe(je).then(ft):ft(),0)),ft=()=>{Ve&&(()=>{if("undefined"!=typeof document){const gt=document.activeElement;null!==gt&&gt.blur&&gt.blur()}})(),De&&De(je),Te=!0},rt=()=>{$e=!1,Xe=!1,Re=!1,Te=!0,Fe.release()},ot=gt=>{const pt=$e,_t=Te;if(rt(),_t){if(te(je,gt),pt)return void(ke&&ke(je));Ye&&Ye(je)}},ct=((ie,$e,Xe,Te,Re)=>{let we,Be,qe,De,ke,Ye,Et,Ue=0;const Tt=bt=>{Ue=Date.now()+2e3,$e(bt)&&(!Be&&Xe&&(Be=$(ie,"touchmove",Xe,Re)),qe||(qe=$(bt.target,"touchend",je,Re)),De||(De=$(bt.target,"touchcancel",je,Re)))},Ve=bt=>{Ue>Date.now()||!$e(bt)||(!Ye&&Xe&&(Ye=$(he(ie),"mousemove",Xe,Re)),Et||(Et=$(he(ie),"mouseup",Le,Re)))},je=bt=>{Fe(),Te&&Te(bt)},Le=bt=>{Ae(),Te&&Te(bt)},Fe=()=>{Be&&Be(),qe&&qe(),De&&De(),Be=qe=De=void 0},Ae=()=>{Ye&&Ye(),Et&&Et(),Ye=Et=void 0},et=()=>{Fe(),Ae()},Ut=(bt=!0)=>{bt?(we||(we=$(ie,"touchstart",Tt,Re)),ke||(ke=$(ie,"mousedown",Ve,Re))):(we&&we(),ke&&ke(),we=ke=void 0,et())};return{enable:Ut,stop:et,destroy:()=>{Ut(!1),Te=Xe=$e=void 0}}})(we.el,gt=>{const pt=ce(gt);return!(Xe||!Te||(re(gt,je),je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime=pt,je.velocityX=je.velocityY=je.deltaX=je.deltaY=0,je.event=gt,Be&&!1===Be(je))||(Fe.release(),!Fe.start()))&&(Xe=!0,0===Ue?zt():(Le.start(je.startX,je.startY),!0))},gt=>{$e?!Re&&Te&&(Re=!0,te(je,gt),requestAnimationFrame(Ut)):(te(je,gt),Le.detect(je.currentX,je.currentY)&&(!Le.isGesture()||!zt())&&yt())},ot,{capture:!1,passive:Tt}),yt=()=>{rt(),ct.stop(),Ye&&Ye(je)};return{enable(gt=!0){gt||($e&&ot(void 0),rt()),ct.enable(gt)},destroy(){Fe.destroy(),ct.destroy()}}},te=(ie,$e)=>{if(!$e)return;const Xe=ie.currentX,Te=ie.currentY,Re=ie.currentTime;re($e,ie);const we=ie.currentX,Be=ie.currentY,De=(ie.currentTime=ce($e))-Re;if(De>0&&De<100){const Ye=(Be-Te)/De;ie.velocityX=(we-Xe)/De*.7+.3*ie.velocityX,ie.velocityY=.7*Ye+.3*ie.velocityY}ie.deltaX=we-ie.startX,ie.deltaY=Be-ie.startY,ie.event=$e},re=(ie,$e)=>{let Xe=0,Te=0;if(ie){const Re=ie.changedTouches;if(Re&&Re.length>0){const we=Re[0];Xe=we.clientX,Te=we.clientY}else void 0!==ie.pageX&&(Xe=ie.pageX,Te=ie.pageY)}$e.currentX=Xe,$e.currentY=Te},ce=ie=>ie.timeStamp||Date.now()},9313:(Gt,at,H)=>{"use strict";H.d(at,{L:()=>Me,a:()=>ye,b:()=>de,c:()=>he,d:()=>J,e:()=>Ue,g:()=>je,l:()=>Ye,s:()=>Tt,t:()=>re});var u=H(8239),$=H(7629),q=H(7015);const Me="ionViewWillEnter",ye="ionViewDidEnter",de="ionViewWillLeave",he="ionViewDidLeave",J="ionViewWillUnload",re=Le=>new Promise((Fe,Ae)=>{(0,$.c)(()=>{ce(Le),ie(Le).then(et=>{et.animation&&et.animation.destroy(),$e(Le),Fe(et)},et=>{$e(Le),Ae(et)})})}),ce=Le=>{const Fe=Le.enteringEl,Ae=Le.leavingEl;Ve(Fe,Ae,Le.direction),Le.showGoBack?Fe.classList.add("can-go-back"):Fe.classList.remove("can-go-back"),Tt(Fe,!1),Fe.style.setProperty("pointer-events","none"),Ae&&(Tt(Ae,!1),Ae.style.setProperty("pointer-events","none"))},ie=function(){var Le=(0,u.Z)(function*(Fe){const Ae=yield Xe(Fe);return Ae&&$.B.isBrowser?Te(Ae,Fe):Re(Fe)});return function(Ae){return Le.apply(this,arguments)}}(),$e=Le=>{const Fe=Le.enteringEl,Ae=Le.leavingEl;Fe.classList.remove("ion-page-invisible"),Fe.style.removeProperty("pointer-events"),void 0!==Ae&&(Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"))},Xe=function(){var Le=(0,u.Z)(function*(Fe){return Fe.leavingEl&&Fe.animated&&0!==Fe.duration?Fe.animationBuilder?Fe.animationBuilder:"ios"===Fe.mode?(yield Promise.resolve().then(H.bind(H,665))).iosTransitionAnimation:(yield Promise.resolve().then(H.bind(H,8006))).mdTransitionAnimation:void 0});return function(Ae){return Le.apply(this,arguments)}}(),Te=function(){var Le=(0,u.Z)(function*(Fe,Ae){yield we(Ae,!0);const et=Fe(Ae.baseEl,Ae);De(Ae.enteringEl,Ae.leavingEl);const Ut=yield qe(et,Ae);return Ae.progressCallback&&Ae.progressCallback(void 0),Ut&&ke(Ae.enteringEl,Ae.leavingEl),{hasCompleted:Ut,animation:et}});return function(Ae,et){return Le.apply(this,arguments)}}(),Re=function(){var Le=(0,u.Z)(function*(Fe){const Ae=Fe.enteringEl,et=Fe.leavingEl;return yield we(Fe,!1),De(Ae,et),ke(Ae,et),{hasCompleted:!0}});return function(Ae){return Le.apply(this,arguments)}}(),we=function(){var Le=(0,u.Z)(function*(Fe,Ae){const Ut=(void 0!==Fe.deepWait?Fe.deepWait:Ae)?[Ue(Fe.enteringEl),Ue(Fe.leavingEl)]:[Et(Fe.enteringEl),Et(Fe.leavingEl)];yield Promise.all(Ut),yield Be(Fe.viewIsReady,Fe.enteringEl)});return function(Ae,et){return Le.apply(this,arguments)}}(),Be=function(){var Le=(0,u.Z)(function*(Fe,Ae){Fe&&(yield Fe(Ae))});return function(Ae,et){return Le.apply(this,arguments)}}(),qe=(Le,Fe)=>{const Ae=Fe.progressCallback,et=new Promise(Ut=>{Le.onFinish(zt=>Ut(1===zt))});return Ae?(Le.progressStart(!0),Ae(Le)):Le.play(),et},De=(Le,Fe)=>{Ye(Fe,de),Ye(Le,Me)},ke=(Le,Fe)=>{Ye(Le,ye),Ye(Fe,he)},Ye=(Le,Fe)=>{if(Le){const Ae=new CustomEvent(Fe,{bubbles:!1,cancelable:!1});Le.dispatchEvent(Ae)}},Et=Le=>Le?new Promise(Fe=>(0,q.c)(Le,Fe)):Promise.resolve(),Ue=function(){var Le=(0,u.Z)(function*(Fe){const Ae=Fe;if(Ae){if(null!=Ae.componentOnReady){if(null!=(yield Ae.componentOnReady()))return}else if(null!=Ae.__registerHost)return void(yield new Promise(Ut=>(0,q.r)(Ut)));yield Promise.all(Array.from(Ae.children).map(Ue))}});return function(Ae){return Le.apply(this,arguments)}}(),Tt=(Le,Fe)=>{Fe?(Le.setAttribute("aria-hidden","true"),Le.classList.add("ion-page-hidden")):(Le.hidden=!1,Le.removeAttribute("aria-hidden"),Le.classList.remove("ion-page-hidden"))},Ve=(Le,Fe,Ae)=>{void 0!==Le&&(Le.style.zIndex="back"===Ae?"99":"101"),void 0!==Fe&&(Fe.style.zIndex="100")},je=Le=>Le.classList.contains("ion-page")?Le:Le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Le},248:(Gt,at,H)=>{"use strict";H.d(at,{m:()=>re});var u=H(8239),$=H(9081),q=H(7015),Me=H(6897),ye=H(7996);const de=ce=>(0,ye.c)().duration(ce?400:300),he=ce=>{let ie,$e;const Xe=ce.width+8,Te=(0,ye.c)(),Re=(0,ye.c)();ce.isEndSide?(ie=Xe+"px",$e="0px"):(ie=-Xe+"px",$e="0px"),Te.addElement(ce.menuInnerEl).fromTo("transform",`translateX(${ie})`,`translateX(${$e})`);const Be="ios"===(0,Me.b)(ce),qe=Be?.2:.25;return Re.addElement(ce.backdropEl).fromTo("opacity",.01,qe),de(Be).addAnimation([Te,Re])},J=ce=>{let ie,$e;const Xe=(0,Me.b)(ce),Te=ce.width;ce.isEndSide?(ie=-Te+"px",$e=Te+"px"):(ie=Te+"px",$e=-Te+"px");const Re=(0,ye.c)().addElement(ce.menuInnerEl).fromTo("transform",`translateX(${$e})`,"translateX(0px)"),we=(0,ye.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${ie})`),Be=(0,ye.c)().addElement(ce.backdropEl).fromTo("opacity",.01,.32);return de("ios"===Xe).addAnimation([Re,we,Be])},me=ce=>{const ie=(0,Me.b)(ce),$e=ce.width*(ce.isEndSide?-1:1)+"px",Xe=(0,ye.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${$e})`);return de("ios"===ie).addAnimation(Xe)},re=(()=>{const ce=new Map,ie=[],$e=function(){var ft=(0,u.Z)(function*(rt){const ot=yield De(rt);return!!ot&&ot.open()});return function(ot){return ft.apply(this,arguments)}}(),Xe=function(){var ft=(0,u.Z)(function*(rt){const ot=yield void 0!==rt?De(rt):ke();return void 0!==ot&&ot.close()});return function(ot){return ft.apply(this,arguments)}}(),Te=function(){var ft=(0,u.Z)(function*(rt){const ot=yield De(rt);return!!ot&&ot.toggle()});return function(ot){return ft.apply(this,arguments)}}(),Re=function(){var ft=(0,u.Z)(function*(rt,ot){const ct=yield De(ot);return ct&&(ct.disabled=!rt),ct});return function(ot,ct){return ft.apply(this,arguments)}}(),we=function(){var ft=(0,u.Z)(function*(rt,ot){const ct=yield De(ot);return ct&&(ct.swipeGesture=rt),ct});return function(ot,ct){return ft.apply(this,arguments)}}(),Be=function(){var ft=(0,u.Z)(function*(rt){if(null!=rt){const ot=yield De(rt);return void 0!==ot&&ot.isOpen()}return void 0!==(yield ke())});return function(ot){return ft.apply(this,arguments)}}(),qe=function(){var ft=(0,u.Z)(function*(rt){const ot=yield De(rt);return!!ot&&!ot.disabled});return function(ot){return ft.apply(this,arguments)}}(),De=function(){var ft=(0,u.Z)(function*(rt){return yield bt(),"start"===rt||"end"===rt?zt(yt=>yt.side===rt&&!yt.disabled)||zt(yt=>yt.side===rt):null!=rt?zt(ct=>ct.menuId===rt):zt(ct=>!ct.disabled)||(ie.length>0?ie[0].el:void 0)});return function(ot){return ft.apply(this,arguments)}}(),ke=function(){var ft=(0,u.Z)(function*(){return yield bt(),Ae()});return function(){return ft.apply(this,arguments)}}(),Ye=function(){var ft=(0,u.Z)(function*(){return yield bt(),et()});return function(){return ft.apply(this,arguments)}}(),Et=function(){var ft=(0,u.Z)(function*(){return yield bt(),Ut()});return function(){return ft.apply(this,arguments)}}(),Ue=(ft,rt)=>{ce.set(ft,rt)},je=ft=>{const rt=ft.side;ie.filter(ot=>ot.side===rt&&ot!==ft).forEach(ot=>ot.disabled=!0)},Le=function(){var ft=(0,u.Z)(function*(rt,ot,ct){if(Ut())return!1;if(ot){const yt=yield ke();yt&&rt.el!==yt&&(yield yt.setOpen(!1,!1))}return rt._setOpen(ot,ct)});return function(ot,ct,yt){return ft.apply(this,arguments)}}(),Ae=()=>zt(ft=>ft._isOpen),et=()=>ie.map(ft=>ft.el),Ut=()=>ie.some(ft=>ft.isAnimating),zt=ft=>{const rt=ie.find(ft);if(void 0!==rt)return rt.el},bt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ft=>new Promise(rt=>(0,q.c)(ft,rt))));return Ue("reveal",me),Ue("push",J),Ue("overlay",he),"undefined"!=typeof document&&document.addEventListener("ionBackButton",ft=>{const rt=Ae();rt&&ft.detail.register($.MENU_BACK_BUTTON_PRIORITY,()=>rt.close())}),{registerAnimation:Ue,get:De,getMenus:Ye,getOpen:ke,isEnabled:qe,swipeGesture:we,isAnimating:Et,isOpen:Be,enable:Re,toggle:Te,close:Xe,open:$e,_getOpenSync:Ae,_createAnimation:(ft,rt)=>{const ot=ce.get(ft);if(!ot)throw new Error("animation not registered");return ot(rt)},_register:ft=>{ie.indexOf(ft)<0&&(ft.disabled||je(ft),ie.push(ft))},_unregister:ft=>{const rt=ie.indexOf(ft);rt>-1&&ie.splice(rt,1)},_setOpen:Le,_setActiveMenu:je}})()},6897:(Gt,at,H)=>{"use strict";H.d(at,{a:()=>re,b:()=>Ut,c:()=>q,g:()=>te,i:()=>zt});var u=H(7629);class ${constructor(){this.m=new Map}reset(ft){this.m=new Map(Object.entries(ft))}get(ft,rt){const ot=this.m.get(ft);return void 0!==ot?ot:rt}getBoolean(ft,rt=!1){const ot=this.m.get(ft);return void 0===ot?rt:"string"==typeof ot?"true"===ot:!!ot}getNumber(ft,rt){const ot=parseFloat(this.m.get(ft));return isNaN(ot)?void 0!==rt?rt:NaN:ot}set(ft,rt){this.m.set(ft,rt)}}const q=new $,J="ionic:",me="ionic-persist-config",te=bt=>ce(bt),re=(bt,ft)=>("string"==typeof bt&&(ft=bt,bt=void 0),te(bt).includes(ft)),ce=(bt=window)=>{if(void 0===bt)return[];bt.Ionic=bt.Ionic||{};let ft=bt.Ionic.platforms;return null==ft&&(ft=bt.Ionic.platforms=ie(bt),ft.forEach(rt=>bt.document.documentElement.classList.add(`plt-${rt}`))),ft},ie=bt=>{const ft=q.get("platform");return Object.keys(Ae).filter(rt=>{const ot=ft&&ft[rt];return"function"==typeof ot?ot(bt):Ae[rt](bt)})},Xe=bt=>!!(Le(bt,/iPad/i)||Le(bt,/Macintosh/i)&&ke(bt)),we=bt=>Le(bt,/android|sink/i),ke=bt=>Fe(bt,"(any-pointer:coarse)"),Et=bt=>Ue(bt)||Tt(bt),Ue=bt=>!!(bt.cordova||bt.phonegap||bt.PhoneGap),Tt=bt=>{const ft=bt.Capacitor;return!(!ft||!ft.isNative)},Le=(bt,ft)=>ft.test(bt.navigator.userAgent),Fe=(bt,ft)=>bt.matchMedia&&bt.matchMedia(ft).matches,Ae={ipad:Xe,iphone:bt=>Le(bt,/iPhone/i),ios:bt=>Le(bt,/iPhone|iPod/i)||Xe(bt),android:we,phablet:bt=>{const ft=bt.innerWidth,rt=bt.innerHeight,ot=Math.min(ft,rt),ct=Math.max(ft,rt);return ot>390&&ot<520&&ct>620&&ct<800},tablet:bt=>{const ft=bt.innerWidth,rt=bt.innerHeight,ot=Math.min(ft,rt),ct=Math.max(ft,rt);return Xe(bt)||(bt=>we(bt)&&!Le(bt,/mobile/i))(bt)||ot>460&&ot<820&&ct>780&&ct<1400},cordova:Ue,capacitor:Tt,electron:bt=>Le(bt,/electron/i),pwa:bt=>!!(bt.matchMedia&&bt.matchMedia("(display-mode: standalone)").matches||bt.navigator.standalone),mobile:ke,mobileweb:bt=>ke(bt)&&!Et(bt),desktop:bt=>!ke(bt),hybrid:Et};let et;const Ut=bt=>bt&&(0,u.g)(bt)||et,zt=(bt={})=>{if("undefined"==typeof window)return;const ft=window.document,rt=window,ot=rt.Ionic=rt.Ionic||{},ct={};bt._ael&&(ct.ael=bt._ael),bt._rel&&(ct.rel=bt._rel),bt._ce&&(ct.ce=bt._ce),(0,u.s)(ct);const yt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(bt=>{try{const ft=bt.sessionStorage.getItem(me);return null!==ft?JSON.parse(ft):{}}catch(ft){return{}}})(rt)),{persistConfig:!1}),ot.config),(bt=>{const ft={};return bt.location.search.slice(1).split("&").map(rt=>rt.split("=")).map(([rt,ot])=>[decodeURIComponent(rt),decodeURIComponent(ot)]).filter(([rt])=>((bt,ft)=>bt.substr(0,ft.length)===ft)(rt,J)).map(([rt,ot])=>[rt.slice(J.length),ot]).forEach(([rt,ot])=>{ft[rt]=ot}),ft})(rt)),bt);q.reset(yt),q.getBoolean("persistConfig")&&((bt,ft)=>{try{bt.sessionStorage.setItem(me,JSON.stringify(ft))}catch(rt){return}})(rt,yt),ce(rt),ot.config=q,ot.mode=et=q.get("mode",ft.documentElement.getAttribute("mode")||(re(rt,"ios")?"ios":"md")),q.set("mode",et),ft.documentElement.setAttribute("mode",et),ft.documentElement.classList.add(et),q.getBoolean("_testing")&&q.set("animated",!1);const gt=_t=>_t.tagName&&_t.tagName.startsWith("ION-"),pt=_t=>["ios","md"].includes(_t);(0,u.a)(_t=>{for(;_t;){const tn=_t.mode||_t.getAttribute("mode");if(tn){if(pt(tn))return tn;gt(_t)&&console.warn('Invalid ionic mode: "'+tn+'", expected: "ios" or "md"')}_t=_t.parentElement}return et})}},665:(Gt,at,H)=>{"use strict";H.r(at),H.d(at,{iosTransitionAnimation:()=>ce,shadow:()=>de});var u=H(7996),$=H(9313);H(7629);const ye=ie=>document.querySelector(`${ie}.ion-cloned-element`),de=ie=>ie.shadowRoot||ie,he=ie=>{const $e="ION-TABS"===ie.tagName?ie:ie.querySelector("ion-tabs"),Xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=$e){const Te=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Te?Te.querySelector(Xe):null}return ie.querySelector(Xe)},J=(ie,$e)=>{const Xe="ION-TABS"===ie.tagName?ie:ie.querySelector("ion-tabs");let Te=[];if(null!=Xe){const Re=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Re&&(Te=Re.querySelectorAll("ion-buttons"))}else Te=ie.querySelectorAll("ion-buttons");for(const Re of Te){const we=Re.closest("ion-header"),Be=we&&!we.classList.contains("header-collapse-condense-inactive"),qe=Re.querySelector("ion-back-button"),De=Re.classList.contains("buttons-collapse"),ke="start"===Re.slot||""===Re.slot;if(null!==qe&&ke&&(De&&Be&&$e||!De))return qe}return null},te=(ie,$e,Xe,Te,Re,we)=>{const Be=$e?`calc(100% - ${we.right+4}px)`:we.left-4+"px",qe=$e?"7px":"-7px",De=$e?"-4px":"4px",ke=$e?"-4px":"4px",Ye=$e?"right":"left",Et=$e?"left":"right",Ve=Xe?[{offset:0,opacity:1,transform:`translate3d(${De}, ${we.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qe}, ${Re.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${qe}, ${Re.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${De}, ${we.top-46}px, 0) scale(1)`}],Fe=Xe?[{offset:0,opacity:1,transform:`translate3d(${ke}, ${we.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ke}, ${we.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ke}, ${we.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ke}, ${we.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ke}, ${we.top-46}px, 0) scale(1)`}],Ae=(0,u.c)(),et=(0,u.c)(),Ut=ye("ion-back-button"),zt=de(Ut).querySelector(".button-text"),bt=de(Ut).querySelector("ion-icon");Ut.text=Te.text,Ut.mode=Te.mode,Ut.icon=Te.icon,Ut.color=Te.color,Ut.disabled=Te.disabled,Ut.style.setProperty("display","block"),Ut.style.setProperty("position","fixed"),et.addElement(bt),Ae.addElement(zt),Ae.beforeStyles({"transform-origin":`${Ye} center`}).beforeAddWrite(()=>{Te.style.setProperty("display","none"),Ut.style.setProperty(Ye,Be)}).afterAddWrite(()=>{Te.style.setProperty("display",""),Ut.style.setProperty("display","none"),Ut.style.removeProperty(Ye)}).keyframes(Ve),et.beforeStyles({"transform-origin":`${Et} center`}).keyframes(Fe),ie.addAnimation([Ae,et])},re=(ie,$e,Xe,Te,Re,we)=>{const Be=$e?`calc(100% - ${Re.right}px)`:`${Re.left}px`,qe=$e?"-18px":"18px",De=$e?"right":"left",Et=Xe?[{offset:0,opacity:0,transform:`translate3d(${qe}, ${we.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Re.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Re.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qe}, ${we.top-4}px, 0) scale(0.5)`}],Ue=ye("ion-title"),Tt=(0,u.c)();Ue.innerText=Te.innerText,Ue.size=Te.size,Ue.color=Te.color,Tt.addElement(Ue),Tt.beforeStyles({"transform-origin":`${De} center`,height:"46px",display:"",position:"relative",[De]:Be}).beforeAddWrite(()=>{Te.style.setProperty("display","none")}).afterAddWrite(()=>{Te.style.setProperty("display",""),Ue.style.setProperty("display","none")}).keyframes(Et),ie.addAnimation(Tt)},ce=(ie,$e)=>{try{const Xe="cubic-bezier(0.32,0.72,0,1)",Te="opacity",Re="transform",we="0%",Be=.8,qe="rtl"===ie.ownerDocument.dir,De=qe?"-99.5%":"99.5%",ke=qe?"33%":"-33%",Ye=$e.enteringEl,Et=$e.leavingEl,Ue="back"===$e.direction,Tt=Ye.querySelector(":scope > ion-content"),Ve=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),je=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),Le=(0,u.c)(),Fe=(0,u.c)();if(Le.addElement(Ye).duration($e.duration||540).easing($e.easing||Xe).fill("both").beforeRemoveClass("ion-page-invisible"),Et&&ie){const zt=(0,u.c)();zt.addElement(ie),Le.addAnimation(zt)}if(Tt||0!==je.length||0!==Ve.length?(Fe.addElement(Tt),Fe.addElement(Ve)):Fe.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Le.addAnimation(Fe),Ue?Fe.beforeClearStyles([Te]).fromTo("transform",`translateX(${ke})`,`translateX(${we})`).fromTo(Te,Be,1):Fe.beforeClearStyles([Te]).fromTo("transform",`translateX(${De})`,`translateX(${we})`),Tt){const zt=de(Tt).querySelector(".transition-effect");if(zt){const bt=zt.querySelector(".transition-cover"),ft=zt.querySelector(".transition-shadow"),rt=(0,u.c)(),ot=(0,u.c)(),ct=(0,u.c)();rt.addElement(zt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(bt).beforeClearStyles([Te]).fromTo(Te,0,.1),ct.addElement(ft).beforeClearStyles([Te]).fromTo(Te,.03,.7),rt.addAnimation([ot,ct]),Fe.addAnimation([rt])}}const Ae=Ye.querySelector("ion-header.header-collapse-condense"),{forward:et,backward:Ut}=((ie,$e,Xe,Te,Re)=>{const we=J(Te,Xe),Be=he(Re),qe=he(Te),De=J(Re,Xe),ke=null!==we&&null!==Be&&!Xe,Ye=null!==qe&&null!==De&&Xe;if(ke){const Et=Be.getBoundingClientRect(),Ue=we.getBoundingClientRect();re(ie,$e,Xe,Be,Et,Ue),te(ie,$e,Xe,we,Et,Ue)}else if(Ye){const Et=qe.getBoundingClientRect(),Ue=De.getBoundingClientRect();re(ie,$e,Xe,qe,Et,Ue),te(ie,$e,Xe,De,Et,Ue)}return{forward:ke,backward:Ye}})(Le,qe,Ue,Ye,Et);if(je.forEach(zt=>{const bt=(0,u.c)();bt.addElement(zt),Le.addAnimation(bt);const ft=(0,u.c)();ft.addElement(zt.querySelector("ion-title"));const rt=(0,u.c)(),ot=Array.from(zt.querySelectorAll("ion-buttons,[menuToggle]")),ct=zt.closest("ion-header"),yt=ct&&ct.classList.contains("header-collapse-condense-inactive");let gt;gt=ot.filter(Ue?wn=>{const un=wn.classList.contains("buttons-collapse");return un&&!yt||!un}:wn=>!wn.classList.contains("buttons-collapse")),rt.addElement(gt);const pt=(0,u.c)();pt.addElement(zt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const _t=(0,u.c)();_t.addElement(de(zt).querySelector(".toolbar-background"));const tn=(0,u.c)(),Rn=zt.querySelector("ion-back-button");if(Rn&&tn.addElement(Rn),bt.addAnimation([ft,rt,pt,_t,tn]),rt.fromTo(Te,.01,1),pt.fromTo(Te,.01,1),Ue)yt||ft.fromTo("transform",`translateX(${ke})`,`translateX(${we})`).fromTo(Te,.01,1),pt.fromTo("transform",`translateX(${ke})`,`translateX(${we})`),tn.fromTo(Te,.01,1);else if(Ae||ft.fromTo("transform",`translateX(${De})`,`translateX(${we})`).fromTo(Te,.01,1),pt.fromTo("transform",`translateX(${De})`,`translateX(${we})`),_t.beforeClearStyles([Te,"transform"]),(null==ct?void 0:ct.translucent)?_t.fromTo("transform",qe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):_t.fromTo(Te,.01,"var(--opacity)"),et||tn.fromTo(Te,.01,1),Rn&&!et){const un=(0,u.c)();un.addElement(de(Rn).querySelector(".button-text")).fromTo("transform",qe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),bt.addAnimation(un)}}),Et){const zt=(0,u.c)(),bt=Et.querySelector(":scope > ion-content"),ft=Et.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=Et.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(bt||0!==ft.length||0!==rt.length?(zt.addElement(bt),zt.addElement(rt)):zt.addElement(Et.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Le.addAnimation(zt),Ue){zt.beforeClearStyles([Te]).fromTo("transform",`translateX(${we})`,qe?"translateX(-100%)":"translateX(100%)");const ot=(0,$.g)(Et);Le.afterAddWrite(()=>{"normal"===Le.getDirection()&&ot.style.setProperty("display","none")})}else zt.fromTo("transform",`translateX(${we})`,`translateX(${ke})`).fromTo(Te,1,Be);if(bt){const ot=de(bt).querySelector(".transition-effect");if(ot){const ct=ot.querySelector(".transition-cover"),yt=ot.querySelector(".transition-shadow"),gt=(0,u.c)(),pt=(0,u.c)(),_t=(0,u.c)();gt.addElement(ot).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(ct).beforeClearStyles([Te]).fromTo(Te,.1,0),_t.addElement(yt).beforeClearStyles([Te]).fromTo(Te,.7,.03),gt.addAnimation([pt,_t]),zt.addAnimation([gt])}}ft.forEach(ot=>{const ct=(0,u.c)();ct.addElement(ot);const yt=(0,u.c)();yt.addElement(ot.querySelector("ion-title"));const gt=(0,u.c)(),pt=ot.querySelectorAll("ion-buttons,[menuToggle]"),_t=ot.closest("ion-header"),tn=_t&&_t.classList.contains("header-collapse-condense-inactive"),Rn=Array.from(pt).filter($n=>{const Ft=$n.classList.contains("buttons-collapse");return Ft&&!tn||!Ft});gt.addElement(Rn);const wn=(0,u.c)(),un=ot.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");un.length>0&&wn.addElement(un);const En=(0,u.c)();En.addElement(de(ot).querySelector(".toolbar-background"));const hr=(0,u.c)(),Cn=ot.querySelector("ion-back-button");if(Cn&&hr.addElement(Cn),ct.addAnimation([yt,gt,wn,hr,En]),Le.addAnimation(ct),hr.fromTo(Te,.99,0),gt.fromTo(Te,.99,0),wn.fromTo(Te,.99,0),Ue){if(tn||yt.fromTo("transform",`translateX(${we})`,qe?"translateX(-100%)":"translateX(100%)").fromTo(Te,.99,0),wn.fromTo("transform",`translateX(${we})`,qe?"translateX(-100%)":"translateX(100%)"),En.beforeClearStyles([Te,"transform"]),(null==_t?void 0:_t.translucent)?En.fromTo("transform","translateX(0px)",qe?"translateX(-100%)":"translateX(100%)"):En.fromTo(Te,"var(--opacity)",0),Cn&&!Ut){const Ft=(0,u.c)();Ft.addElement(de(Cn).querySelector(".button-text")).fromTo("transform",`translateX(${we})`,`translateX(${(qe?-124:124)+"px"})`),ct.addAnimation(Ft)}}else tn||yt.fromTo("transform",`translateX(${we})`,`translateX(${ke})`).fromTo(Te,.99,0).afterClearStyles([Re,Te]),wn.fromTo("transform",`translateX(${we})`,`translateX(${ke})`).afterClearStyles([Re,Te]),hr.afterClearStyles([Te]),yt.afterClearStyles([Te]),gt.afterClearStyles([Te])})}return Le}catch(Xe){throw Xe}}},8006:(Gt,at,H)=>{"use strict";H.r(at),H.d(at,{mdTransitionAnimation:()=>Me});var u=H(7996),$=H(9313);H(7629);const Me=(ye,de)=>{const me="back"===de.direction,re=de.leavingEl,ce=(0,$.g)(de.enteringEl),ie=ce.querySelector("ion-toolbar"),$e=(0,u.c)();if($e.addElement(ce).fill("both").beforeRemoveClass("ion-page-invisible"),me?$e.duration(de.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):$e.duration(de.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ie){const Xe=(0,u.c)();Xe.addElement(ie),$e.addAnimation(Xe)}if(re&&me){$e.duration(de.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Xe=(0,u.c)();Xe.addElement((0,$.g)(re)).onFinish(Te=>{1===Te&&Xe.elements.length>0&&Xe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),$e.addAnimation(Xe)}return $e}},2860:(Gt,at,H)=>{"use strict";H.d(at,{B:()=>ot,a:()=>J,b:()=>me,c:()=>ie,d:()=>je,e:()=>Xe,f:()=>Fe,g:()=>Ut,h:()=>de,i:()=>bt,j:()=>Be,k:()=>Tt,m:()=>re,s:()=>rt,t:()=>$e});var u=H(8239),$=H(6897),q=H(9081),Me=H(7015);let ye=0;const de=new WeakMap,he=ct=>({create:yt=>Te(ct,yt),dismiss:(yt,gt,pt)=>Et(document,yt,gt,ct,pt),getTop:()=>(0,u.Z)(function*(){return Tt(document,ct)})()}),J=he("ion-alert"),me=he("ion-action-sheet"),re=he("ion-modal"),ie=he("ion-popover"),$e=he("ion-toast"),Xe=ct=>{"undefined"!=typeof document&&Ye(document);const yt=ye++;ct.overlayIndex=yt,ct.hasAttribute("id")||(ct.id=`ion-overlay-${yt}`)},Te=(ct,yt)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(ct).then(()=>{const gt=document.createElement(ct);return gt.classList.add("overlay-hidden"),Object.assign(gt,Object.assign(Object.assign({},yt),{hasController:!0})),Ae(document).appendChild(gt),new Promise(pt=>(0,Me.c)(gt,pt))}):Promise.resolve(),Re='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',we="input:not([type=hidden]), textarea, button, select",Be=(ct,yt)=>{let gt=ct.querySelector(Re);const pt=gt&&gt.shadowRoot;pt&&(gt=pt.querySelector(we)||gt),gt?(0,Me.f)(gt):yt.focus()},De=(ct,yt)=>{const gt=Array.from(ct.querySelectorAll(Re));let pt=gt.length>0?gt[gt.length-1]:null;const _t=pt&&pt.shadowRoot;_t&&(pt=_t.querySelector(we)||pt),pt?pt.focus():yt.focus()},Ye=ct=>{0===ye&&(ye=1,ct.addEventListener("focus",yt=>{((ct,yt)=>{const gt=Tt(yt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),pt=ct.target;gt&&pt&&(gt.shadowRoot?(()=>{if(gt.contains(pt))gt.lastFocus=pt;else{const Rn=gt.lastFocus;Be(gt,gt),Rn===yt.activeElement&&De(gt,gt),gt.lastFocus=yt.activeElement}})():(()=>{if(gt===pt)gt.lastFocus=void 0;else{const Rn=(0,Me.g)(gt);if(!Rn.contains(pt))return;const wn=Rn.querySelector(".ion-overlay-wrapper");if(!wn)return;if(wn.contains(pt))gt.lastFocus=pt;else{const un=gt.lastFocus;Be(wn,gt),un===yt.activeElement&&De(wn,gt),gt.lastFocus=yt.activeElement}}})())})(yt,ct)},!0),ct.addEventListener("ionBackButton",yt=>{const gt=Tt(ct);gt&&gt.backdropDismiss&&yt.detail.register(q.OVERLAY_BACK_BUTTON_PRIORITY,()=>gt.dismiss(void 0,ot))}),ct.addEventListener("keyup",yt=>{if("Escape"===yt.key){const gt=Tt(ct);gt&&gt.backdropDismiss&&gt.dismiss(void 0,ot)}}))},Et=(ct,yt,gt,pt,_t)=>{const tn=Tt(ct,pt,_t);return tn?tn.dismiss(yt,gt):Promise.reject("overlay does not exist")},Tt=(ct,yt,gt)=>{const pt=((ct,yt)=>(void 0===yt&&(yt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ct.querySelectorAll(yt)).filter(gt=>gt.overlayIndex>0)))(ct,yt).filter(_t=>!(ct=>ct.classList.contains("overlay-hidden"))(_t));return void 0===gt?pt[pt.length-1]:pt.find(_t=>_t.id===gt)},Ve=(ct=!1)=>{const gt=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!gt||(ct?gt.setAttribute("aria-hidden","true"):gt.removeAttribute("aria-hidden"))},je=function(){var ct=(0,u.Z)(function*(yt,gt,pt,_t,tn){var Rn,wn;if(yt.presented)return;Ve(!0),yt.presented=!0,yt.willPresent.emit(),null===(Rn=yt.willPresentShorthand)||void 0===Rn||Rn.emit();const un=(0,$.b)(yt),En=yt.enterAnimation?yt.enterAnimation:$.c.get(gt,"ios"===un?pt:_t);(yield et(yt,En,yt.el,tn))&&(yt.didPresent.emit(),null===(wn=yt.didPresentShorthand)||void 0===wn||wn.emit()),"ION-TOAST"!==yt.el.tagName&&Le(yt.el),yt.keyboardClose&&yt.el.focus()});return function(gt,pt,_t,tn,Rn){return ct.apply(this,arguments)}}(),Le=function(){var ct=(0,u.Z)(function*(yt){let gt=document.activeElement;if(!gt)return;const pt=gt&&gt.shadowRoot;pt&&(gt=pt.querySelector(we)||gt),yield yt.onDidDismiss(),gt.focus()});return function(gt){return ct.apply(this,arguments)}}(),Fe=function(){var ct=(0,u.Z)(function*(yt,gt,pt,_t,tn,Rn,wn){var un,En;if(!yt.presented)return!1;Ve(!1),yt.presented=!1;try{yt.el.style.setProperty("pointer-events","none"),yt.willDismiss.emit({data:gt,role:pt}),null===(un=yt.willDismissShorthand)||void 0===un||un.emit({data:gt,role:pt});const hr=(0,$.b)(yt),Cn=yt.leaveAnimation?yt.leaveAnimation:$.c.get(_t,"ios"===hr?tn:Rn);"gesture"!==pt&&(yield et(yt,Cn,yt.el,wn)),yt.didDismiss.emit({data:gt,role:pt}),null===(En=yt.didDismissShorthand)||void 0===En||En.emit({data:gt,role:pt}),de.delete(yt),yt.el.classList.add("overlay-hidden"),yt.el.style.removeProperty("pointer-events")}catch(hr){console.error(hr)}return yt.el.remove(),!0});return function(gt,pt,_t,tn,Rn,wn,un){return ct.apply(this,arguments)}}(),Ae=ct=>ct.querySelector("ion-app")||ct.body,et=function(){var ct=(0,u.Z)(function*(yt,gt,pt,_t){pt.classList.remove("overlay-hidden");const Rn=gt(yt.el,_t);(!yt.animated||!$.c.getBoolean("animated",!0))&&Rn.duration(0),yt.keyboardClose&&Rn.beforeAddWrite(()=>{const un=pt.ownerDocument.activeElement;un&&un.matches("input,ion-input, ion-textarea")&&un.blur()});const wn=de.get(yt)||[];return de.set(yt,[...wn,Rn]),yield Rn.play(),!0});return function(gt,pt,_t,tn){return ct.apply(this,arguments)}}(),Ut=(ct,yt)=>{let gt;const pt=new Promise(_t=>gt=_t);return zt(ct,yt,_t=>{gt(_t.detail)}),pt},zt=(ct,yt,gt)=>{const pt=_t=>{(0,Me.b)(ct,yt,pt),gt(_t)};(0,Me.a)(ct,yt,pt)},bt=ct=>"cancel"===ct||ct===ot,ft=ct=>ct(),rt=(ct,yt)=>{if("function"==typeof ct)return $.c.get("_zoneGate",ft)(()=>{try{return ct(yt)}catch(pt){throw pt}})},ot="backdrop"},8621:(Gt,at,H)=>{"use strict";H.d(at,{K:()=>de});var u=H(8239),$=H(6917),q=H.n($);const Me={SecureStorage:"ionicSecureStorage",IndexedDB:q().INDEXEDDB,LocalStorage:q().LOCALSTORAGE},ye={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[Me.SecureStorage,Me.IndexedDB,Me.LocalStorage]};class de{constructor(J=ye){this._db=null,this._secureStorageDriver=null;const me=Object.assign({},ye,J||{});this._config=me}create(){var J=this;return(0,u.Z)(function*(){const me=q().createInstance(J._config);return J._db=me,yield me.setDriver(J._config.driverOrder||[]),J})()}defineDriver(J){var me=this;return(0,u.Z)(function*(){return J._driver===Me.SecureStorage&&(me._secureStorageDriver=J),q().defineDriver(J)})()}get driver(){var J;return(null===(J=this._db)||void 0===J?void 0:J.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(J){return this.assertDb().getItem(J)}set(J,me){return this.assertDb().setItem(J,me)}remove(J){return this.assertDb().removeItem(J)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(J){return this.assertDb().iterate(J)}setEncryptionKey(J){var me;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(me=this._secureStorageDriver)||void 0===me||me.setEncryptionKey(J)}}},7713:(Gt,at,H)=>{"use strict";H.d(at,{Mq:()=>u.getApp,C6:()=>u.getApps,ZF:()=>u.initializeApp,KN:()=>u.registerVersion});var u=H(1572);(0,u.registerVersion)("firebase","9.6.7","app")},7892:(Gt,at,H)=>{"use strict";H.d(at,{Z:()=>u.Z});var u=H(6293);u.Z.registerVersion("firebase","9.6.7","app-compat")},2115:(Gt,at,H)=>{"use strict";H.r(at);var u=H(8239),$=H(6293),q=H(8717),Me=H(4213),he=(H(1572),H(3855),H(1177));function J(){return window}function re(){return(re=(0,u.Z)(function*(vt,it,tt){var kt;const{BuildInfo:Xt}=J();(0,q.ap)(it.sessionId,"AuthEvent did not contain a session ID");const Bn=yield we(it.sessionId),Pn={};return(0,q.aq)()?Pn.ibi=Xt.packageName:(0,q.ar)()?Pn.apn=Xt.packageName:(0,q.as)(vt,"operation-not-supported-in-this-environment"),Xt.displayName&&(Pn.appDisplayName=Xt.displayName),Pn.sessionId=Bn,(0,q.at)(vt,tt,it.type,void 0,null!==(kt=it.eventId)&&void 0!==kt?kt:void 0,Pn)})).apply(this,arguments)}function ie(){return(ie=(0,u.Z)(function*(vt){const{BuildInfo:it}=J(),tt={};(0,q.aq)()?tt.iosBundleId=it.packageName:(0,q.ar)()?tt.androidPackageName=it.packageName:(0,q.as)(vt,"operation-not-supported-in-this-environment"),yield(0,q.au)(vt,tt)})).apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(vt,it,tt){const{cordova:kt}=J();let Xt=()=>{};try{yield new Promise((Bn,Pn)=>{let Un=null;function qn(){var $t;Bn();const bn=null===($t=kt.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof bn&&bn(),"function"==typeof(null==tt?void 0:tt.close)&&tt.close()}function fn(){Un||(Un=window.setTimeout(()=>{Pn((0,q.av)(vt,"redirect-cancelled-by-user"))},2e3))}function ur(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}it.addPassiveListener(qn),document.addEventListener("resume",fn,!1),(0,q.ar)()&&document.addEventListener("visibilitychange",ur,!1),Xt=()=>{it.removePassiveListener(qn),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",ur,!1),Un&&window.clearTimeout(Un)}})}finally{Xt()}})).apply(this,arguments)}function we(vt){return Be.apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(vt){const it=qe(vt),tt=yield crypto.subtle.digest("SHA-256",it);return Array.from(new Uint8Array(tt)).map(Xt=>Xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(vt){if((0,q.ap)(/[0-9a-zA-Z]+/.test(vt),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(vt);const it=new ArrayBuffer(vt.length),tt=new Uint8Array(it);for(let kt=0;kt<vt.length;kt++)tt[kt]=vt.charCodeAt(kt);return tt}class ke extends q.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(it=>{this.resolveInialized=it})}addPassiveListener(it){this.passiveListeners.add(it)}removePassiveListener(it){this.passiveListeners.delete(it)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(it){return this.resolveInialized(),this.passiveListeners.forEach(tt=>tt(it)),super.onEvent(it)}initialized(){var it=this;return(0,u.Z)(function*(){yield it.initPromise})()}}function Ue(vt){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(vt){const it=yield Le()._get(Fe(vt));return it&&(yield Le()._remove(Fe(vt))),it})).apply(this,arguments)}function je(){const vt=[],it="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let tt=0;tt<20;tt++){const kt=Math.floor(Math.random()*it.length);vt.push(it.charAt(kt))}return vt.join("")}function Le(){return(0,q.ax)(q.b)}function Fe(vt){return(0,q.ay)("authEvent",vt.config.apiKey,vt.name)}function Ut(vt){if(!(null==vt?void 0:vt.includes("?")))return{};const[it,...tt]=vt.split("?");return(0,Me.zd)(tt.join("?"))}function rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,q.av)("no-auth-event")}}function pt(){var vt;return(null===(vt=null==self?void 0:self.location)||void 0===vt?void 0:vt.protocol)||null}function tn(vt=(0,Me.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()||!vt.toLowerCase().match(/iphone|ipad|ipod|android/))}function hr(){try{const vt=self.localStorage,it=q.aG();if(vt)return vt.setItem(it,"1"),vt.removeItem(it),!function(vt=(0,Me.z$)()){return(0,Me.w1)()&&11===(null==document?void 0:document.documentMode)||function(vt=(0,Me.z$)()){return/Edge\/\d+/.test(vt)}(vt)}()||(0,Me.hl)()}catch(vt){return Cn()&&(0,Me.hl)()}return!1}function Cn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return("http:"===pt()||"https:"===pt()||(0,Me.ru)()||tn())&&!((0,Me.b$)()||(0,Me.UG)())&&hr()&&!Cn()}function Ft(){return tn()&&"undefined"!=typeof document}function an(){return(an=(0,u.Z)(function*(){return!!Ft()&&new Promise(vt=>{const it=setTimeout(()=>{vt(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(it),vt(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=q.aw,ln="persistence";function In(vt){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(vt){yield vt._initializationPromise;const it=Yn(),tt=q.ay(ln,vt.config.apiKey,vt.name);it&&it.setItem(tt,vt._getPersistence())})).apply(this,arguments)}function Yn(){var vt;try{return(null===(vt="undefined"!=typeof window?window:null)||void 0===vt?void 0:vt.sessionStorage)||null}catch(it){return null}}const cn=q.aw;class sn{constructor(){this.browserResolver=q.ax(q.k),this.cordovaResolver=q.ax(class{constructor(){this._redirectPersistence=q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=q.aA}_initialize(it){var tt=this;return(0,u.Z)(function*(){const kt=it._key();let Xt=tt.eventManagers.get(kt);return Xt||(Xt=new ke(it),tt.eventManagers.set(kt,Xt),tt.attachCallbackListeners(it,Xt)),Xt})()}_openPopup(it){(0,q.as)(it,"operation-not-supported-in-this-environment")}_openRedirect(it,tt,kt,Xt){var Bn=this;return(0,u.Z)(function*(){!function(vt){var it,tt,kt,Xt,Bn,Pn,Un,qn,fn,ur;const $t=J();(0,q.aw)("function"==typeof(null===(it=null==$t?void 0:$t.universalLinks)||void 0===it?void 0:it.subscribe),vt,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,q.aw)(void 0!==(null===(tt=null==$t?void 0:$t.BuildInfo)||void 0===tt?void 0:tt.packageName),vt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,q.aw)("function"==typeof(null===(Bn=null===(Xt=null===(kt=null==$t?void 0:$t.cordova)||void 0===kt?void 0:kt.plugins)||void 0===Xt?void 0:Xt.browsertab)||void 0===Bn?void 0:Bn.openUrl),vt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aw)("function"==typeof(null===(qn=null===(Un=null===(Pn=null==$t?void 0:$t.cordova)||void 0===Pn?void 0:Pn.plugins)||void 0===Un?void 0:Un.browsertab)||void 0===qn?void 0:qn.isAvailable),vt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aw)("function"==typeof(null===(ur=null===(fn=null==$t?void 0:$t.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===ur?void 0:ur.open),vt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(it);const Pn=yield Bn._initialize(it);yield Pn.initialized(),Pn.resetRedirect(),(0,q.aB)(),yield Bn._originValidation(it);const Un=function(vt,it,tt=null){return{type:it,eventId:tt,urlResponse:null,sessionId:je(),postBody:null,tenantId:vt.tenantId,error:(0,q.av)(vt,"no-auth-event")}}(it,kt,Xt);yield function(vt,it){return Le()._set(Fe(vt),it)}(it,Un);const qn=yield function(vt,it,tt){return re.apply(this,arguments)}(it,Un,tt),fn=yield function(vt){const{cordova:it}=J();return new Promise(tt=>{it.plugins.browsertab.isAvailable(kt=>{let Xt=null;kt?it.plugins.browsertab.openUrl(vt):Xt=it.InAppBrowser.open(vt,(0,q.ao)()?"_blank":"_system","location=yes"),tt(Xt)})})}(qn);return function(vt,it,tt){return Te.apply(this,arguments)}(it,Pn,fn)})()}_isIframeWebStorageSupported(it,tt){throw new Error("Method not implemented.")}_originValidation(it){const tt=it._key();return this.originValidationPromises[tt]||(this.originValidationPromises[tt]=function(vt){return ie.apply(this,arguments)}(it)),this.originValidationPromises[tt]}attachCallbackListeners(it,tt){const{universalLinks:kt,handleOpenURL:Xt,BuildInfo:Bn}=J(),Pn=setTimeout((0,u.Z)(function*(){yield Ue(it),tt.onEvent(rt())}),500),Un=function(){var ur=(0,u.Z)(function*($t){clearTimeout(Pn);const bn=yield Ue(it);let lr=null;bn&&(null==$t?void 0:$t.url)&&(lr=function(vt,it){var tt,kt;const Xt=function(vt){const it=Ut(vt),tt=it.link?decodeURIComponent(it.link):void 0,kt=Ut(tt).link,Xt=it.deep_link_id?decodeURIComponent(it.deep_link_id):void 0;return Ut(Xt).link||Xt||kt||tt||vt}(it);if(Xt.includes("/__/auth/callback")){const Bn=Ut(Xt),Pn=Bn.firebaseError?function(vt){try{return JSON.parse(vt)}catch(it){return null}}(decodeURIComponent(Bn.firebaseError)):null,Un=null===(kt=null===(tt=null==Pn?void 0:Pn.code)||void 0===tt?void 0:tt.split("auth/"))||void 0===kt?void 0:kt[1],qn=Un?(0,q.av)(Un):null;return qn?{type:vt.type,eventId:vt.eventId,tenantId:vt.tenantId,error:qn,urlResponse:null,sessionId:null,postBody:null}:{type:vt.type,eventId:vt.eventId,tenantId:vt.tenantId,sessionId:vt.sessionId,urlResponse:Xt,postBody:null}}return null}(bn,$t.url)),tt.onEvent(lr||rt())});return function(bn){return ur.apply(this,arguments)}}();void 0!==kt&&"function"==typeof kt.subscribe&&kt.subscribe(null,Un);const qn=Xt,fn=`${Bn.packageName.toLowerCase()}://`;J().handleOpenURL=function(){var ur=(0,u.Z)(function*($t){if($t.toLowerCase().startsWith(fn)&&Un({url:$t}),"function"==typeof qn)try{qn($t)}catch(bn){console.error(bn)}});return function($t){return ur.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=q.a,this._completeRedirectFn=q.aA}_initialize(it){var tt=this;return(0,u.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._initialize(it)})()}_openPopup(it,tt,kt,Xt){var Bn=this;return(0,u.Z)(function*(){return yield Bn.selectUnderlyingResolver(),Bn.assertedUnderlyingResolver._openPopup(it,tt,kt,Xt)})()}_openRedirect(it,tt,kt,Xt){var Bn=this;return(0,u.Z)(function*(){return yield Bn.selectUnderlyingResolver(),Bn.assertedUnderlyingResolver._openRedirect(it,tt,kt,Xt)})()}_isIframeWebStorageSupported(it,tt){this.assertedUnderlyingResolver._isIframeWebStorageSupported(it,tt)}_originValidation(it){return this.assertedUnderlyingResolver._originValidation(it)}get _shouldInitProactively(){return Ft()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var it=this;return(0,u.Z)(function*(){if(it.underlyingResolver)return;const tt=yield function(){return an.apply(this,arguments)}();it.underlyingResolver=tt?it.cordovaResolver:it.browserResolver})()}}function Yr(vt){return vt.unwrap()}function _n(vt){return yr(vt)}function yr(vt){const{_tokenResponse:it}=vt instanceof Me.ZR?vt.customData:vt;if(!it)return null;if(!(vt instanceof Me.ZR)&&"temporaryProof"in it&&"phoneNumber"in it)return q.P.credentialFromResult(vt);const tt=it.providerId;if(!tt||tt===q.o.PASSWORD)return null;let kt;switch(tt){case q.o.GOOGLE:kt=q.N;break;case q.o.FACEBOOK:kt=q.M;break;case q.o.GITHUB:kt=q.Q;break;case q.o.TWITTER:kt=q.V;break;default:const{oauthIdToken:Xt,oauthAccessToken:Bn,oauthTokenSecret:Pn,pendingToken:Un,nonce:qn}=it;return Bn||Pn||Xt||Un?Un?tt.startsWith("saml.")?q.aJ._create(tt,Un):q.I._fromParams({providerId:tt,signInMethod:tt,pendingToken:Un,idToken:Xt,accessToken:Bn}):new q.T(tt).credential({idToken:Xt,accessToken:Bn,rawNonce:qn}):null}return vt instanceof Me.ZR?kt.credentialFromError(vt):kt.credentialFromResult(vt)}function Fr(vt,it){return it.catch(tt=>{throw tt instanceof Me.ZR&&function(vt,it){var tt;const kt=null===(tt=it.customData)||void 0===tt?void 0:tt._tokenResponse;if("auth/multi-factor-auth-required"===it.code)it.resolver=new st(vt,q.am(vt,it));else if(kt){const Xt=yr(it),Bn=it;Xt&&(Bn.credential=Xt,Bn.tenantId=kt.tenantId||void 0,Bn.email=kt.email||void 0,Bn.phoneNumber=kt.phoneNumber||void 0)}}(vt,tt),tt}).then(tt=>{const Xt=tt.user;return{operationType:tt.operationType,credential:_n(tt),additionalUserInfo:q.ak(tt),user:Ot.getOrCreate(Xt)}})}function Qe(vt,it){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(vt,it){const tt=yield it;return{verificationId:tt.verificationId,confirm:kt=>Fr(vt,tt.confirm(kt))}})).apply(this,arguments)}class st{constructor(it,tt){this.resolver=tt,this.auth=it.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(it){return Fr(Yr(this.auth),this.resolver.resolveSignIn(it))}}class Ot{constructor(it){this._delegate=it,this.multiFactor=q.an(it)}static getOrCreate(it){return Ot.USER_MAP.has(it)||Ot.USER_MAP.set(it,new Ot(it)),Ot.USER_MAP.get(it)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(it){return this._delegate.getIdTokenResult(it)}getIdToken(it){return this._delegate.getIdToken(it)}linkAndRetrieveDataWithCredential(it){return this.linkWithCredential(it)}linkWithCredential(it){var tt=this;return(0,u.Z)(function*(){return Fr(tt.auth,q.Y(tt._delegate,it))})()}linkWithPhoneNumber(it,tt){var kt=this;return(0,u.Z)(function*(){return Qe(kt.auth,q.l(kt._delegate,it,tt))})()}linkWithPopup(it){var tt=this;return(0,u.Z)(function*(){return Fr(tt.auth,q.d(tt._delegate,it,sn))})()}linkWithRedirect(it){var tt=this;return(0,u.Z)(function*(){return yield In(q.aC(tt.auth)),q.g(tt._delegate,it,sn)})()}reauthenticateAndRetrieveDataWithCredential(it){return this.reauthenticateWithCredential(it)}reauthenticateWithCredential(it){var tt=this;return(0,u.Z)(function*(){return Fr(tt.auth,q.Z(tt._delegate,it))})()}reauthenticateWithPhoneNumber(it,tt){return Qe(this.auth,q.r(this._delegate,it,tt))}reauthenticateWithPopup(it){return Fr(this.auth,q.e(this._delegate,it,sn))}reauthenticateWithRedirect(it){var tt=this;return(0,u.Z)(function*(){return yield In(q.aC(tt.auth)),q.h(tt._delegate,it,sn)})()}sendEmailVerification(it){return q.aa(this._delegate,it)}unlink(it){var tt=this;return(0,u.Z)(function*(){return yield q.aj(tt._delegate,it),tt})()}updateEmail(it){return q.af(this._delegate,it)}updatePassword(it){return q.ag(this._delegate,it)}updatePhoneNumber(it){return q.u(this._delegate,it)}updateProfile(it){return q.ae(this._delegate,it)}verifyBeforeUpdateEmail(it,tt){return q.ab(this._delegate,it,tt)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ot.USER_MAP=new WeakMap;const dt=q.aw;let on=(()=>{class vt{constructor(tt,kt){if(this.app=tt,kt.isInitialized())return this._delegate=kt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xt}=tt.options;dt(Xt,"invalid-api-key",{appName:tt.name}),dt(Xt,"invalid-api-key",{appName:tt.name});const Bn="undefined"!=typeof window?sn:void 0;this._delegate=kt.initialize({options:{persistence:Zn(Xt,tt.name),popupRedirectResolver:Bn}}),this._delegate._updateErrorMap(q.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ot.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(tt){this._delegate.languageCode=tt}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(tt){this._delegate.tenantId=tt}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(tt,kt){q.E(this._delegate,tt,kt)}applyActionCode(tt){return q.a1(this._delegate,tt)}checkActionCode(tt){return q.a2(this._delegate,tt)}confirmPasswordReset(tt,kt){return q.a0(this._delegate,tt,kt)}createUserWithEmailAndPassword(tt,kt){var Xt=this;return(0,u.Z)(function*(){return Fr(Xt._delegate,q.a4(Xt._delegate,tt,kt))})()}fetchProvidersForEmail(tt){return this.fetchSignInMethodsForEmail(tt)}fetchSignInMethodsForEmail(tt){return q.a9(this._delegate,tt)}isSignInWithEmailLink(tt){return q.a7(this._delegate,tt)}getRedirectResult(){var tt=this;return(0,u.Z)(function*(){dt($n(),tt._delegate,"operation-not-supported-in-this-environment");const kt=yield q.j(tt._delegate,sn);return kt?Fr(tt._delegate,Promise.resolve(kt)):{credential:null,user:null}})()}addFrameworkForLogging(tt){!function(vt,it){(0,q.aC)(vt)._logFramework(it)}(this._delegate,tt)}onAuthStateChanged(tt,kt,Xt){const{next:Bn,error:Pn,complete:Un}=mn(tt,kt,Xt);return this._delegate.onAuthStateChanged(Bn,Pn,Un)}onIdTokenChanged(tt,kt,Xt){const{next:Bn,error:Pn,complete:Un}=mn(tt,kt,Xt);return this._delegate.onIdTokenChanged(Bn,Pn,Un)}sendSignInLinkToEmail(tt,kt){return q.a6(this._delegate,tt,kt)}sendPasswordResetEmail(tt,kt){return q.$(this._delegate,tt,kt||void 0)}setPersistence(tt){var kt=this;return(0,u.Z)(function*(){let Xt;switch(function(vt,it){Wn(Object.values(Gn).includes(it),vt,"invalid-persistence-type"),(0,Me.b$)()?Wn(it!==Gn.SESSION,vt,"unsupported-persistence-type"):(0,Me.UG)()?Wn(it===Gn.NONE,vt,"unsupported-persistence-type"):Cn()?Wn(it===Gn.NONE||it===Gn.LOCAL&&(0,Me.hl)(),vt,"unsupported-persistence-type"):Wn(it===Gn.NONE||hr(),vt,"unsupported-persistence-type")}(kt._delegate,tt),tt){case Gn.SESSION:Xt=q.a;break;case Gn.LOCAL:Xt=(yield q.ax(q.i)._isAvailable())?q.i:q.b;break;case Gn.NONE:Xt=q.K;break;default:return q.as("argument-error",{appName:kt._delegate.name})}return kt._delegate.setPersistence(Xt)})()}signInAndRetrieveDataWithCredential(tt){return this.signInWithCredential(tt)}signInAnonymously(){return Fr(this._delegate,q.W(this._delegate))}signInWithCredential(tt){return Fr(this._delegate,q.X(this._delegate,tt))}signInWithCustomToken(tt){return Fr(this._delegate,q._(this._delegate,tt))}signInWithEmailAndPassword(tt,kt){return Fr(this._delegate,q.a5(this._delegate,tt,kt))}signInWithEmailLink(tt,kt){return Fr(this._delegate,q.a8(this._delegate,tt,kt))}signInWithPhoneNumber(tt,kt){return Qe(this._delegate,q.s(this._delegate,tt,kt))}signInWithPopup(tt){var kt=this;return(0,u.Z)(function*(){return dt($n(),kt._delegate,"operation-not-supported-in-this-environment"),Fr(kt._delegate,q.c(kt._delegate,tt,sn))})()}signInWithRedirect(tt){var kt=this;return(0,u.Z)(function*(){return dt($n(),kt._delegate,"operation-not-supported-in-this-environment"),yield In(kt._delegate),q.f(kt._delegate,tt,sn)})()}updateCurrentUser(tt){return this._delegate.updateCurrentUser(tt)}verifyPasswordResetCode(tt){return q.a3(this._delegate,tt)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return vt.Persistence=Gn,vt})();function mn(vt,it,tt){let kt=vt;"function"!=typeof vt&&({next:kt,error:it,complete:tt}=vt);const Xt=kt;return{next:Pn=>Xt(Pn&&Ot.getOrCreate(Pn)),error:it,complete:tt}}function Zn(vt,it){const tt=function(vt,it){const tt=Yn();if(!tt)return[];const kt=q.ay(ln,vt,it);switch(tt.getItem(kt)){case Gn.NONE:return[q.K];case Gn.LOCAL:return[q.i,q.a];case Gn.SESSION:return[q.a];default:return[]}}(vt,it);if("undefined"!=typeof self&&!tt.includes(q.i)&&tt.push(q.i),"undefined"!=typeof window)for(const kt of[q.b,q.a])tt.includes(kt)||tt.push(kt);return tt.includes(q.K)||tt.push(q.K),tt}class _r{constructor(){this.providerId="phone",this._delegate=new q.P(Yr($.Z.auth()))}static credential(it,tt){return q.P.credential(it,tt)}verifyPhoneNumber(it,tt){return this._delegate.verifyPhoneNumber(it,tt)}unwrap(){return this._delegate}}_r.PHONE_SIGN_IN_METHOD=q.P.PHONE_SIGN_IN_METHOD,_r.PROVIDER_ID=q.P.PROVIDER_ID;const Ln=q.aw;var vt;(vt=$.Z).INTERNAL.registerComponent(new he.wA("auth-compat",it=>{const tt=it.getProvider("app-compat").getImmediate(),kt=it.getProvider("auth");return new on(tt,kt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q.A.EMAIL_SIGNIN,PASSWORD_RESET:q.A.PASSWORD_RESET,RECOVER_EMAIL:q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q.A.VERIFY_EMAIL}},EmailAuthProvider:q.L,FacebookAuthProvider:q.M,GithubAuthProvider:q.Q,GoogleAuthProvider:q.N,OAuthProvider:q.T,SAMLAuthProvider:q.U,PhoneAuthProvider:_r,PhoneMultiFactorGenerator:q.m,RecaptchaVerifier:class{constructor(it,tt,kt=$.Z.app()){var Xt;Ln(null===(Xt=kt.options)||void 0===Xt?void 0:Xt.apiKey,"invalid-api-key",{appName:kt.name}),this._delegate=new q.R(it,tt,kt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:q.V,Auth:on,AuthCredential:q.G,Error:Me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),vt.registerVersion("@firebase/auth-compat","0.2.9")},4995:function(Gt,at){!function(H){"use strict";function u(Re){return Array.prototype.slice.call(Re)}function $(Re){return new Promise(function(we,Be){Re.onsuccess=function(){we(Re.result)},Re.onerror=function(){Be(Re.error)}})}function q(Re,we,Be){var qe,De=new Promise(function(ke,Ye){$(qe=Re[we].apply(Re,Be)).then(ke,Ye)});return De.request=qe,De}function Me(Re,we,Be){var qe=q(Re,we,Be);return qe.then(function(De){if(De)return new te(De,qe.request)})}function ye(Re,we,Be){Be.forEach(function(qe){Object.defineProperty(Re.prototype,qe,{get:function(){return this[we][qe]},set:function(De){this[we][qe]=De}})})}function de(Re,we,Be,qe){qe.forEach(function(De){De in Be.prototype&&(Re.prototype[De]=function(){return q(this[we],De,arguments)})})}function he(Re,we,Be,qe){qe.forEach(function(De){De in Be.prototype&&(Re.prototype[De]=function(){return this[we][De].apply(this[we],arguments)})})}function J(Re,we,Be,qe){qe.forEach(function(De){De in Be.prototype&&(Re.prototype[De]=function(){return Me(this[we],De,arguments)})})}function me(Re){this._index=Re}function te(Re,we){this._cursor=Re,this._request=we}function re(Re){this._store=Re}function ce(Re){this._tx=Re,this.complete=new Promise(function(we,Be){Re.oncomplete=function(){we()},Re.onerror=function(){Be(Re.error)},Re.onabort=function(){Be(Re.error)}})}function ie(Re,we,Be){this._db=Re,this.oldVersion=we,this.transaction=new ce(Be)}function $e(Re){this._db=Re}ye(me,"_index",["name","keyPath","multiEntry","unique"]),de(me,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),J(me,"_index",IDBIndex,["openCursor","openKeyCursor"]),ye(te,"_cursor",["direction","key","primaryKey","value"]),de(te,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Re){Re in IDBCursor.prototype&&(te.prototype[Re]=function(){var we=this,Be=arguments;return Promise.resolve().then(function(){return we._cursor[Re].apply(we._cursor,Be),$(we._request).then(function(qe){if(qe)return new te(qe,we._request)})})})}),re.prototype.createIndex=function(){return new me(this._store.createIndex.apply(this._store,arguments))},re.prototype.index=function(){return new me(this._store.index.apply(this._store,arguments))},ye(re,"_store",["name","keyPath","indexNames","autoIncrement"]),de(re,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),J(re,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),he(re,"_store",IDBObjectStore,["deleteIndex"]),ce.prototype.objectStore=function(){return new re(this._tx.objectStore.apply(this._tx,arguments))},ye(ce,"_tx",["objectStoreNames","mode"]),he(ce,"_tx",IDBTransaction,["abort"]),ie.prototype.createObjectStore=function(){return new re(this._db.createObjectStore.apply(this._db,arguments))},ye(ie,"_db",["name","version","objectStoreNames"]),he(ie,"_db",IDBDatabase,["deleteObjectStore","close"]),$e.prototype.transaction=function(){return new ce(this._db.transaction.apply(this._db,arguments))},ye($e,"_db",["name","version","objectStoreNames"]),he($e,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Re){[re,me].forEach(function(we){Re in we.prototype&&(we.prototype[Re.replace("open","iterate")]=function(){var Be=u(arguments),qe=Be[Be.length-1],De=this._store||this._index,ke=De[Re].apply(De,Be.slice(0,-1));ke.onsuccess=function(){qe(ke.result)}})})}),[me,re].forEach(function(Re){Re.prototype.getAll||(Re.prototype.getAll=function(we,Be){var qe=this,De=[];return new Promise(function(ke){qe.iterateCursor(we,function(Ye){Ye?(De.push(Ye.value),void 0===Be||De.length!=Be?Ye.continue():ke(De)):ke(De)})})})}),H.openDb=function(Re,we,Be){var qe=q(indexedDB,"open",[Re,we]),De=qe.request;return De&&(De.onupgradeneeded=function(ke){Be&&Be(new ie(De.result,ke.oldVersion,De.transaction))}),qe.then(function(ke){return new $e(ke)})},H.deleteDb=function(Re){return q(indexedDB,"deleteDatabase",[Re])},Object.defineProperty(H,"__esModule",{value:!0})}(at)},6917:Gt=>{Gt.exports=function $(q,Me,ye){function de(me,te){if(!Me[me]){if(!q[me]){if(he)return he(me,!0);var ce=new Error("Cannot find module '"+me+"'");throw ce.code="MODULE_NOT_FOUND",ce}var ie=Me[me]={exports:{}};q[me][0].call(ie.exports,function($e){return de(q[me][1][$e]||$e)},ie,ie.exports,$,q,Me,ye)}return Me[me].exports}for(var he=void 0,J=0;J<ye.length;J++)de(ye[J]);return de}({1:[function($,q,Me){(function(ye){"use strict";var he,de=ye.MutationObserver||ye.WebKitMutationObserver;if(de){var J=0,me=new de($e),te=ye.document.createTextNode("");me.observe(te,{characterData:!0}),he=function(){te.data=J=++J%2}}else if(ye.setImmediate||void 0===ye.MessageChannel)he="document"in ye&&"onreadystatechange"in ye.document.createElement("script")?function(){var Te=ye.document.createElement("script");Te.onreadystatechange=function(){$e(),Te.onreadystatechange=null,Te.parentNode.removeChild(Te),Te=null},ye.document.documentElement.appendChild(Te)}:function(){setTimeout($e,0)};else{var re=new ye.MessageChannel;re.port1.onmessage=$e,he=function(){re.port2.postMessage(0)}}var ce,ie=[];function $e(){ce=!0;for(var Te,Re,we=ie.length;we;){for(Re=ie,ie=[],Te=-1;++Te<we;)Re[Te]();we=ie.length}ce=!1}q.exports=function(Te){1===ie.push(Te)&&!ce&&he()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function($,q,Me){"use strict";var ye=$(1);function de(){}var he={},J=["REJECTED"],me=["FULFILLED"],te=["PENDING"];function re(De){if("function"!=typeof De)throw new TypeError("resolver must be a function");this.state=te,this.queue=[],this.outcome=void 0,De!==de&&Xe(this,De)}function ce(De,ke,Ye){this.promise=De,"function"==typeof ke&&(this.onFulfilled=ke,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Ye&&(this.onRejected=Ye,this.callRejected=this.otherCallRejected)}function ie(De,ke,Ye){ye(function(){var Et;try{Et=ke(Ye)}catch(Ue){return he.reject(De,Ue)}Et===De?he.reject(De,new TypeError("Cannot resolve promise with itself")):he.resolve(De,Et)})}function $e(De){var ke=De&&De.then;if(De&&("object"==typeof De||"function"==typeof De)&&"function"==typeof ke)return function(){ke.apply(De,arguments)}}function Xe(De,ke){var Ye=!1;function Et(je){Ye||(Ye=!0,he.reject(De,je))}function Ue(je){Ye||(Ye=!0,he.resolve(De,je))}var Ve=Te(function(){ke(Ue,Et)});"error"===Ve.status&&Et(Ve.value)}function Te(De,ke){var Ye={};try{Ye.value=De(ke),Ye.status="success"}catch(Et){Ye.status="error",Ye.value=Et}return Ye}q.exports=re,re.prototype.catch=function(De){return this.then(null,De)},re.prototype.then=function(De,ke){if("function"!=typeof De&&this.state===me||"function"!=typeof ke&&this.state===J)return this;var Ye=new this.constructor(de);return this.state!==te?ie(Ye,this.state===me?De:ke,this.outcome):this.queue.push(new ce(Ye,De,ke)),Ye},ce.prototype.callFulfilled=function(De){he.resolve(this.promise,De)},ce.prototype.otherCallFulfilled=function(De){ie(this.promise,this.onFulfilled,De)},ce.prototype.callRejected=function(De){he.reject(this.promise,De)},ce.prototype.otherCallRejected=function(De){ie(this.promise,this.onRejected,De)},he.resolve=function(De,ke){var Ye=Te($e,ke);if("error"===Ye.status)return he.reject(De,Ye.value);var Et=Ye.value;if(Et)Xe(De,Et);else{De.state=me,De.outcome=ke;for(var Ue=-1,Tt=De.queue.length;++Ue<Tt;)De.queue[Ue].callFulfilled(ke)}return De},he.reject=function(De,ke){De.state=J,De.outcome=ke;for(var Ye=-1,Et=De.queue.length;++Ye<Et;)De.queue[Ye].callRejected(ke);return De},re.resolve=function(De){return De instanceof this?De:he.resolve(new this(de),De)},re.reject=function(De){var ke=new this(de);return he.reject(ke,De)},re.all=function(De){var ke=this;if("[object Array]"!==Object.prototype.toString.call(De))return this.reject(new TypeError("must be an array"));var Ye=De.length,Et=!1;if(!Ye)return this.resolve([]);for(var Ue=new Array(Ye),Tt=0,Ve=-1,je=new this(de);++Ve<Ye;)Le(De[Ve],Ve);return je;function Le(Fe,Ae){ke.resolve(Fe).then(function(Ut){Ue[Ae]=Ut,++Tt===Ye&&!Et&&(Et=!0,he.resolve(je,Ue))},function(Ut){Et||(Et=!0,he.reject(je,Ut))})}},re.race=function(De){var ke=this;if("[object Array]"!==Object.prototype.toString.call(De))return this.reject(new TypeError("must be an array"));var Ye=De.length,Et=!1;if(!Ye)return this.resolve([]);for(var Ue=-1,Tt=new this(de);++Ue<Ye;)ke.resolve(De[Ue]).then(function(Le){Et||(Et=!0,he.resolve(Tt,Le))},function(Le){Et||(Et=!0,he.reject(Tt,Le))});return Tt}},{1:1}],3:[function($,q,Me){(function(ye){"use strict";"function"!=typeof ye.Promise&&(ye.Promise=$(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function($,q,Me){"use strict";var ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};var J=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(be){return}}();function te(be,Ke){be=be||[],Ke=Ke||{};try{return new Blob(be,Ke)}catch(j){if("TypeError"!==j.name)throw j;for(var N=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),P=0;P<be.length;P+=1)N.append(be[P]);return N.getBlob(Ke.type)}}"undefined"==typeof Promise&&$(3);var re=Promise;function ce(be,Ke){Ke&&be.then(function(C){Ke(null,C)},function(C){Ke(C)})}function ie(be,Ke,C){"function"==typeof Ke&&be.then(Ke),"function"==typeof C&&be.catch(C)}function $e(be){return"string"!=typeof be&&(console.warn(be+" used as a key, but it is not a string."),be=String(be)),be}function Xe(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var Te="local-forage-detect-blob-support",Re=void 0,we={},Be=Object.prototype.toString,qe="readonly",De="readwrite";function ke(be){for(var Ke=be.length,C=new ArrayBuffer(Ke),N=new Uint8Array(C),P=0;P<Ke;P++)N[P]=be.charCodeAt(P);return C}function Et(be){return"boolean"==typeof Re?re.resolve(Re):function(be){return new re(function(Ke){var C=be.transaction(Te,De),N=te([""]);C.objectStore(Te).put(N,"key"),C.onabort=function(P){P.preventDefault(),P.stopPropagation(),Ke(!1)},C.oncomplete=function(){var P=navigator.userAgent.match(/Chrome\/(\d+)/),j=navigator.userAgent.match(/Edge\//);Ke(j||!P||parseInt(P[1],10)>=43)}}).catch(function(){return!1})}(be).then(function(Ke){return Re=Ke})}function Ue(be){var Ke=we[be.name],C={};C.promise=new re(function(N,P){C.resolve=N,C.reject=P}),Ke.deferredOperations.push(C),Ke.dbReady=Ke.dbReady?Ke.dbReady.then(function(){return C.promise}):C.promise}function Tt(be){var C=we[be.name].deferredOperations.pop();if(C)return C.resolve(),C.promise}function Ve(be,Ke){var N=we[be.name].deferredOperations.pop();if(N)return N.reject(Ke),N.promise}function je(be,Ke){return new re(function(C,N){if(we[be.name]=we[be.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},be.db){if(!Ke)return C(be.db);Ue(be),be.db.close()}var P=[be.name];Ke&&P.push(be.version);var j=J.open.apply(J,P);Ke&&(j.onupgradeneeded=function(ne){var ve=j.result;try{ve.createObjectStore(be.storeName),ne.oldVersion<=1&&ve.createObjectStore(Te)}catch(Pe){if("ConstraintError"!==Pe.name)throw Pe;console.warn('The database "'+be.name+'" has been upgraded from version '+ne.oldVersion+" to version "+ne.newVersion+', but the storage "'+be.storeName+'" already exists.')}}),j.onerror=function(ne){ne.preventDefault(),N(j.error)},j.onsuccess=function(){var ne=j.result;ne.onversionchange=function(ve){ve.target.close()},C(ne),Tt(be)}})}function Le(be){return je(be,!1)}function Fe(be){return je(be,!0)}function Ae(be,Ke){if(!be.db)return!0;var C=!be.db.objectStoreNames.contains(be.storeName),P=be.version>be.db.version;if(be.version<be.db.version&&(be.version!==Ke&&console.warn('The database "'+be.name+"\" can't be downgraded from version "+be.db.version+" to version "+be.version+"."),be.version=be.db.version),P||C){if(C){var j=be.db.version+1;j>be.version&&(be.version=j)}return!0}return!1}function Ut(be){return te([ke(atob(be.data))],{type:be.type})}function zt(be){return be&&be.__local_forage_encoded_blob}function bt(be){var Ke=this,C=Ke._initReady().then(function(){var N=we[Ke._dbInfo.name];if(N&&N.dbReady)return N.dbReady});return ie(C,be,be),C}function rt(be,Ke,C,N){void 0===N&&(N=1);try{var P=be.db.transaction(be.storeName,Ke);C(null,P)}catch(j){if(N>0&&(!be.db||"InvalidStateError"===j.name||"NotFoundError"===j.name))return re.resolve().then(function(){if(!be.db||"NotFoundError"===j.name&&!be.db.objectStoreNames.contains(be.storeName)&&be.version<=be.db.version)return be.db&&(be.version=be.db.version+1),Fe(be)}).then(function(){return function(be){Ue(be);for(var Ke=we[be.name],C=Ke.forages,N=0;N<C.length;N++){var P=C[N];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return be.db=null,Le(be).then(function(j){return be.db=j,Ae(be)?Fe(be):j}).then(function(j){be.db=Ke.db=j;for(var ne=0;ne<C.length;ne++)C[ne]._dbInfo.db=j}).catch(function(j){throw Ve(be,j),j})}(be).then(function(){rt(be,Ke,C,N-1)})}).catch(C);C(j)}}var hr={_driver:"asyncStorage",_initStorage:function(be){var Ke=this,C={db:null};if(be)for(var N in be)C[N]=be[N];var P=we[C.name];P||(we[C.name]=P={forages:[],db:null,dbReady:null,deferredOperations:[]}),P.forages.push(Ke),Ke._initReady||(Ke._initReady=Ke.ready,Ke.ready=bt);var j=[];function ne(){return re.resolve()}for(var ve=0;ve<P.forages.length;ve++){var Pe=P.forages[ve];Pe!==Ke&&j.push(Pe._initReady().catch(ne))}var Ze=P.forages.slice(0);return re.all(j).then(function(){return C.db=P.db,Le(C)}).then(function(We){return C.db=We,Ae(C,Ke._defaultConfig.version)?Fe(C):We}).then(function(We){C.db=P.db=We,Ke._dbInfo=C;for(var ht=0;ht<Ze.length;ht++){var Lt=Ze[ht];Lt!==Ke&&(Lt._dbInfo.db=C.db,Lt._dbInfo.version=C.version)}})},_support:function(){try{if(!J||!J.open)return!1;var be="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ke="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!be||Ke)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(C){return!1}}(),iterate:function(be,Ke){var C=this,N=new re(function(P,j){C.ready().then(function(){rt(C._dbInfo,qe,function(ne,ve){if(ne)return j(ne);try{var Ze=ve.objectStore(C._dbInfo.storeName).openCursor(),We=1;Ze.onsuccess=function(){var ht=Ze.result;if(ht){var Lt=ht.value;zt(Lt)&&(Lt=Ut(Lt));var Kt=be(Lt,ht.key,We++);void 0!==Kt?P(Kt):ht.continue()}else P()},Ze.onerror=function(){j(Ze.error)}}catch(ht){j(ht)}})}).catch(j)});return ce(N,Ke),N},getItem:function(be,Ke){var C=this;be=$e(be);var N=new re(function(P,j){C.ready().then(function(){rt(C._dbInfo,qe,function(ne,ve){if(ne)return j(ne);try{var Ze=ve.objectStore(C._dbInfo.storeName).get(be);Ze.onsuccess=function(){var We=Ze.result;void 0===We&&(We=null),zt(We)&&(We=Ut(We)),P(We)},Ze.onerror=function(){j(Ze.error)}}catch(We){j(We)}})}).catch(j)});return ce(N,Ke),N},setItem:function(be,Ke,C){var N=this;be=$e(be);var P=new re(function(j,ne){var ve;N.ready().then(function(){return ve=N._dbInfo,"[object Blob]"===Be.call(Ke)?Et(ve.db).then(function(Pe){return Pe?Ke:function(be){return new re(function(Ke,C){var N=new FileReader;N.onerror=C,N.onloadend=function(P){var j=btoa(P.target.result||"");Ke({__local_forage_encoded_blob:!0,data:j,type:be.type})},N.readAsBinaryString(be)})}(Ke)}):Ke}).then(function(Pe){rt(N._dbInfo,De,function(Ze,We){if(Ze)return ne(Ze);try{var ht=We.objectStore(N._dbInfo.storeName);null===Pe&&(Pe=void 0);var Lt=ht.put(Pe,be);We.oncomplete=function(){void 0===Pe&&(Pe=null),j(Pe)},We.onabort=We.onerror=function(){ne(Lt.error?Lt.error:Lt.transaction.error)}}catch(Kt){ne(Kt)}})}).catch(ne)});return ce(P,C),P},removeItem:function(be,Ke){var C=this;be=$e(be);var N=new re(function(P,j){C.ready().then(function(){rt(C._dbInfo,De,function(ne,ve){if(ne)return j(ne);try{var Ze=ve.objectStore(C._dbInfo.storeName).delete(be);ve.oncomplete=function(){P()},ve.onerror=function(){j(Ze.error)},ve.onabort=function(){j(Ze.error?Ze.error:Ze.transaction.error)}}catch(We){j(We)}})}).catch(j)});return ce(N,Ke),N},clear:function(be){var Ke=this,C=new re(function(N,P){Ke.ready().then(function(){rt(Ke._dbInfo,De,function(j,ne){if(j)return P(j);try{var Pe=ne.objectStore(Ke._dbInfo.storeName).clear();ne.oncomplete=function(){N()},ne.onabort=ne.onerror=function(){P(Pe.error?Pe.error:Pe.transaction.error)}}catch(Ze){P(Ze)}})}).catch(P)});return ce(C,be),C},length:function(be){var Ke=this,C=new re(function(N,P){Ke.ready().then(function(){rt(Ke._dbInfo,qe,function(j,ne){if(j)return P(j);try{var Pe=ne.objectStore(Ke._dbInfo.storeName).count();Pe.onsuccess=function(){N(Pe.result)},Pe.onerror=function(){P(Pe.error)}}catch(Ze){P(Ze)}})}).catch(P)});return ce(C,be),C},key:function(be,Ke){var C=this,N=new re(function(P,j){be<0?P(null):C.ready().then(function(){rt(C._dbInfo,qe,function(ne,ve){if(ne)return j(ne);try{var Pe=ve.objectStore(C._dbInfo.storeName),Ze=!1,We=Pe.openKeyCursor();We.onsuccess=function(){var ht=We.result;ht?0===be||Ze?P(ht.key):(Ze=!0,ht.advance(be)):P(null)},We.onerror=function(){j(We.error)}}catch(ht){j(ht)}})}).catch(j)});return ce(N,Ke),N},keys:function(be){var Ke=this,C=new re(function(N,P){Ke.ready().then(function(){rt(Ke._dbInfo,qe,function(j,ne){if(j)return P(j);try{var Pe=ne.objectStore(Ke._dbInfo.storeName).openKeyCursor(),Ze=[];Pe.onsuccess=function(){var We=Pe.result;We?(Ze.push(We.key),We.continue()):N(Ze)},Pe.onerror=function(){P(Pe.error)}}catch(We){P(We)}})}).catch(P)});return ce(C,be),C},dropInstance:function(be,Ke){Ke=Xe.apply(this,arguments);var C=this.config();(be="function"!=typeof be&&be||{}).name||(be.name=be.name||C.name,be.storeName=be.storeName||C.storeName);var P,N=this;if(be.name){var ne=be.name===C.name&&N._dbInfo.db?re.resolve(N._dbInfo.db):Le(be).then(function(ve){var Pe=we[be.name],Ze=Pe.forages;Pe.db=ve;for(var We=0;We<Ze.length;We++)Ze[We]._dbInfo.db=ve;return ve});P=ne.then(be.storeName?function(ve){if(ve.objectStoreNames.contains(be.storeName)){var Pe=ve.version+1;Ue(be);var Ze=we[be.name],We=Ze.forages;ve.close();for(var ht=0;ht<We.length;ht++){var Lt=We[ht];Lt._dbInfo.db=null,Lt._dbInfo.version=Pe}return new re(function(hn,Sn){var Mr=J.open(be.name,Pe);Mr.onerror=function(Er){Mr.result.close(),Sn(Er)},Mr.onupgradeneeded=function(){Mr.result.deleteObjectStore(be.storeName)},Mr.onsuccess=function(){var Er=Mr.result;Er.close(),hn(Er)}}).then(function(hn){Ze.db=hn;for(var Sn=0;Sn<We.length;Sn++){var Mr=We[Sn];Mr._dbInfo.db=hn,Tt(Mr._dbInfo)}}).catch(function(hn){throw(Ve(be,hn)||re.resolve()).catch(function(){}),hn})}}:function(ve){Ue(be);var Pe=we[be.name],Ze=Pe.forages;ve.close();for(var We=0;We<Ze.length;We++)Ze[We]._dbInfo.db=null;return new re(function(Kt,hn){var Sn=J.deleteDatabase(be.name);Sn.onerror=function(){var Mr=Sn.result;Mr&&Mr.close(),hn(Sn.error)},Sn.onblocked=function(){console.warn('dropInstance blocked for database "'+be.name+'" until all open connections are closed')},Sn.onsuccess=function(){var Mr=Sn.result;Mr&&Mr.close(),Kt(Mr)}}).then(function(Kt){Pe.db=Kt;for(var hn=0;hn<Ze.length;hn++)Tt(Ze[hn]._dbInfo)}).catch(function(Kt){throw(Ve(be,Kt)||re.resolve()).catch(function(){}),Kt})})}else P=re.reject("Invalid arguments");return ce(P,Ke),P}};var $n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sr=/^~~local_forage_type~([^~]+)~/,an="__lfsc__:",Ar=an.length,Gn="arbf",Wn="blob",ti=Ar+Gn.length,_n=Object.prototype.toString;function fr(be){var N,j,ne,ve,Pe,Ke=.75*be.length,C=be.length,P=0;"="===be[be.length-1]&&(Ke--,"="===be[be.length-2]&&Ke--);var Ze=new ArrayBuffer(Ke),We=new Uint8Array(Ze);for(N=0;N<C;N+=4)j=$n.indexOf(be[N]),ne=$n.indexOf(be[N+1]),ve=$n.indexOf(be[N+2]),Pe=$n.indexOf(be[N+3]),We[P++]=j<<2|ne>>4,We[P++]=(15&ne)<<4|ve>>2,We[P++]=(3&ve)<<6|63&Pe;return Ze}function yr(be){var N,Ke=new Uint8Array(be),C="";for(N=0;N<Ke.length;N+=3)C+=$n[Ke[N]>>2],C+=$n[(3&Ke[N])<<4|Ke[N+1]>>4],C+=$n[(15&Ke[N+1])<<2|Ke[N+2]>>6],C+=$n[63&Ke[N+2]];return Ke.length%3==2?C=C.substring(0,C.length-1)+"=":Ke.length%3==1&&(C=C.substring(0,C.length-2)+"=="),C}var He={serialize:function(be,Ke){var C="";if(be&&(C=_n.call(be)),be&&("[object ArrayBuffer]"===C||be.buffer&&"[object ArrayBuffer]"===_n.call(be.buffer))){var N,P=an;be instanceof ArrayBuffer?(N=be,P+=Gn):(N=be.buffer,"[object Int8Array]"===C?P+="si08":"[object Uint8Array]"===C?P+="ui08":"[object Uint8ClampedArray]"===C?P+="uic8":"[object Int16Array]"===C?P+="si16":"[object Uint16Array]"===C?P+="ur16":"[object Int32Array]"===C?P+="si32":"[object Uint32Array]"===C?P+="ui32":"[object Float32Array]"===C?P+="fl32":"[object Float64Array]"===C?P+="fl64":Ke(new Error("Failed to get type for BinaryArray"))),Ke(P+yr(N))}else if("[object Blob]"===C){var j=new FileReader;j.onload=function(){var ne="~~local_forage_type~"+be.type+"~"+yr(this.result);Ke(an+Wn+ne)},j.readAsArrayBuffer(be)}else try{Ke(JSON.stringify(be))}catch(ne){console.error("Couldn't convert value into a JSON string: ",be),Ke(null,ne)}},deserialize:function(be){if(be.substring(0,Ar)!==an)return JSON.parse(be);var N,Ke=be.substring(ti),C=be.substring(Ar,ti);if(C===Wn&&sr.test(Ke)){var P=Ke.match(sr);N=P[1],Ke=Ke.substring(P[0].length)}var j=fr(Ke);switch(C){case Gn:return j;case Wn:return te([j],{type:N});case"si08":return new Int8Array(j);case"ui08":return new Uint8Array(j);case"uic8":return new Uint8ClampedArray(j);case"si16":return new Int16Array(j);case"ur16":return new Uint16Array(j);case"si32":return new Int32Array(j);case"ui32":return new Uint32Array(j);case"fl32":return new Float32Array(j);case"fl64":return new Float64Array(j);default:throw new Error("Unkown type: "+C)}},stringToBuffer:fr,bufferToString:yr};function st(be,Ke,C,N){be.executeSql("CREATE TABLE IF NOT EXISTS "+Ke.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],C,N)}function dt(be,Ke,C,N,P,j){be.executeSql(C,N,P,function(ne,ve){ve.code===ve.SYNTAX_ERR?ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ke.storeName],function(Pe,Ze){Ze.rows.length?j(Pe,ve):st(Pe,Ke,function(){Pe.executeSql(C,N,P,j)},j)},j):j(ne,ve)},j)}function Zn(be,Ke,C,N){var P=this;be=$e(be);var j=new re(function(ne,ve){P.ready().then(function(){void 0===Ke&&(Ke=null);var Pe=Ke,Ze=P._dbInfo;Ze.serializer.serialize(Ke,function(We,ht){ht?ve(ht):Ze.db.transaction(function(Lt){dt(Lt,Ze,"INSERT OR REPLACE INTO "+Ze.storeName+" (key, value) VALUES (?, ?)",[be,We],function(){ne(Pe)},function(Kt,hn){ve(hn)})},function(Lt){if(Lt.code===Lt.QUOTA_ERR){if(N>0)return void ne(Zn.apply(P,[be,Pe,C,N-1]));ve(Lt)}})})}).catch(ve)});return ce(j,C),j}function it(be){return new re(function(Ke,C){be.transaction(function(N){N.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(P,j){for(var ne=[],ve=0;ve<j.rows.length;ve++)ne.push(j.rows.item(ve).name);Ke({db:be,storeNames:ne})},function(P,j){C(j)})},function(N){C(N)})})}var kt={_driver:"webSQLStorage",_initStorage:function(be){var Ke=this,C={db:null};if(be)for(var N in be)C[N]="string"!=typeof be[N]?be[N].toString():be[N];var P=new re(function(j,ne){try{C.db=openDatabase(C.name,String(C.version),C.description,C.size)}catch(ve){return ne(ve)}C.db.transaction(function(ve){st(ve,C,function(){Ke._dbInfo=C,j()},function(Pe,Ze){ne(Ze)})},ne)});return C.serializer=He,P},_support:"function"==typeof openDatabase,iterate:function(be,Ke){var C=this,N=new re(function(P,j){C.ready().then(function(){var ne=C._dbInfo;ne.db.transaction(function(ve){dt(ve,ne,"SELECT * FROM "+ne.storeName,[],function(Pe,Ze){for(var We=Ze.rows,ht=We.length,Lt=0;Lt<ht;Lt++){var Kt=We.item(Lt),hn=Kt.value;if(hn&&(hn=ne.serializer.deserialize(hn)),void 0!==(hn=be(hn,Kt.key,Lt+1)))return void P(hn)}P()},function(Pe,Ze){j(Ze)})})}).catch(j)});return ce(N,Ke),N},getItem:function(be,Ke){var C=this;be=$e(be);var N=new re(function(P,j){C.ready().then(function(){var ne=C._dbInfo;ne.db.transaction(function(ve){dt(ve,ne,"SELECT * FROM "+ne.storeName+" WHERE key = ? LIMIT 1",[be],function(Pe,Ze){var We=Ze.rows.length?Ze.rows.item(0).value:null;We&&(We=ne.serializer.deserialize(We)),P(We)},function(Pe,Ze){j(Ze)})})}).catch(j)});return ce(N,Ke),N},setItem:function(be,Ke,C){return Zn.apply(this,[be,Ke,C,1])},removeItem:function(be,Ke){var C=this;be=$e(be);var N=new re(function(P,j){C.ready().then(function(){var ne=C._dbInfo;ne.db.transaction(function(ve){dt(ve,ne,"DELETE FROM "+ne.storeName+" WHERE key = ?",[be],function(){P()},function(Pe,Ze){j(Ze)})})}).catch(j)});return ce(N,Ke),N},clear:function(be){var Ke=this,C=new re(function(N,P){Ke.ready().then(function(){var j=Ke._dbInfo;j.db.transaction(function(ne){dt(ne,j,"DELETE FROM "+j.storeName,[],function(){N()},function(ve,Pe){P(Pe)})})}).catch(P)});return ce(C,be),C},length:function(be){var Ke=this,C=new re(function(N,P){Ke.ready().then(function(){var j=Ke._dbInfo;j.db.transaction(function(ne){dt(ne,j,"SELECT COUNT(key) as c FROM "+j.storeName,[],function(ve,Pe){var Ze=Pe.rows.item(0).c;N(Ze)},function(ve,Pe){P(Pe)})})}).catch(P)});return ce(C,be),C},key:function(be,Ke){var C=this,N=new re(function(P,j){C.ready().then(function(){var ne=C._dbInfo;ne.db.transaction(function(ve){dt(ve,ne,"SELECT key FROM "+ne.storeName+" WHERE id = ? LIMIT 1",[be+1],function(Pe,Ze){var We=Ze.rows.length?Ze.rows.item(0).key:null;P(We)},function(Pe,Ze){j(Ze)})})}).catch(j)});return ce(N,Ke),N},keys:function(be){var Ke=this,C=new re(function(N,P){Ke.ready().then(function(){var j=Ke._dbInfo;j.db.transaction(function(ne){dt(ne,j,"SELECT key FROM "+j.storeName,[],function(ve,Pe){for(var Ze=[],We=0;We<Pe.rows.length;We++)Ze.push(Pe.rows.item(We).key);N(Ze)},function(ve,Pe){P(Pe)})})}).catch(P)});return ce(C,be),C},dropInstance:function(be,Ke){Ke=Xe.apply(this,arguments);var C=this.config();(be="function"!=typeof be&&be||{}).name||(be.name=be.name||C.name,be.storeName=be.storeName||C.storeName);var P,N=this;return ce(P=be.name?new re(function(j){var ne;ne=be.name===C.name?N._dbInfo.db:openDatabase(be.name,"","",0),j(be.storeName?{db:ne,storeNames:[be.storeName]}:it(ne))}).then(function(j){return new re(function(ne,ve){j.db.transaction(function(Pe){function Ze(Kt){return new re(function(hn,Sn){Pe.executeSql("DROP TABLE IF EXISTS "+Kt,[],function(){hn()},function(Mr,Er){Sn(Er)})})}for(var We=[],ht=0,Lt=j.storeNames.length;ht<Lt;ht++)We.push(Ze(j.storeNames[ht]));re.all(We).then(function(){ne()}).catch(function(Kt){ve(Kt)})},function(Pe){ve(Pe)})})}):re.reject("Invalid arguments"),Ke),P}};function Bn(be,Ke){var C=be.name+"/";return be.storeName!==Ke.storeName&&(C+=be.storeName+"/"),C}function Un(){return!function(){var be="_localforage_support_test";try{return localStorage.setItem(be,!0),localStorage.removeItem(be),!1}catch(Ke){return!0}}()||localStorage.length>0}var jn={_driver:"localStorageWrapper",_initStorage:function(be){var C={};if(be)for(var N in be)C[N]=be[N];return C.keyPrefix=Bn(be,this._defaultConfig),Un()?(this._dbInfo=C,C.serializer=He,re.resolve()):re.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(be){return!1}}(),iterate:function(be,Ke){var C=this,N=C.ready().then(function(){for(var P=C._dbInfo,j=P.keyPrefix,ne=j.length,ve=localStorage.length,Pe=1,Ze=0;Ze<ve;Ze++){var We=localStorage.key(Ze);if(0===We.indexOf(j)){var ht=localStorage.getItem(We);if(ht&&(ht=P.serializer.deserialize(ht)),void 0!==(ht=be(ht,We.substring(ne),Pe++)))return ht}}});return ce(N,Ke),N},getItem:function(be,Ke){var C=this;be=$e(be);var N=C.ready().then(function(){var P=C._dbInfo,j=localStorage.getItem(P.keyPrefix+be);return j&&(j=P.serializer.deserialize(j)),j});return ce(N,Ke),N},setItem:function(be,Ke,C){var N=this;be=$e(be);var P=N.ready().then(function(){void 0===Ke&&(Ke=null);var j=Ke;return new re(function(ne,ve){var Pe=N._dbInfo;Pe.serializer.serialize(Ke,function(Ze,We){if(We)ve(We);else try{localStorage.setItem(Pe.keyPrefix+be,Ze),ne(j)}catch(ht){("QuotaExceededError"===ht.name||"NS_ERROR_DOM_QUOTA_REACHED"===ht.name)&&ve(ht),ve(ht)}})})});return ce(P,C),P},removeItem:function(be,Ke){var C=this;be=$e(be);var N=C.ready().then(function(){localStorage.removeItem(C._dbInfo.keyPrefix+be)});return ce(N,Ke),N},clear:function(be){var Ke=this,C=Ke.ready().then(function(){for(var N=Ke._dbInfo.keyPrefix,P=localStorage.length-1;P>=0;P--){var j=localStorage.key(P);0===j.indexOf(N)&&localStorage.removeItem(j)}});return ce(C,be),C},length:function(be){var C=this.keys().then(function(N){return N.length});return ce(C,be),C},key:function(be,Ke){var C=this,N=C.ready().then(function(){var j,P=C._dbInfo;try{j=localStorage.key(be)}catch(ne){j=null}return j&&(j=j.substring(P.keyPrefix.length)),j});return ce(N,Ke),N},keys:function(be){var Ke=this,C=Ke.ready().then(function(){for(var N=Ke._dbInfo,P=localStorage.length,j=[],ne=0;ne<P;ne++){var ve=localStorage.key(ne);0===ve.indexOf(N.keyPrefix)&&j.push(ve.substring(N.keyPrefix.length))}return j});return ce(C,be),C},dropInstance:function(be,Ke){if(Ke=Xe.apply(this,arguments),!(be="function"!=typeof be&&be||{}).name){var C=this.config();be.name=be.name||C.name,be.storeName=be.storeName||C.storeName}var P,N=this;return ce(P=be.name?new re(function(j){j(be.storeName?Bn(be,N._defaultConfig):be.name+"/")}).then(function(j){for(var ne=localStorage.length-1;ne>=0;ne--){var ve=localStorage.key(ne);0===ve.indexOf(j)&&localStorage.removeItem(ve)}}):re.reject("Invalid arguments"),Ke),P}},Kr=function(Ke,C){return Ke===C||"number"==typeof Ke&&"number"==typeof C&&isNaN(Ke)&&isNaN(C)},Lr=function(Ke,C){for(var N=Ke.length,P=0;P<N;){if(Kr(Ke[P],C))return!0;P++}return!1},Mn=Array.isArray||function(be){return"[object Array]"===Object.prototype.toString.call(be)},qr={},Vr={},Zr={INDEXEDDB:hr,WEBSQL:kt,LOCALSTORAGE:jn},Jr=[Zr.INDEXEDDB._driver,Zr.WEBSQL._driver,Zr.LOCALSTORAGE._driver],vr=["dropInstance"],vi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(vr),gi={description:"",driver:Jr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Qr(be,Ke){be[Ke]=function(){var C=arguments;return be.ready().then(function(){return be[Ke].apply(be,C)})}}function dr(){for(var be=1;be<arguments.length;be++){var Ke=arguments[be];if(Ke)for(var C in Ke)Ke.hasOwnProperty(C)&&(arguments[0][C]=Mn(Ke[C])?Ke[C].slice():Ke[C])}return arguments[0]}var Ii=function(){function be(Ke){for(var C in function(be,Ke){if(!(be instanceof Ke))throw new TypeError("Cannot call a class as a function")}(this,be),Zr)if(Zr.hasOwnProperty(C)){var N=Zr[C],P=N._driver;this[C]=P,qr[P]||this.defineDriver(N)}this._defaultConfig=dr({},gi),this._config=dr({},this._defaultConfig,Ke),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return be.prototype.config=function(C){if("object"===(void 0===C?"undefined":ye(C))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var N in C){if("storeName"===N&&(C[N]=C[N].replace(/\W/g,"_")),"version"===N&&"number"!=typeof C[N])return new Error("Database version must be a number.");this._config[N]=C[N]}return!("driver"in C)||!C.driver||this.setDriver(this._config.driver)}return"string"==typeof C?this._config[C]:this._config},be.prototype.defineDriver=function(C,N,P){var j=new re(function(ne,ve){try{var Pe=C._driver,Ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!C._driver)return void ve(Ze);for(var We=vi.concat("_initStorage"),ht=0,Lt=We.length;ht<Lt;ht++){var Kt=We[ht];if((!Lr(vr,Kt)||C[Kt])&&"function"!=typeof C[Kt])return void ve(Ze)}!function(){for(var si=function(ls){return function(){var Es=new Error("Method "+ls+" is not implemented by the current driver"),oi=re.reject(Es);return ce(oi,arguments[arguments.length-1]),oi}},$i=0,gs=vr.length;$i<gs;$i++){var as=vr[$i];C[as]||(C[as]=si(as))}}();var Mr=function(si){qr[Pe]&&console.info("Redefining LocalForage driver: "+Pe),qr[Pe]=C,Vr[Pe]=si,ne()};"_support"in C?C._support&&"function"==typeof C._support?C._support().then(Mr,ve):Mr(!!C._support):Mr(!0)}catch(Er){ve(Er)}});return ie(j,N,P),j},be.prototype.driver=function(){return this._driver||null},be.prototype.getDriver=function(C,N,P){var j=qr[C]?re.resolve(qr[C]):re.reject(new Error("Driver not found."));return ie(j,N,P),j},be.prototype.getSerializer=function(C){var N=re.resolve(He);return ie(N,C),N},be.prototype.ready=function(C){var N=this,P=N._driverSet.then(function(){return null===N._ready&&(N._ready=N._initDriver()),N._ready});return ie(P,C,C),P},be.prototype.setDriver=function(C,N,P){var j=this;Mn(C)||(C=[C]);var ne=this._getSupportedDrivers(C);function ve(){j._config.driver=j.driver()}function Pe(ht){return j._extend(ht),ve(),j._ready=j._initStorage(j._config),j._ready}var We=null!==this._driverSet?this._driverSet.catch(function(){return re.resolve()}):re.resolve();return this._driverSet=We.then(function(){var ht=ne[0];return j._dbInfo=null,j._ready=null,j.getDriver(ht).then(function(Lt){j._driver=Lt._driver,ve(),j._wrapLibraryMethodsWithReady(),j._initDriver=function(ht){return function(){var Lt=0;return function Kt(){for(;Lt<ht.length;){var hn=ht[Lt];return Lt++,j._dbInfo=null,j._ready=null,j.getDriver(hn).then(Pe).catch(Kt)}ve();var Sn=new Error("No available storage method found.");return j._driverSet=re.reject(Sn),j._driverSet}()}}(ne)})}).catch(function(){ve();var ht=new Error("No available storage method found.");return j._driverSet=re.reject(ht),j._driverSet}),ie(this._driverSet,N,P),this._driverSet},be.prototype.supports=function(C){return!!Vr[C]},be.prototype._extend=function(C){dr(this,C)},be.prototype._getSupportedDrivers=function(C){for(var N=[],P=0,j=C.length;P<j;P++){var ne=C[P];this.supports(ne)&&N.push(ne)}return N},be.prototype._wrapLibraryMethodsWithReady=function(){for(var C=0,N=vi.length;C<N;C++)Qr(this,vi[C])},be.prototype.createInstance=function(C){return new be(C)},be}(),ci=new Ii;q.exports=ci},{3:3}]},{},[4])(4)},4099:(Gt,at,H)=>{"use strict";H.d(at,{X:()=>q});var u=H(3405),$=H(2108);class q extends u.xQ{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const de=super._subscribe(ye);return de&&!de.closed&&ye.next(this._value),de}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $.N;return this._value}next(ye){super.next(this._value=ye)}}},8085:(Gt,at,H)=>{"use strict";H.d(at,{P:()=>ye});var u=H(172),$=H(2411),q=H(540);class ye{constructor(he,J,me){this.kind=he,this.value=J,this.error=me,this.hasValue="N"===he}observe(he){switch(this.kind){case"N":return he.next&&he.next(this.value);case"E":return he.error&&he.error(this.error);case"C":return he.complete&&he.complete()}}do(he,J,me){switch(this.kind){case"N":return he&&he(this.value);case"E":return J&&J(this.error);case"C":return me&&me()}}accept(he,J,me){return he&&"function"==typeof he.next?this.observe(he):this.do(he,J,me)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return(0,q._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(he){return void 0!==he?new ye("N",he):ye.undefinedValueNotification}static createError(he){return new ye("E",void 0,he)}static createComplete(){return ye.completeNotification}}ye.completeNotification=new ye("C"),ye.undefinedValueNotification=new ye("N",void 0)},5548:(Gt,at,H)=>{"use strict";H.d(at,{y:()=>re});var u=H(4168),q=H(2926),Me=H(6617),de=H(1359),he=H(7255);var te=H(5426);let re=(()=>{class ie{constructor(Xe){this._isScalar=!1,Xe&&(this._subscribe=Xe)}lift(Xe){const Te=new ie;return Te.source=this,Te.operator=Xe,Te}subscribe(Xe,Te,Re){const{operator:we}=this,Be=function(ie,$e,Xe){if(ie){if(ie instanceof u.L)return ie;if(ie[q.b])return ie[q.b]()}return ie||$e||Xe?new u.L(ie,$e,Xe):new u.L(Me.c)}(Xe,Te,Re);if(Be.add(we?we.call(Be,this.source):this.source||te.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),te.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(Te){te.v.useDeprecatedSynchronousErrorHandling&&(Xe.syncErrorThrown=!0,Xe.syncErrorValue=Te),function(ie){for(;ie;){const{closed:$e,destination:Xe,isStopped:Te}=ie;if($e||Te)return!1;ie=Xe&&Xe instanceof u.L?Xe:null}return!0}(Xe)?Xe.error(Te):console.warn(Te)}}forEach(Xe,Te){return new(Te=ce(Te))((Re,we)=>{let Be;Be=this.subscribe(qe=>{try{Xe(qe)}catch(De){we(De),Be&&Be.unsubscribe()}},we,Re)})}_subscribe(Xe){const{source:Te}=this;return Te&&Te.subscribe(Xe)}[de.L](){return this}pipe(...Xe){return 0===Xe.length?this:function(ie){return 0===ie.length?he.y:1===ie.length?ie[0]:function(Xe){return ie.reduce((Te,Re)=>Re(Te),Xe)}}(Xe)(this)}toPromise(Xe){return new(Xe=ce(Xe))((Te,Re)=>{let we;this.subscribe(Be=>we=Be,Be=>Re(Be),()=>Te(we))})}}return ie.create=$e=>new ie($e),ie})();function ce(ie){if(ie||(ie=te.v.Promise||Promise),!ie)throw new Error("no Promise impl found");return ie}},6617:(Gt,at,H)=>{"use strict";H.d(at,{c:()=>q});var u=H(5426),$=H(9887);const q={closed:!0,next(Me){},error(Me){if(u.v.useDeprecatedSynchronousErrorHandling)throw Me;(0,$.z)(Me)},complete(){}}},5330:(Gt,at,H)=>{"use strict";H.d(at,{L:()=>$});var u=H(4168);class $ extends u.L{notifyNext(Me,ye,de,he,J){this.destination.next(ye)}notifyError(Me,ye){this.destination.error(Me)}notifyComplete(Me){this.destination.complete()}}},3405:(Gt,at,H)=>{"use strict";H.d(at,{Yc:()=>he,xQ:()=>J});var u=H(5548),$=H(4168),q=H(1346),Me=H(2108),ye=H(5973),de=H(2926);class he extends $.L{constructor(re){super(re),this.destination=re}}let J=(()=>{class te extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[de.b](){return new he(this)}lift(ce){const ie=new me(this,this);return ie.operator=ce,ie}next(ce){if(this.closed)throw new Me.N;if(!this.isStopped){const{observers:ie}=this,$e=ie.length,Xe=ie.slice();for(let Te=0;Te<$e;Te++)Xe[Te].next(ce)}}error(ce){if(this.closed)throw new Me.N;this.hasError=!0,this.thrownError=ce,this.isStopped=!0;const{observers:ie}=this,$e=ie.length,Xe=ie.slice();for(let Te=0;Te<$e;Te++)Xe[Te].error(ce);this.observers.length=0}complete(){if(this.closed)throw new Me.N;this.isStopped=!0;const{observers:ce}=this,ie=ce.length,$e=ce.slice();for(let Xe=0;Xe<ie;Xe++)$e[Xe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ce){if(this.closed)throw new Me.N;return super._trySubscribe(ce)}_subscribe(ce){if(this.closed)throw new Me.N;return this.hasError?(ce.error(this.thrownError),q.w.EMPTY):this.isStopped?(ce.complete(),q.w.EMPTY):(this.observers.push(ce),new ye.W(this,ce))}asObservable(){const ce=new u.y;return ce.source=this,ce}}return te.create=(re,ce)=>new me(re,ce),te})();class me extends J{constructor(re,ce){super(),this.destination=re,this.source=ce}next(re){const{destination:ce}=this;ce&&ce.next&&ce.next(re)}error(re){const{destination:ce}=this;ce&&ce.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:ce}=this;return ce?this.source.subscribe(re):q.w.EMPTY}}},5973:(Gt,at,H)=>{"use strict";H.d(at,{W:()=>$});var u=H(1346);class $ extends u.w{constructor(Me,ye){super(),this.subject=Me,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Me=this.subject,ye=Me.observers;if(this.subject=null,!ye||0===ye.length||Me.isStopped||Me.closed)return;const de=ye.indexOf(this.subscriber);-1!==de&&ye.splice(de,1)}}},4168:(Gt,at,H)=>{"use strict";H.d(at,{L:()=>he});var u=H(6783),$=H(6617),q=H(1346),Me=H(2926),ye=H(5426),de=H(9887);class he extends q.w{constructor(te,re,ce){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$.c;break;case 1:if(!te){this.destination=$.c;break}if("object"==typeof te){te instanceof he?(this.syncErrorThrowable=te.syncErrorThrowable,this.destination=te,te.add(this)):(this.syncErrorThrowable=!0,this.destination=new J(this,te));break}default:this.syncErrorThrowable=!0,this.destination=new J(this,te,re,ce)}}[Me.b](){return this}static create(te,re,ce){const ie=new he(te,re,ce);return ie.syncErrorThrowable=!1,ie}next(te){this.isStopped||this._next(te)}error(te){this.isStopped||(this.isStopped=!0,this._error(te))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(te){this.destination.next(te)}_error(te){this.destination.error(te),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:te}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=te,this}}class J extends he{constructor(te,re,ce,ie){super(),this._parentSubscriber=te;let $e,Xe=this;(0,u.m)(re)?$e=re:re&&($e=re.next,ce=re.error,ie=re.complete,re!==$.c&&(Xe=Object.create(re),(0,u.m)(Xe.unsubscribe)&&this.add(Xe.unsubscribe.bind(Xe)),Xe.unsubscribe=this.unsubscribe.bind(this))),this._context=Xe,this._next=$e,this._error=ce,this._complete=ie}next(te){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;ye.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,te)&&this.unsubscribe():this.__tryOrUnsub(this._next,te)}}error(te){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:ce}=ye.v;if(this._error)ce&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,te),this.unsubscribe()):(this.__tryOrUnsub(this._error,te),this.unsubscribe());else if(re.syncErrorThrowable)ce?(re.syncErrorValue=te,re.syncErrorThrown=!0):(0,de.z)(te),this.unsubscribe();else{if(this.unsubscribe(),ce)throw te;(0,de.z)(te)}}}complete(){if(!this.isStopped){const{_parentSubscriber:te}=this;if(this._complete){const re=()=>this._complete.call(this._context);ye.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?(this.__tryOrSetError(te,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(te,re){try{te.call(this._context,re)}catch(ce){if(this.unsubscribe(),ye.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,de.z)(ce)}}__tryOrSetError(te,re,ce){if(!ye.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,ce)}catch(ie){return ye.v.useDeprecatedSynchronousErrorHandling?(te.syncErrorValue=ie,te.syncErrorThrown=!0,!0):((0,de.z)(ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:te}=this;this._context=null,this._parentSubscriber=null,te.unsubscribe()}}},1346:(Gt,at,H)=>{"use strict";H.d(at,{w:()=>de});var u=H(5894),$=H(7879),q=H(6783);const ye=(()=>{function J(me){return Error.call(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((te,re)=>`${re+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me,this}return J.prototype=Object.create(Error.prototype),J})();class de{constructor(me){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,me&&(this._ctorUnsubscribe=!0,this._unsubscribe=me)}unsubscribe(){let me;if(this.closed)return;let{_parentOrParents:te,_ctorUnsubscribe:re,_unsubscribe:ce,_subscriptions:ie}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,te instanceof de)te.remove(this);else if(null!==te)for(let $e=0;$e<te.length;++$e)te[$e].remove(this);if((0,q.m)(ce)){re&&(this._unsubscribe=void 0);try{ce.call(this)}catch($e){me=$e instanceof ye?he($e.errors):[$e]}}if((0,u.k)(ie)){let $e=-1,Xe=ie.length;for(;++$e<Xe;){const Te=ie[$e];if((0,$.K)(Te))try{Te.unsubscribe()}catch(Re){me=me||[],Re instanceof ye?me=me.concat(he(Re.errors)):me.push(Re)}}}if(me)throw new ye(me)}add(me){let te=me;if(!me)return de.EMPTY;switch(typeof me){case"function":te=new de(me);case"object":if(te===this||te.closed||"function"!=typeof te.unsubscribe)return te;if(this.closed)return te.unsubscribe(),te;if(!(te instanceof de)){const ie=te;te=new de,te._subscriptions=[ie]}break;default:throw new Error("unrecognized teardown "+me+" added to Subscription.")}let{_parentOrParents:re}=te;if(null===re)te._parentOrParents=this;else if(re instanceof de){if(re===this)return te;te._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return te;re.push(this)}const ce=this._subscriptions;return null===ce?this._subscriptions=[te]:ce.push(te),te}remove(me){const te=this._subscriptions;if(te){const re=te.indexOf(me);-1!==re&&te.splice(re,1)}}}var J;function he(J){return J.reduce((me,te)=>me.concat(te instanceof ye?te.errors:te),[])}de.EMPTY=((J=new de).closed=!0,J)},5426:(Gt,at,H)=>{"use strict";H.d(at,{v:()=>$});let u=!1;const $={Promise:void 0,set useDeprecatedSynchronousErrorHandling(q){if(q){const Me=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Me.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=q},get useDeprecatedSynchronousErrorHandling(){return u}}},8345:(Gt,at,H)=>{"use strict";H.d(at,{IY:()=>Me,Ds:()=>de,ft:()=>J});var u=H(4168),$=H(5548),q=H(4651);class Me extends u.L{constructor(te){super(),this.parent=te}_next(te){this.parent.notifyNext(te)}_error(te){this.parent.notifyError(te),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class de extends u.L{notifyNext(te){this.destination.next(te)}notifyError(te){this.destination.error(te)}notifyComplete(){this.destination.complete()}}function J(me,te){if(te.closed)return;if(me instanceof $.y)return me.subscribe(te);let re;try{re=(0,q.s)(me)(te)}catch(ce){te.error(ce)}return re}},5783:(Gt,at,H)=>{"use strict";H.d(at,{c:()=>ye,N:()=>de});var u=H(3405),$=H(5548),q=H(1346),Me=H(5234);class ye extends $.y{constructor(re,ce){super(),this.source=re,this.subjectFactory=ce,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new q.w,re.add(this.source.subscribe(new he(this.getSubject(),this))),re.closed&&(this._connection=null,re=q.w.EMPTY)),re}refCount(){return(0,Me.x)()(this)}}const de=(()=>{const te=ye.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}}})();class he extends u.Yc{constructor(re,ce){super(re),this.connectable=ce}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const ce=re._connection;re._refCount=0,re._subject=null,re._connection=null,ce&&ce.unsubscribe()}}}},3596:(Gt,at,H)=>{"use strict";H.d(at,{z:()=>Me});var u=H(2411),$=H(2225);function Me(...ye){return(0,$.J)(1)((0,u.of)(...ye))}},5476:(Gt,at,H)=>{"use strict";H.d(at,{P:()=>Me});var u=H(5548),$=H(1915),q=H(172);function Me(ye){return new u.y(de=>{let he;try{he=ye()}catch(me){return void de.error(me)}return(he?(0,$.D)(he):(0,q.c)()).subscribe(de)})}},172:(Gt,at,H)=>{"use strict";H.d(at,{E:()=>$,c:()=>q});var u=H(5548);const $=new u.y(ye=>ye.complete());function q(ye){return ye?function(ye){return new u.y(de=>ye.schedule(()=>de.complete()))}(ye):$}},1915:(Gt,at,H)=>{"use strict";H.d(at,{D:()=>Xe});var u=H(5548),$=H(4651),q=H(1346),Me=H(1359),he=H(3428),J=H(4352),re=H(847),ce=H(1265);function Xe(Te,Re){return Re?function(Te,Re){if(null!=Te){if(function(Te){return Te&&"function"==typeof Te[Me.L]}(Te))return function(Te,Re){return new u.y(we=>{const Be=new q.w;return Be.add(Re.schedule(()=>{const qe=Te[Me.L]();Be.add(qe.subscribe({next(De){Be.add(Re.schedule(()=>we.next(De)))},error(De){Be.add(Re.schedule(()=>we.error(De)))},complete(){Be.add(Re.schedule(()=>we.complete()))}}))})),Be})}(Te,Re);if((0,re.t)(Te))return function(Te,Re){return new u.y(we=>{const Be=new q.w;return Be.add(Re.schedule(()=>Te.then(qe=>{Be.add(Re.schedule(()=>{we.next(qe),Be.add(Re.schedule(()=>we.complete()))}))},qe=>{Be.add(Re.schedule(()=>we.error(qe)))}))),Be})}(Te,Re);if((0,ce.z)(Te))return(0,he.r)(Te,Re);if(function(Te){return Te&&"function"==typeof Te[J.hZ]}(Te)||"string"==typeof Te)return function(Te,Re){if(!Te)throw new Error("Iterable cannot be null");return new u.y(we=>{const Be=new q.w;let qe;return Be.add(()=>{qe&&"function"==typeof qe.return&&qe.return()}),Be.add(Re.schedule(()=>{qe=Te[J.hZ](),Be.add(Re.schedule(function(){if(we.closed)return;let De,ke;try{const Ye=qe.next();De=Ye.value,ke=Ye.done}catch(Ye){return void we.error(Ye)}ke?we.complete():(we.next(De),this.schedule())}))})),Be})}(Te,Re)}throw new TypeError((null!==Te&&typeof Te||Te)+" is not observable")}(Te,Re):Te instanceof u.y?Te:new u.y((0,$.s)(Te))}},5433:(Gt,at,H)=>{"use strict";H.d(at,{n:()=>Me});var u=H(5548),$=H(8769),q=H(3428);function Me(ye,de){return de?(0,q.r)(ye,de):new u.y((0,$.V)(ye))}},9506:(Gt,at,H)=>{"use strict";H.d(at,{R:()=>de});var u=H(5548),$=H(5894),q=H(6783),Me=H(8053);function de(re,ce,ie,$e){return(0,q.m)(ie)&&($e=ie,ie=void 0),$e?de(re,ce,ie).pipe((0,Me.U)(Xe=>(0,$.k)(Xe)?$e(...Xe):$e(Xe))):new u.y(Xe=>{he(re,ce,function(Re){Xe.next(arguments.length>1?Array.prototype.slice.call(arguments):Re)},Xe,ie)})}function he(re,ce,ie,$e,Xe){let Te;if(function(re){return re&&"function"==typeof re.addEventListener&&"function"==typeof re.removeEventListener}(re)){const Re=re;re.addEventListener(ce,ie,Xe),Te=()=>Re.removeEventListener(ce,ie,Xe)}else if(function(re){return re&&"function"==typeof re.on&&"function"==typeof re.off}(re)){const Re=re;re.on(ce,ie),Te=()=>Re.off(ce,ie)}else if(function(re){return re&&"function"==typeof re.addListener&&"function"==typeof re.removeListener}(re)){const Re=re;re.addListener(ce,ie),Te=()=>Re.removeListener(ce,ie)}else{if(!re||!re.length)throw new TypeError("Invalid event target");for(let Re=0,we=re.length;Re<we;Re++)he(re[Re],ce,ie,$e,Xe)}$e.add(Te)}},8526:(Gt,at,H)=>{"use strict";H.d(at,{T:()=>ye});var u=H(5548),$=H(8151),q=H(2225),Me=H(5433);function ye(...de){let he=Number.POSITIVE_INFINITY,J=null,me=de[de.length-1];return(0,$.K)(me)?(J=de.pop(),de.length>1&&"number"==typeof de[de.length-1]&&(he=de.pop())):"number"==typeof me&&(he=de.pop()),null===J&&1===de.length&&de[0]instanceof u.y?de[0]:(0,q.J)(he)((0,Me.n)(de,J))}},2411:(Gt,at,H)=>{"use strict";H.d(at,{of:()=>Me});var u=H(8151),$=H(5433),q=H(3428);function Me(...ye){let de=ye[ye.length-1];return(0,u.K)(de)?(ye.pop(),(0,q.r)(ye,de)):(0,$.n)(ye)}},540:(Gt,at,H)=>{"use strict";H.d(at,{_:()=>$});var u=H(5548);function $(Me,ye){return new u.y(ye?de=>ye.schedule(q,0,{error:Me,subscriber:de}):de=>de.error(Me))}function q({error:Me,subscriber:ye}){ye.error(Me)}},3507:(Gt,at,H)=>{"use strict";H.d(at,{d:()=>$});var u=H(4168);function $(ye=null){return de=>de.lift(new q(ye))}class q{constructor(de){this.defaultValue=de}call(de,he){return he.subscribe(new Me(de,this.defaultValue))}}class Me extends u.L{constructor(de,he){super(de),this.defaultValue=he,this.isEmpty=!0}_next(de){this.isEmpty=!1,this.destination.next(de)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5389:(Gt,at,H)=>{"use strict";H.d(at,{x:()=>$});var u=H(4168);function $(ye,de){return he=>he.lift(new q(ye,de))}class q{constructor(de,he){this.compare=de,this.keySelector=he}call(de,he){return he.subscribe(new Me(de,this.compare,this.keySelector))}}class Me extends u.L{constructor(de,he,J){super(de),this.keySelector=J,this.hasKey=!1,"function"==typeof he&&(this.compare=he)}compare(de,he){return de===he}_next(de){let he;try{const{keySelector:me}=this;he=me?me(de):de}catch(me){return this.destination.error(me)}let J=!1;if(this.hasKey)try{const{compare:me}=this;J=me(this.key,he)}catch(me){return this.destination.error(me)}else this.hasKey=!0;J||(this.key=he,this.destination.next(de))}}},8735:(Gt,at,H)=>{"use strict";H.d(at,{h:()=>$});var u=H(4168);function $(ye,de){return function(J){return J.lift(new q(ye,de))}}class q{constructor(de,he){this.predicate=de,this.thisArg=he}call(de,he){return he.subscribe(new Me(de,this.predicate,this.thisArg))}}class Me extends u.L{constructor(de,he,J){super(de),this.predicate=he,this.thisArg=J,this.count=0}_next(de){let he;try{he=this.predicate.call(this.thisArg,de,this.count++)}catch(J){return void this.destination.error(J)}he&&this.destination.next(de)}}},739:(Gt,at,H)=>{"use strict";H.d(at,{P:()=>he});var u=H(9443),$=H(8735),q=H(6636),Me=H(3507),ye=H(6225),de=H(7255);function he(J,me){const te=arguments.length>=2;return re=>re.pipe(J?(0,$.h)((ce,ie)=>J(ce,ie,re)):de.y,(0,q.q)(1),te?(0,Me.d)(me):(0,ye.T)(()=>new u.K))}},8053:(Gt,at,H)=>{"use strict";H.d(at,{U:()=>$});var u=H(4168);function $(ye,de){return function(J){if("function"!=typeof ye)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return J.lift(new q(ye,de))}}class q{constructor(de,he){this.project=de,this.thisArg=he}call(de,he){return he.subscribe(new Me(de,this.project,this.thisArg))}}class Me extends u.L{constructor(de,he,J){super(de),this.project=he,this.count=0,this.thisArg=J||this}_next(de){let he;try{he=this.project.call(this.thisArg,de,this.count++)}catch(J){return void this.destination.error(J)}this.destination.next(he)}}},2225:(Gt,at,H)=>{"use strict";H.d(at,{J:()=>q});var u=H(4421),$=H(7255);function q(Me=Number.POSITIVE_INFINITY){return(0,u.zg)($.y,Me)}},4421:(Gt,at,H)=>{"use strict";H.d(at,{zg:()=>Me});var u=H(8053),$=H(1915),q=H(8345);function Me(J,me,te=Number.POSITIVE_INFINITY){return"function"==typeof me?re=>re.pipe(Me((ce,ie)=>(0,$.D)(J(ce,ie)).pipe((0,u.U)(($e,Xe)=>me(ce,$e,ie,Xe))),te)):("number"==typeof me&&(te=me),re=>re.lift(new ye(J,te)))}class ye{constructor(me,te=Number.POSITIVE_INFINITY){this.project=me,this.concurrent=te}call(me,te){return te.subscribe(new de(me,this.project,this.concurrent))}}class de extends q.Ds{constructor(me,te,re=Number.POSITIVE_INFINITY){super(me),this.project=te,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(me){this.active<this.concurrent?this._tryNext(me):this.buffer.push(me)}_tryNext(me){let te;const re=this.index++;try{te=this.project(me,re)}catch(ce){return void this.destination.error(ce)}this.active++,this._innerSub(te)}_innerSub(me){const te=new q.IY(this),re=this.destination;re.add(te);const ce=(0,q.ft)(me,te);ce!==te&&re.add(ce)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(me){this.destination.next(me)}notifyComplete(){const me=this.buffer;this.active--,me.length>0?this._next(me.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6087:(Gt,at,H)=>{"use strict";H.d(at,{O:()=>$});var u=H(5783);function $(Me,ye){return function(he){let J;if(J="function"==typeof Me?Me:function(){return Me},"function"==typeof ye)return he.lift(new q(J,ye));const me=Object.create(he,u.N);return me.source=he,me.subjectFactory=J,me}}class q{constructor(ye,de){this.subjectFactory=ye,this.selector=de}call(ye,de){const{selector:he}=this,J=this.subjectFactory(),me=he(J).subscribe(ye);return me.add(de.subscribe(J)),me}}},9748:(Gt,at,H)=>{"use strict";H.d(at,{QV:()=>q,ht:()=>ye});var u=H(4168),$=H(8085);function q(he,J=0){return function(te){return te.lift(new Me(he,J))}}class Me{constructor(J,me=0){this.scheduler=J,this.delay=me}call(J,me){return me.subscribe(new ye(J,this.scheduler,this.delay))}}class ye extends u.L{constructor(J,me,te=0){super(J),this.scheduler=me,this.delay=te}static dispatch(J){const{notification:me,destination:te}=J;me.observe(te),this.unsubscribe()}scheduleMessage(J){this.destination.add(this.scheduler.schedule(ye.dispatch,this.delay,new de(J,this.destination)))}_next(J){this.scheduleMessage($.P.createNext(J))}_error(J){this.scheduleMessage($.P.createError(J)),this.unsubscribe()}_complete(){this.scheduleMessage($.P.createComplete()),this.unsubscribe()}}class de{constructor(J,me){this.notification=J,this.destination=me}}},5234:(Gt,at,H)=>{"use strict";H.d(at,{x:()=>$});var u=H(4168);function $(){return function(de){return de.lift(new q(de))}}class q{constructor(de){this.connectable=de}call(de,he){const{connectable:J}=this;J._refCount++;const me=new Me(de,J),te=he.subscribe(me);return me.closed||(me.connection=J.connect()),te}}class Me extends u.L{constructor(de,he){super(de),this.connectable=he}_unsubscribe(){const{connectable:de}=this;if(!de)return void(this.connection=null);this.connectable=null;const he=de._refCount;if(he<=0)return void(this.connection=null);if(de._refCount=he-1,he>1)return void(this.connection=null);const{connection:J}=this,me=de._connection;this.connection=null,me&&(!J||me===J)&&me.unsubscribe()}}},7434:(Gt,at,H)=>{"use strict";H.d(at,{R:()=>$});var u=H(4168);function $(ye,de){let he=!1;return arguments.length>=2&&(he=!0),function(me){return me.lift(new q(ye,de,he))}}class q{constructor(de,he,J=!1){this.accumulator=de,this.seed=he,this.hasSeed=J}call(de,he){return he.subscribe(new Me(de,this.accumulator,this.seed,this.hasSeed))}}class Me extends u.L{constructor(de,he,J,me){super(de),this.accumulator=he,this._seed=J,this.hasSeed=me,this.index=0}get seed(){return this._seed}set seed(de){this.hasSeed=!0,this._seed=de}_next(de){if(this.hasSeed)return this._tryNext(de);this.seed=de,this.destination.next(de)}_tryNext(de){const he=this.index++;let J;try{J=this.accumulator(this.seed,de,he)}catch(me){this.destination.error(me)}this.seed=J,this.destination.next(J)}}},550:(Gt,at,H)=>{"use strict";H.d(at,{B:()=>ye});var u=H(6087),$=H(5234),q=H(3405);function Me(){return new q.xQ}function ye(){return de=>(0,$.x)()((0,u.O)(Me)(de))}},1125:(Gt,at,H)=>{"use strict";H.d(at,{O:()=>q});var u=H(3596),$=H(8151);function q(...Me){const ye=Me[Me.length-1];return(0,$.K)(ye)?(Me.pop(),de=>(0,u.z)(Me,de,ye)):de=>(0,u.z)(Me,de)}},2698:(Gt,at,H)=>{"use strict";H.d(at,{R:()=>Re});var u=H(5548);let $=1;const q=Promise.resolve(),Me={};function ye(Be){return Be in Me&&(delete Me[Be],!0)}const de={setImmediate(Be){const qe=$++;return Me[qe]=!0,q.then(()=>ye(qe)&&Be()),qe},clearImmediate(Be){ye(Be)}};var J=H(6339),te=H(5192);const ie=new class extends te.v{flush(qe){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let ke,Ye=-1,Et=De.length;qe=qe||De.shift();do{if(ke=qe.execute(qe.state,qe.delay))break}while(++Ye<Et&&(qe=De.shift()));if(this.active=!1,ke){for(;++Ye<Et&&(qe=De.shift());)qe.unsubscribe();throw ke}}}(class extends J.o{constructor(qe,De){super(qe,De),this.scheduler=qe,this.work=De}requestAsyncId(qe,De,ke=0){return null!==ke&&ke>0?super.requestAsyncId(qe,De,ke):(qe.actions.push(this),qe.scheduled||(qe.scheduled=de.setImmediate(qe.flush.bind(qe,null))))}recycleAsyncId(qe,De,ke=0){if(null!==ke&&ke>0||null===ke&&this.delay>0)return super.recycleAsyncId(qe,De,ke);0===qe.actions.length&&(de.clearImmediate(De),qe.scheduled=void 0)}});var $e=H(5894);class Te extends u.y{constructor(qe,De=0,ke=ie){var Be;super(),this.source=qe,this.delayTime=De,this.scheduler=ke,(!(!(0,$e.k)(Be=De)&&Be-parseFloat(Be)+1>=0)||De<0)&&(this.delayTime=0),(!ke||"function"!=typeof ke.schedule)&&(this.scheduler=ie)}static create(qe,De=0,ke=ie){return new Te(qe,De,ke)}static dispatch(qe){const{source:De,subscriber:ke}=qe;return this.add(De.subscribe(ke))}_subscribe(qe){return this.scheduler.schedule(Te.dispatch,this.delayTime,{source:this.source,subscriber:qe})}}function Re(Be,qe=0){return function(ke){return ke.lift(new we(Be,qe))}}class we{constructor(qe,De){this.scheduler=qe,this.delay=De}call(qe,De){return new Te(De,this.delay,this.scheduler).subscribe(qe)}}},9204:(Gt,at,H)=>{"use strict";H.d(at,{w:()=>Me});var u=H(8053),$=H(1915),q=H(8345);function Me(he,J){return"function"==typeof J?me=>me.pipe(Me((te,re)=>(0,$.D)(he(te,re)).pipe((0,u.U)((ce,ie)=>J(te,ce,re,ie))))):me=>me.lift(new ye(he))}class ye{constructor(J){this.project=J}call(J,me){return me.subscribe(new de(J,this.project))}}class de extends q.Ds{constructor(J,me){super(J),this.project=me,this.index=0}_next(J){let me;const te=this.index++;try{me=this.project(J,te)}catch(re){return void this.destination.error(re)}this._innerSub(me)}_innerSub(J){const me=this.innerSubscription;me&&me.unsubscribe();const te=new q.IY(this),re=this.destination;re.add(te),this.innerSubscription=(0,q.ft)(J,te),this.innerSubscription!==te&&re.add(this.innerSubscription)}_complete(){const{innerSubscription:J}=this;(!J||J.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(J){this.destination.next(J)}}},6636:(Gt,at,H)=>{"use strict";H.d(at,{q:()=>Me});var u=H(4168),$=H(523),q=H(172);function Me(he){return J=>0===he?(0,q.c)():J.lift(new ye(he))}class ye{constructor(J){if(this.total=J,this.total<0)throw new $.W}call(J,me){return me.subscribe(new de(J,this.total))}}class de extends u.L{constructor(J,me){super(J),this.total=me,this.count=0}_next(J){const me=this.total,te=++this.count;te<=me&&(this.destination.next(J),te===me&&(this.destination.complete(),this.unsubscribe()))}}},1366:(Gt,at,H)=>{"use strict";H.d(at,{b:()=>Me});var u=H(4168),$=H(3989),q=H(6783);function Me(he,J,me){return function(re){return re.lift(new ye(he,J,me))}}class ye{constructor(J,me,te){this.nextOrObserver=J,this.error=me,this.complete=te}call(J,me){return me.subscribe(new de(J,this.nextOrObserver,this.error,this.complete))}}class de extends u.L{constructor(J,me,te,re){super(J),this._tapNext=$.Z,this._tapError=$.Z,this._tapComplete=$.Z,this._tapError=te||$.Z,this._tapComplete=re||$.Z,(0,q.m)(me)?(this._context=this,this._tapNext=me):me&&(this._context=me,this._tapNext=me.next||$.Z,this._tapError=me.error||$.Z,this._tapComplete=me.complete||$.Z)}_next(J){try{this._tapNext.call(this._context,J)}catch(me){return void this.destination.error(me)}this.destination.next(J)}_error(J){try{this._tapError.call(this._context,J)}catch(me){return void this.destination.error(me)}this.destination.error(J)}_complete(){try{this._tapComplete.call(this._context)}catch(J){return void this.destination.error(J)}return this.destination.complete()}}},6225:(Gt,at,H)=>{"use strict";H.d(at,{T:()=>q});var u=H(9443),$=H(4168);function q(he=de){return J=>J.lift(new Me(he))}class Me{constructor(J){this.errorFactory=J}call(J,me){return me.subscribe(new ye(J,this.errorFactory))}}class ye extends $.L{constructor(J,me){super(J),this.errorFactory=me,this.hasValue=!1}_next(J){this.hasValue=!0,this.destination.next(J)}_complete(){if(this.hasValue)return this.destination.complete();{let J;try{J=this.errorFactory()}catch(me){J=me}this.destination.error(J)}}}function de(){return new u.K}},3428:(Gt,at,H)=>{"use strict";H.d(at,{r:()=>q});var u=H(5548),$=H(1346);function q(Me,ye){return new u.y(de=>{const he=new $.w;let J=0;return he.add(ye.schedule(function(){J!==Me.length?(de.next(Me[J++]),de.closed||he.add(this.schedule())):de.complete()})),he})}},6339:(Gt,at,H)=>{"use strict";H.d(at,{o:()=>q});var u=H(1346);class $ extends u.w{constructor(ye,de){super()}schedule(ye,de=0){return this}}class q extends ${constructor(ye,de){super(ye,de),this.scheduler=ye,this.work=de,this.pending=!1}schedule(ye,de=0){if(this.closed)return this;this.state=ye;const he=this.id,J=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(J,he,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(J,this.id,de),this}requestAsyncId(ye,de,he=0){return setInterval(ye.flush.bind(ye,this),he)}recycleAsyncId(ye,de,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return de;clearInterval(de)}execute(ye,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ye,de);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,de){let J,he=!1;try{this.work(ye)}catch(me){he=!0,J=!!me&&me||new Error(me)}if(he)return this.unsubscribe(),J}_unsubscribe(){const ye=this.id,de=this.scheduler,he=de.actions,J=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==J&&he.splice(J,1),null!=ye&&(this.id=this.recycleAsyncId(de,ye,null)),this.delay=null}}},5192:(Gt,at,H)=>{"use strict";H.d(at,{v:()=>$});let u=(()=>{class q{constructor(ye,de=q.now){this.SchedulerAction=ye,this.now=de}schedule(ye,de=0,he){return new this.SchedulerAction(this,ye).schedule(he,de)}}return q.now=()=>Date.now(),q})();class $ extends u{constructor(Me,ye=u.now){super(Me,()=>$.delegate&&$.delegate!==this?$.delegate.now():ye()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Me,ye=0,de){return $.delegate&&$.delegate!==this?$.delegate.schedule(Me,ye,de):super.schedule(Me,ye,de)}flush(Me){const{actions:ye}=this;if(this.active)return void ye.push(Me);let de;this.active=!0;do{if(de=Me.execute(Me.state,Me.delay))break}while(Me=ye.shift());if(this.active=!1,de){for(;Me=ye.shift();)Me.unsubscribe();throw de}}}},8178:(Gt,at,H)=>{"use strict";H.d(at,{z:()=>q,P:()=>Me});var u=H(6339);const q=new(H(5192).v)(u.o),Me=q},7575:(Gt,at,H)=>{"use strict";H.d(at,{c:()=>de,N:()=>ye});var u=H(6339),q=H(5192);const ye=new class extends q.v{}(class extends u.o{constructor(J,me){super(J,me),this.scheduler=J,this.work=me}schedule(J,me=0){return me>0?super.schedule(J,me):(this.delay=me,this.state=J,this.scheduler.flush(this),this)}execute(J,me){return me>0||this.closed?super.execute(J,me):this._execute(J,me)}requestAsyncId(J,me,te=0){return null!==te&&te>0||null===te&&this.delay>0?super.requestAsyncId(J,me,te):J.flush(this)}}),de=ye},4352:(Gt,at,H)=>{"use strict";H.d(at,{hZ:()=>$});const $="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(Gt,at,H)=>{"use strict";H.d(at,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(Gt,at,H)=>{"use strict";H.d(at,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},523:(Gt,at,H)=>{"use strict";H.d(at,{W:()=>$});const $=(()=>{function q(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return q.prototype=Object.create(Error.prototype),q})()},9443:(Gt,at,H)=>{"use strict";H.d(at,{K:()=>$});const $=(()=>{function q(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return q.prototype=Object.create(Error.prototype),q})()},2108:(Gt,at,H)=>{"use strict";H.d(at,{N:()=>$});const $=(()=>{function q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return q.prototype=Object.create(Error.prototype),q})()},9887:(Gt,at,H)=>{"use strict";function u($){setTimeout(()=>{throw $},0)}H.d(at,{z:()=>u})},7255:(Gt,at,H)=>{"use strict";function u($){return $}H.d(at,{y:()=>u})},5894:(Gt,at,H)=>{"use strict";H.d(at,{k:()=>u});const u=Array.isArray||($=>$&&"number"==typeof $.length)},1265:(Gt,at,H)=>{"use strict";H.d(at,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},6783:(Gt,at,H)=>{"use strict";function u($){return"function"==typeof $}H.d(at,{m:()=>u})},7879:(Gt,at,H)=>{"use strict";function u($){return null!==$&&"object"==typeof $}H.d(at,{K:()=>u})},847:(Gt,at,H)=>{"use strict";function u($){return!!$&&"function"!=typeof $.subscribe&&"function"==typeof $.then}H.d(at,{t:()=>u})},8151:(Gt,at,H)=>{"use strict";function u($){return $&&"function"==typeof $.schedule}H.d(at,{K:()=>u})},3989:(Gt,at,H)=>{"use strict";function u(){}H.d(at,{Z:()=>u})},4651:(Gt,at,H)=>{"use strict";H.d(at,{s:()=>re});var u=H(8769),$=H(9887),Me=H(4352),de=H(1359),J=H(1265),me=H(847),te=H(7879);const re=ce=>{if(ce&&"function"==typeof ce[de.L])return(ce=>ie=>{const $e=ce[de.L]();if("function"!=typeof $e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return $e.subscribe(ie)})(ce);if((0,J.z)(ce))return(0,u.V)(ce);if((0,me.t)(ce))return(ce=>ie=>(ce.then($e=>{ie.closed||(ie.next($e),ie.complete())},$e=>ie.error($e)).then(null,$.z),ie))(ce);if(ce&&"function"==typeof ce[Me.hZ])return(ce=>ie=>{const $e=ce[Me.hZ]();for(;;){let Xe;try{Xe=$e.next()}catch(Te){return ie.error(Te),ie}if(Xe.done){ie.complete();break}if(ie.next(Xe.value),ie.closed)break}return"function"==typeof $e.return&&ie.add(()=>{$e.return&&$e.return()}),ie})(ce);{const $e=`You provided ${(0,te.K)(ce)?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError($e)}}},8769:(Gt,at,H)=>{"use strict";H.d(at,{V:()=>u});const u=$=>q=>{for(let Me=0,ye=$.length;Me<ye&&!q.closed;Me++)q.next($[Me]);q.complete()}},7974:(Gt,at,H)=>{"use strict";H.d(at,{D:()=>ye});var u=H(4168);class $ extends u.L{constructor(he,J,me){super(),this.parent=he,this.outerValue=J,this.outerIndex=me,this.index=0}_next(he){this.parent.notifyNext(this.outerValue,he,this.outerIndex,this.index++,this)}_error(he){this.parent.notifyError(he,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var q=H(4651),Me=H(5548);function ye(de,he,J,me,te=new $(de,J,me)){if(!te.closed)return he instanceof Me.y?he.subscribe(te):(0,q.s)(he)(te)}},7857:(Gt,at,H)=>{"use strict";var u=H(6019),$=H(3668);class q extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Me extends q{static makeCurrent(){(0,u.HT)(new Me)}onAndCancel(l,a,p){return l.addEventListener(a,p,!1),()=>{l.removeEventListener(a,p,!1)}}dispatchEvent(l,a){l.dispatchEvent(a)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,a){return(a=a||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,a){return"window"===a?window:"document"===a?l:"body"===a?l.body:null}getBaseHref(l){const a=(ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null);return null==a?null:function(d){he=he||document.createElement("a"),he.setAttribute("href",d);const l=he.pathname;return"/"===l.charAt(0)?l:`/${l}`}(a)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,u.Mx)(document.cookie,l)}}let he,ye=null;const me=new $.OlP("TRANSITION_ID"),re=[{provide:$.ip1,useFactory:function(d,l,a){return()=>{a.get($.CZH).donePromise.then(()=>{const p=(0,u.q)(),_=l.querySelectorAll(`style[ng-transition="${d}"]`);for(let S=0;S<_.length;S++)p.remove(_[S])})}},deps:[me,u.K0,$.zs3],multi:!0}];class ce{static init(){(0,$.VLi)(new ce)}addToWindow(l){$.dqk.getAngularTestability=(p,_=!0)=>{const S=l.findTestabilityInTree(p,_);if(null==S)throw new Error("Could not find testability for element.");return S},$.dqk.getAllAngularTestabilities=()=>l.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>l.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(p=>{const _=$.dqk.getAllAngularTestabilities();let S=_.length,B=!1;const ae=function(Se){B=B||Se,S--,0==S&&p(B)};_.forEach(function(Se){Se.whenStable(ae)})})}findTestabilityInTree(l,a,p){if(null==a)return null;const _=l.getTestability(a);return null!=_?_:p?(0,u.q)().isShadowRoot(a)?this.findTestabilityInTree(l,a.host,!0):this.findTestabilityInTree(l,a.parentElement,!0):null}}let ie=(()=>{class d{build(){return new XMLHttpRequest}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();const $e=new $.OlP("EventManagerPlugins");let Xe=(()=>{class d{constructor(a,p){this._zone=p,this._eventNameToPlugin=new Map,a.forEach(_=>_.manager=this),this._plugins=a.slice().reverse()}addEventListener(a,p,_){return this._findPluginFor(p).addEventListener(a,p,_)}addGlobalEventListener(a,p,_){return this._findPluginFor(p).addGlobalEventListener(a,p,_)}getZone(){return this._zone}_findPluginFor(a){const p=this._eventNameToPlugin.get(a);if(p)return p;const _=this._plugins;for(let S=0;S<_.length;S++){const B=_[S];if(B.supports(a))return this._eventNameToPlugin.set(a,B),B}throw new Error(`No event manager plugin found for event ${a}`)}}return d.\u0275fac=function(a){return new(a||d)($.LFG($e),$.LFG($.R0b))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();class Te{constructor(l){this._doc=l}addGlobalEventListener(l,a,p){const _=(0,u.q)().getGlobalEventTarget(this._doc,l);if(!_)throw new Error(`Unsupported event target ${_} for event ${a}`);return this.addEventListener(_,a,p)}}let Re=(()=>{class d{constructor(){this._stylesSet=new Set}addStyles(a){const p=new Set;a.forEach(_=>{this._stylesSet.has(_)||(this._stylesSet.add(_),p.add(_))}),this.onStylesAdded(p)}onStylesAdded(a){}getAllStyles(){return Array.from(this._stylesSet)}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})(),we=(()=>{class d extends Re{constructor(a){super(),this._doc=a,this._hostNodes=new Map,this._hostNodes.set(a.head,[])}_addStylesToHost(a,p,_){a.forEach(S=>{const B=this._doc.createElement("style");B.textContent=S,_.push(p.appendChild(B))})}addHost(a){const p=[];this._addStylesToHost(this._stylesSet,a,p),this._hostNodes.set(a,p)}removeHost(a){const p=this._hostNodes.get(a);p&&p.forEach(Be),this._hostNodes.delete(a)}onStylesAdded(a){this._hostNodes.forEach((p,_)=>{this._addStylesToHost(a,_,p)})}ngOnDestroy(){this._hostNodes.forEach(a=>a.forEach(Be))}}return d.\u0275fac=function(a){return new(a||d)($.LFG(u.K0))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();function Be(d){(0,u.q)().remove(d)}const qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},De=/%COMP%/g;function je(d,l,a){for(let p=0;p<l.length;p++){let _=l[p];Array.isArray(_)?je(d,_,a):(_=_.replace(De,d),a.push(_))}return a}function Le(d){return l=>{if("__ngUnwrap__"===l)return d;!1===d(l)&&(l.preventDefault(),l.returnValue=!1)}}let Ae=(()=>{class d{constructor(a,p,_){this.eventManager=a,this.sharedStylesHost=p,this.appId=_,this.rendererByCompId=new Map,this.defaultRenderer=new et(a)}createRenderer(a,p){if(!a||!p)return this.defaultRenderer;switch(p.encapsulation){case $.ifc.Emulated:{let _=this.rendererByCompId.get(p.id);return _||(_=new bt(this.eventManager,this.sharedStylesHost,p,this.appId),this.rendererByCompId.set(p.id,_)),_.applyToHost(a),_}case 1:case $.ifc.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,a,p);default:if(!this.rendererByCompId.has(p.id)){const _=je(p.id,p.styles,[]);this.sharedStylesHost.addStyles(_),this.rendererByCompId.set(p.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return d.\u0275fac=function(a){return new(a||d)($.LFG(Xe),$.LFG(we),$.LFG($.AFp))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();class et{constructor(l){this.eventManager=l,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(l,a){return a?document.createElementNS(qe[a]||a,l):document.createElement(l)}createComment(l){return document.createComment(l)}createText(l){return document.createTextNode(l)}appendChild(l,a){l.appendChild(a)}insertBefore(l,a,p){l&&l.insertBefore(a,p)}removeChild(l,a){l&&l.removeChild(a)}selectRootElement(l,a){let p="string"==typeof l?document.querySelector(l):l;if(!p)throw new Error(`The selector "${l}" did not match any elements`);return a||(p.textContent=""),p}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,a,p,_){if(_){a=_+":"+a;const S=qe[_];S?l.setAttributeNS(S,a,p):l.setAttribute(a,p)}else l.setAttribute(a,p)}removeAttribute(l,a,p){if(p){const _=qe[p];_?l.removeAttributeNS(_,a):l.removeAttribute(`${p}:${a}`)}else l.removeAttribute(a)}addClass(l,a){l.classList.add(a)}removeClass(l,a){l.classList.remove(a)}setStyle(l,a,p,_){_&($.JOm.DashCase|$.JOm.Important)?l.style.setProperty(a,p,_&$.JOm.Important?"important":""):l.style[a]=p}removeStyle(l,a,p){p&$.JOm.DashCase?l.style.removeProperty(a):l.style[a]=""}setProperty(l,a,p){l[a]=p}setValue(l,a){l.nodeValue=a}listen(l,a,p){return"string"==typeof l?this.eventManager.addGlobalEventListener(l,a,Le(p)):this.eventManager.addEventListener(l,a,Le(p))}}class bt extends et{constructor(l,a,p,_){super(l),this.component=p;const S=je(_+"-"+p.id,p.styles,[]);a.addStyles(S),this.contentAttr="_ngcontent-%COMP%".replace(De,_+"-"+p.id),this.hostAttr="_nghost-%COMP%".replace(De,_+"-"+p.id)}applyToHost(l){super.setAttribute(l,this.hostAttr,"")}createElement(l,a){const p=super.createElement(l,a);return super.setAttribute(p,this.contentAttr,""),p}}class ft extends et{constructor(l,a,p,_){super(l),this.sharedStylesHost=a,this.hostEl=p,this.shadowRoot=p.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const S=je(_.id,_.styles,[]);for(let B=0;B<S.length;B++){const ae=document.createElement("style");ae.textContent=S[B],this.shadowRoot.appendChild(ae)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(l,a){return super.appendChild(this.nodeOrShadowRoot(l),a)}insertBefore(l,a,p){return super.insertBefore(this.nodeOrShadowRoot(l),a,p)}removeChild(l,a){return super.removeChild(this.nodeOrShadowRoot(l),a)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}}let rt=(()=>{class d extends Te{constructor(a){super(a)}supports(a){return!0}addEventListener(a,p,_){return a.addEventListener(p,_,!1),()=>this.removeEventListener(a,p,_)}removeEventListener(a,p,_){return a.removeEventListener(p,_)}}return d.\u0275fac=function(a){return new(a||d)($.LFG(u.K0))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();const ot=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:d=>d.altKey,control:d=>d.ctrlKey,meta:d=>d.metaKey,shift:d=>d.shiftKey};let _t=(()=>{class d extends Te{constructor(a){super(a)}supports(a){return null!=d.parseEventName(a)}addEventListener(a,p,_){const S=d.parseEventName(p),B=d.eventCallback(S.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(a,S.domEventName,B))}static parseEventName(a){const p=a.toLowerCase().split("."),_=p.shift();if(0===p.length||"keydown"!==_&&"keyup"!==_)return null;const S=d._normalizeKey(p.pop());let B="";if(ot.forEach(Se=>{const Ne=p.indexOf(Se);Ne>-1&&(p.splice(Ne,1),B+=Se+".")}),B+=S,0!=p.length||0===S.length)return null;const ae={};return ae.domEventName=_,ae.fullKey=B,ae}static getEventFullKey(a){let p="",_=function(d){let l=d.key;if(null==l){if(l=d.keyIdentifier,null==l)return"Unidentified";l.startsWith("U+")&&(l=String.fromCharCode(parseInt(l.substring(2),16)),3===d.location&&gt.hasOwnProperty(l)&&(l=gt[l]))}return yt[l]||l}(a);return _=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),ot.forEach(S=>{S!=_&&pt[S](a)&&(p+=S+".")}),p+=_,p}static eventCallback(a,p,_){return S=>{d.getEventFullKey(S)===a&&_.runGuarded(()=>p(S))}}static _normalizeKey(a){return"esc"===a?"escape":a}}return d.\u0275fac=function(a){return new(a||d)($.LFG(u.K0))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();const hr=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:u.bD},{provide:$.g9A,useValue:function(){Me.makeCurrent(),ce.init()},multi:!0},{provide:u.K0,useFactory:function(){return(0,$.RDi)(document),document},deps:[]}]),Cn=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function(){return new $.qLn},deps:[]},{provide:$e,useClass:rt,multi:!0,deps:[u.K0,$.R0b,$.Lbi]},{provide:$e,useClass:_t,multi:!0,deps:[u.K0]},{provide:Ae,useClass:Ae,deps:[Xe,we,$.AFp]},{provide:$.FYo,useExisting:Ae},{provide:Re,useExisting:we},{provide:we,useClass:we,deps:[u.K0]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b]},{provide:Xe,useClass:Xe,deps:[$e,$.R0b]},{provide:u.JF,useClass:ie,deps:[]}];let $n=(()=>{class d{constructor(a){if(a)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(a){return{ngModule:d,providers:[{provide:$.AFp,useValue:a.appId},{provide:me,useExisting:$.AFp},re]}}}return d.\u0275fac=function(a){return new(a||d)($.LFG(d,12))},d.\u0275mod=$.oAB({type:d}),d.\u0275inj=$.cJS({providers:Cn,imports:[u.ez,$.hGG]}),d})();"undefined"!=typeof window&&window;var tt=H(6024),kt=H(1704);let Xt=(()=>{class d{constructor(){}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275cmp=$.Xpm({type:d,selectors:[["app-root"]],decls:2,vars:0,template:function(a,p){1&a&&($.TgZ(0,"ion-app"),$._UZ(1,"ion-router-outlet"),$.qZA())},directives:[kt.dr,kt.jP],styles:[""]}),d})();const Bn=[{path:"home",loadChildren:()=>H.e(7646).then(H.bind(H,7646)).then(d=>d.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let Pn=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=$.oAB({type:d}),d.\u0275inj=$.cJS({imports:[[tt.Bz.forRoot(Bn,{preloadingStrategy:tt.wm})],tt.Bz]}),d})();var Un=H(5476),qn=H(540),fn=H(9506),ur=H(2411),$t=H(3596),bn=H(3405),lr=H(5548),Hr=H(3989);const Ur=new lr.y(Hr.Z);var xr=H(8526),jn=H(8053),Kr=H(8735),Lr=H(9204),Mn=H(6087),Vr=H(6636),Zr=H(1366),Jr=H(8178),vi=H(4168),gi=H(8085);class dr{constructor(l,a){this.delay=l,this.scheduler=a}call(l,a){return a.subscribe(new Ii(l,this.delay,this.scheduler))}}class Ii extends vi.L{constructor(l,a,p){super(l),this.delay=a,this.scheduler=p,this.queue=[],this.active=!1,this.errored=!1}static dispatch(l){const a=l.source,p=a.queue,_=l.scheduler,S=l.destination;for(;p.length>0&&p[0].time-_.now()<=0;)p.shift().notification.observe(S);if(p.length>0){const B=Math.max(0,p[0].time-_.now());this.schedule(l,B)}else this.unsubscribe(),a.active=!1}_schedule(l){this.active=!0,this.destination.add(l.schedule(Ii.dispatch,this.delay,{source:this,destination:this.destination,scheduler:l}))}scheduleNotification(l){if(!0===this.errored)return;const a=this.scheduler,p=new ci(a.now()+this.delay,l);this.queue.push(p),!1===this.active&&this._schedule(a)}_next(l){this.scheduleNotification(gi.P.createNext(l))}_error(l){this.errored=!0,this.queue=[],this.destination.error(l),this.unsubscribe()}_complete(){this.scheduleNotification(gi.P.createComplete()),this.unsubscribe()}}class ci{constructor(l,a){this.time=l,this.notification=a}}const be="Service workers are disabled or not supported by this browser";class C{constructor(l){if(this.serviceWorker=l,l){const p=(0,fn.R)(l,"controllerchange").pipe((0,jn.U)(()=>l.controller)),_=(0,Un.P)(()=>(0,ur.of)(l.controller)),S=(0,$t.z)(_,p);this.worker=S.pipe((0,Kr.h)(It=>!!It)),this.registration=this.worker.pipe((0,Lr.w)(()=>l.getRegistration()));const Ne=(0,fn.R)(l,"message").pipe((0,jn.U)(It=>It.data)).pipe((0,Kr.h)(It=>It&&It.type)).pipe((0,Mn.O)(new bn.xQ));Ne.connect(),this.events=Ne}else this.worker=this.events=this.registration=(be,(0,Un.P)(()=>(0,qn._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(l,a){return this.worker.pipe((0,Vr.q)(1),(0,Zr.b)(p=>{p.postMessage(Sr({action:l},a))})).toPromise().then(()=>{})}postMessageWithOperation(l,a,p){const _=this.waitForOperationCompleted(p),S=this.postMessage(l,a);return Promise.all([S,_]).then(([,B])=>B)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(l){let a;return a="string"==typeof l?p=>p.type===l:p=>l.includes(p.type),this.events.pipe((0,Kr.h)(a))}nextEventOfType(l){return this.eventsOfType(l).pipe((0,Vr.q)(1))}waitForOperationCompleted(l){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Kr.h)(a=>a.nonce===l),(0,Vr.q)(1),(0,jn.U)(a=>{if(void 0!==a.result)return a.result;throw new Error(a.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let N=(()=>{class d{constructor(a){if(this.sw=a,this.subscriptionChanges=new bn.xQ,!a.isEnabled)return this.messages=Ur,this.notificationClicks=Ur,void(this.subscription=Ur);this.messages=this.sw.eventsOfType("PUSH").pipe((0,jn.U)(_=>_.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,jn.U)(_=>_.data)),this.pushManager=this.sw.registration.pipe((0,jn.U)(_=>_.pushManager));const p=this.pushManager.pipe((0,Lr.w)(_=>_.getSubscription()));this.subscription=(0,xr.T)(p,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(a){if(!this.sw.isEnabled)return Promise.reject(new Error(be));const p={userVisibleOnly:!0};let _=this.decodeBase64(a.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),S=new Uint8Array(new ArrayBuffer(_.length));for(let B=0;B<_.length;B++)S[B]=_.charCodeAt(B);return p.applicationServerKey=S,this.pushManager.pipe((0,Lr.w)(B=>B.subscribe(p)),(0,Vr.q)(1)).toPromise().then(B=>(this.subscriptionChanges.next(B),B))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Vr.q)(1),(0,Lr.w)(p=>{if(null===p)throw new Error("Not subscribed to push notifications.");return p.unsubscribe().then(_=>{if(!_)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(be))}decodeBase64(a){return atob(a)}}return d.\u0275fac=function(a){return new(a||d)($.LFG(C))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})(),P=(()=>{class d{constructor(a){if(this.sw=a,!a.isEnabled)return this.versionUpdates=Ur,this.available=Ur,this.activated=Ur,void(this.unrecoverable=Ur);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Kr.h)(p=>"VERSION_READY"===p.type),(0,jn.U)(p=>({type:"UPDATE_AVAILABLE",current:p.currentVersion,available:p.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(be));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:a},a)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(be));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:a},a)}}return d.\u0275fac=function(a){return new(a||d)($.LFG(C))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac}),d})();class j{}const ne=new $.OlP("NGSW_REGISTER_SCRIPT");function ve(d,l,a,p){return()=>{if(!(0,u.NF)(p)||!("serviceWorker"in navigator)||!1===a.enabled)return;let S;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof a.registrationStrategy)S=a.registrationStrategy();else{const[ae,...Se]=(a.registrationStrategy||"registerWhenStable:30000").split(":");switch(ae){case"registerImmediately":S=(0,ur.of)(null);break;case"registerWithDelay":S=Pe(+Se[0]||0);break;case"registerWhenStable":S=Se[0]?(0,xr.T)(Ze(d),Pe(+Se[0])):Ze(d);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${a.registrationStrategy}`)}}d.get($.R0b).runOutsideAngular(()=>S.pipe((0,Vr.q)(1)).subscribe(()=>navigator.serviceWorker.register(l,{scope:a.scope}).catch(ae=>console.error("Service worker registration failed with:",ae))))}}function Pe(d){return(0,ur.of)(null).pipe(function(d,l=Jr.P){const p=function(d){return d instanceof Date&&!isNaN(+d)}(d)?+d-l.now():Math.abs(d);return _=>_.lift(new dr(p,l))}(d))}function Ze(d){return d.get($.z2F).isStable.pipe((0,Kr.h)(a=>a))}function We(d,l){return new C((0,u.NF)(l)&&!1!==d.enabled?navigator.serviceWorker:void 0)}let ht=(()=>{class d{static register(a,p={}){return{ngModule:d,providers:[{provide:ne,useValue:a},{provide:j,useValue:p},{provide:C,useFactory:We,deps:[j,$.Lbi]},{provide:$.ip1,useFactory:ve,deps:[$.zs3,ne,j,$.Lbi],multi:!0}]}}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=$.oAB({type:d}),d.\u0275inj=$.cJS({providers:[N,P]}),d})();const Lt_firebase={projectId:"clockin-system-88031",appId:"1:440872432709:web:261fa84e32ba3bec7d9f2c",storageBucket:"clockin-system-88031.appspot.com",locationId:"us-central",apiKey:"AIzaSyBKv5UqqyFqe8Ymha5v469NLEYGEr8ZVzA",authDomain:"clockin-system-88031.firebaseapp.com",messagingSenderId:"440872432709",measurementId:"G-ZRWEER0HX8"};var Kt=H(7905),hn=H(550),Sn=H(7434),Mr=H(5389),Er=H(5330),si=H(7974);class gs{constructor(l,a){this.observables=l,this.project=a}call(l,a){return a.subscribe(new as(l,this.observables,this.project))}}class as extends Er.L{constructor(l,a,p){super(l),this.observables=a,this.project=p,this.toRespond=[];const _=a.length;this.values=new Array(_);for(let S=0;S<_;S++)this.toRespond.push(S);for(let S=0;S<_;S++)this.add((0,si.D)(this,a[S],void 0,S))}notifyNext(l,a,p){this.values[p]=a;const _=this.toRespond;if(_.length>0){const S=_.indexOf(p);-1!==S&&_.splice(S,1)}}notifyComplete(){}_next(l){if(0===this.toRespond.length){const a=[l,...this.values];this.project?this._tryProject(a):this.destination.next(a)}}_tryProject(l){let a;try{a=this.project.apply(this,l)}catch(p){return void this.destination.error(p)}this.destination.next(a)}}class ls{constructor(l){this.predicate=l}call(l,a){return a.subscribe(new Es(l,this.predicate))}}class Es extends vi.L{constructor(l,a){super(l),this.predicate=a,this.skipping=!0,this.index=0}_next(l){const a=this.destination;this.skipping&&this.tryCallPredicate(l),this.skipping||a.next(l)}tryCallPredicate(l){try{const a=this.predicate(l,this.index++);this.skipping=Boolean(a)}catch(a){this.destination.error(a)}}}var oi=H(5940),us=(H(2115),H(6293)),ms=H(1177),Po=H(8239),Rs=H(1572),xe=H(4213),Ui=H(3855);const Oi="@firebase/database";let ys="";function Ci(d){ys=d}class Yi{constructor(l){this.domStorage_=l,this.prefix_="firebase:"}set(l,a){null==a?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,xe.Pz)(a))}get(l){const a=this.domStorage_.getItem(this.prefixedName_(l));return null==a?null:(0,xe.cI)(a)}remove(l){this.domStorage_.removeItem(this.prefixedName_(l))}prefixedName_(l){return this.prefix_+l}toString(){return this.domStorage_.toString()}}class Hi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(l,a){null==a?delete this.cache_[l]:this.cache_[l]=a}get(l){return(0,xe.r3)(this.cache_,l)?this.cache_[l]:null}remove(l){delete this.cache_[l]}}const Vs=function(d){try{if("undefined"!=typeof window&&void 0!==window[d]){const l=window[d];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new Yi(l)}}catch(l){}return new Hi},Di=Vs("localStorage"),bs=Vs("sessionStorage"),_s=new Ui.Yd("@firebase/database"),Br=function(){let d=1;return function(){return d++}}(),Ti=function(d){const l=(0,xe.dS)(d),a=new xe.gQ;a.update(l);const p=a.digest();return xe.US.encodeByteArray(p)},Pi=function(...d){let l="";for(let a=0;a<d.length;a++){const p=d[a];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?l+=Pi.apply(null,p):l+="object"==typeof p?(0,xe.Pz)(p):p,l+=" "}return l};let di=null,Xr=!0;const Ms=function(d,l){(0,xe.hu)(!l||!0===d||!1===d,"Can't turn on custom loggers persistently."),!0===d?(_s.logLevel=Ui.in.VERBOSE,di=_s.log.bind(_s),l&&bs.set("logging_enabled",!0)):"function"==typeof d?di=d:(di=null,bs.remove("logging_enabled"))},hi=function(...d){if(!0===Xr&&(Xr=!1,null===di&&!0===bs.get("logging_enabled")&&Ms(!0)),di){const l=Pi.apply(null,d);di(l)}},Ji=function(d){return function(...l){hi(d,...l)}},wo=function(...d){const l="FIREBASE INTERNAL ERROR: "+Pi(...d);_s.error(l)},Ei=function(...d){const l=`FIREBASE FATAL ERROR: ${Pi(...d)}`;throw _s.error(l),new Error(l)},bi=function(...d){const l="FIREBASE WARNING: "+Pi(...d);_s.warn(l)},Wi=function(d){return"number"==typeof d&&(d!=d||d===Number.POSITIVE_INFINITY||d===Number.NEGATIVE_INFINITY)},G="[MIN_NAME]",le="[MAX_NAME]",Y=function(d,l){if(d===l)return 0;if(d===G||l===le)return-1;if(l===G||d===le)return 1;{const a=z(d),p=z(l);return null!==a?null!==p?a-p==0?d.length-l.length:a-p:-1:null!==p?1:d<l?-1:1}},Ee=function(d,l){return d===l?0:d<l?-1:1},Je=function(d,l){if(l&&d in l)return l[d];throw new Error("Missing required key ("+d+") in object: "+(0,xe.Pz)(l))},F=function(d){if("object"!=typeof d||null===d)return(0,xe.Pz)(d);const l=[];for(const p in d)l.push(p);l.sort();let a="{";for(let p=0;p<l.length;p++)0!==p&&(a+=","),a+=(0,xe.Pz)(l[p]),a+=":",a+=F(d[l[p]]);return a+="}",a},M=function(d,l){const a=d.length;if(a<=l)return[d];const p=[];for(let _=0;_<a;_+=l)p.push(d.substring(_,_+l>a?a:_+l));return p};function R(d,l){for(const a in d)d.hasOwnProperty(a)&&l(a,d[a])}const se=function(d){(0,xe.hu)(!Wi(d),"Invalid JSON number");const p=1023;let _,S,B,ae,Se;0===d?(S=0,B=0,_=1/d==-1/0?1:0):(_=d<0,(d=Math.abs(d))>=Math.pow(2,1-p)?(ae=Math.min(Math.floor(Math.log(d)/Math.LN2),p),S=ae+p,B=Math.round(d*Math.pow(2,52-ae)-Math.pow(2,52))):(S=0,B=Math.round(d/Math.pow(2,-1074))));const Ne=[];for(Se=52;Se;Se-=1)Ne.push(B%2?1:0),B=Math.floor(B/2);for(Se=11;Se;Se-=1)Ne.push(S%2?1:0),S=Math.floor(S/2);Ne.push(_?1:0),Ne.reverse();const It=Ne.join("");let St="";for(Se=0;Se<64;Se+=8){let Bt=parseInt(It.substr(Se,8),2).toString(16);1===Bt.length&&(Bt="0"+Bt),St+=Bt}return St.toLowerCase()},Rr=new RegExp("^-?(0*)\\d{1,10}$"),kr=-2147483648,b=2147483647,z=function(d){if(Rr.test(d)){const l=Number(d);if(l>=kr&&l<=b)return l}return null},E=function(d){try{d()}catch(l){setTimeout(()=>{throw bi("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},ge=function(d,l){const a=setTimeout(d,l);return"object"==typeof a&&a.unref&&a.unref(),a};class Nt{constructor(l,a){this.appName_=l,this.appCheckProvider=a,this.appCheck=null==a?void 0:a.getImmediate({optional:!0}),this.appCheck||null==a||a.get().then(p=>this.appCheck=p)}getToken(l){return this.appCheck?this.appCheck.getToken(l):new Promise((a,p)=>{setTimeout(()=>{this.appCheck?this.getToken(l).then(a,p):a(null)},0)})}addTokenChangeListener(l){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(p=>p.addTokenListener(l))}notifyForInvalidToken(){bi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dn{constructor(l,a,p){this.appName_=l,this.firebaseOptions_=a,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(_=>this.auth_=_)}getToken(l){return this.auth_?this.auth_.getToken(l).catch(a=>a&&"auth/token-not-initialized"===a.code?(hi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,p)=>{setTimeout(()=>{this.auth_?this.getToken(l).then(a,p):a(null)},0)})}addTokenChangeListener(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(a=>a.addAuthTokenListener(l))}removeTokenChangeListener(l){this.authProvider_.get().then(a=>a.removeAuthTokenListener(l))}notifyForInvalidToken(){let l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bi(l)}}let Dn=(()=>{class d{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return d.OWNER="owner",d})();const cs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ra="websocket",fu="long_polling";class No{constructor(l,a,p,_,S=!1,B="",ae=!1){this.secure=a,this.namespace=p,this.webSocketOnly=_,this.nodeAdmin=S,this.persistenceKey=B,this.includeNamespaceInQueryParams=ae,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+l)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ro(d,l,a){let p;if((0,xe.hu)("string"==typeof l,"typeof type must == string"),(0,xe.hu)("object"==typeof a,"typeof params must == object"),l===ra)p=(d.secure?"wss://":"ws://")+d.internalHost+"/.ws?";else{if(l!==fu)throw new Error("Unknown connection type: "+l);p=(d.secure?"https://":"http://")+d.internalHost+"/.lp?"}(function(d){return d.host!==d.internalHost||d.isCustomHost()||d.includeNamespaceInQueryParams})(d)&&(a.ns=d.namespace);const _=[];return R(a,(S,B)=>{_.push(S+"="+B)}),p+_.join("&")}class ts{constructor(){this.counters_={}}incrementCounter(l,a=1){(0,xe.r3)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=a}get(){return(0,xe.p$)(this.counters_)}}const ns={},qs={};function jo(d){const l=d.toString();return ns[l]||(ns[l]=new ts),ns[l]}class ia{constructor(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(l,a){this.closeAfterResponse=l,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(l,a){for(this.pendingResponses[l]=a;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let _=0;_<p.length;++_)p[_]&&E(()=>{this.onMessage_(p[_])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ni{constructor(l,a,p,_,S,B,ae){this.connId=l,this.repoInfo=a,this.applicationId=p,this.appCheckToken=_,this.authToken=S,this.transportSessionId=B,this.lastSessionId=ae,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(l),this.stats_=jo(a),this.urlFn=Se=>(this.appCheckToken&&(Se.ac=this.appCheckToken),ro(a,fu,Se))}open(l,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new ia(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(d){if((0,xe.Yr)()||"complete"===document.readyState)d();else{let l=!1;const a=function(){document.body?l||(l=!0,d()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new co((...S)=>{const[B,ae,Se,Ne,It]=S;if(this.incrementIncomingBytes_(S),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===B)this.id=ae,this.password=Se;else{if("close"!==B)throw new Error("Unrecognized command received: "+B);ae?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ae,()=>{this.onClosed_()})):this.onClosed_()}},(...S)=>{const[B,ae]=S;this.incrementIncomingBytes_(S),this.myPacketOrderer.handleResponse(B,ae)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&cs.test(location.hostname)&&(p.r="f");const _=this.urlFn(p);this.log_("Connecting via long-poll to "+_),this.scriptTagHolder.addTag(_,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ni.forceAllow_=!0}static forceDisallow(){ni.forceDisallow_=!0}static isAvailable(){return!((0,xe.Yr)()||!ni.forceAllow_&&(ni.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(l){const a=(0,xe.Pz)(l);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const p=(0,xe.h$)(a),_=M(p,1840);for(let S=0;S<_.length;S++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,_.length,_[S]),this.curSegmentNum++}addDisconnectPingFrame(l,a){if((0,xe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=l,p.pw=a,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(l){const a=(0,xe.Pz)(l).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class co{constructor(l,a,p,_){if(this.onDisconnect=p,this.urlFn=_,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,xe.Yr)())this.commandCB=l,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=Br(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=co.createIFrame_();let S="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(S='<script>document.domain="'+document.domain+'";<\/script>');const B="<html><body>"+S+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(B),this.myIFrame.doc.close()}catch(ae){hi("frame writing exception"),ae.stack&&hi(ae.stack),hi(ae)}}}static createIFrame_(){const l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||hi("No IE domain setting required")}catch(a){const p=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const l=this.onDisconnect;l&&(this.onDisconnect=null,l())}startLongPoll(l,a){for(this.myID=l,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;let a=this.urlFn(l),p="",_=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const B=this.pendingSegs.shift();p=p+"&seg"+_+"="+B.seg+"&ts"+_+"="+B.ts+"&d"+_+"="+B.d,_++}return a+=p,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(l,a,p){this.pendingSegs.push({seg:l,ts:a,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(l,a){this.outstandingRequests.add(a);const p=()=>{this.outstandingRequests.delete(a),this.newRequest_()},_=setTimeout(p,Math.floor(25e3));this.addTag(l,()=>{clearTimeout(_),p()})}addTag(l,a){(0,xe.Yr)()?this.doNodeLongPoll(l,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=l,p.onload=p.onreadystatechange=function(){const _=p.readyState;(!_||"loaded"===_||"complete"===_)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),a())},p.onerror=()=>{hi("Long-poll script failed to load: "+l),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch(p){}},Math.floor(1))}}let bl=null;"undefined"!=typeof MozWebSocket?bl=MozWebSocket:"undefined"!=typeof WebSocket&&(bl=WebSocket);let Ta=(()=>{class d{constructor(a,p,_,S,B,ae,Se){this.connId=a,this.applicationId=_,this.appCheckToken=S,this.authToken=B,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=jo(p),this.connURL=d.connectionURL_(p,ae,Se,S),this.nodeAdmin=p.nodeAdmin}static connectionURL_(a,p,_,S){const B={v:"5"};return!(0,xe.Yr)()&&"undefined"!=typeof location&&location.hostname&&cs.test(location.hostname)&&(B.r="f"),p&&(B.s=p),_&&(B.ls=_),S&&(B.ac=S),ro(a,ra,B)}open(a,p){this.onDisconnect=p,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{if((0,xe.Yr)()){const S={headers:{"User-Agent":`Firebase/5/${ys}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(S.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(S.headers["X-Firebase-AppCheck"]=this.appCheckToken);const B=process.env,ae=0===this.connURL.indexOf("wss://")?B.HTTPS_PROXY||B.https_proxy:B.HTTP_PROXY||B.http_proxy;ae&&(S.proxy={origin:ae}),this.mySock=new bl(this.connURL,[],S)}else this.mySock=new bl(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(_){this.log_("Error instantiating WebSocket.");const S=_.message||_.data;return S&&this.log_(S),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=_=>{this.handleIncomingFrame(_)},this.mySock.onerror=_=>{this.log_("WebSocket error.  Closing connection.");const S=_.message||_.data;S&&this.log_(S),this.onClosed_()}}start(){}static forceDisallow(){d.forceDisallow_=!0}static isAvailable(){let a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const _=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);_&&_.length>1&&parseFloat(_[1])<4.4&&(a=!0)}return!a&&null!==bl&&!d.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||!0===Di.get("previous_websocket_failure")}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const _=(0,xe.cI)(p);this.onMessage(_)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,xe.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const p=Number(a);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const p=a.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const _=this.extractFrameCount_(p);null!==_&&this.appendFrame_(_)}}send(a){this.resetKeepAlive();const p=(0,xe.Pz)(a);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const _=M(p,16384);_.length>1&&this.sendString_(String(_.length));for(let S=0;S<_.length;S++)this.sendString_(_[S])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return d.responsesRequiredToBeHealthy=2,d.healthyTimeout=3e4,d})();class ds{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[ni,Ta]}initTransports_(l){const a=Ta&&Ta.isAvailable();let p=a&&!Ta.previouslyFailed();if(l.webSocketOnly&&(a||bi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[Ta];else{const _=this.transports_=[];for(const S of ds.ALL_TRANSPORTS)S&&S.isAvailable()&&_.push(S)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Co{constructor(l,a,p,_,S,B,ae,Se,Ne,It){this.id=l,this.repoInfo_=a,this.applicationId_=p,this.appCheckToken_=_,this.authToken_=S,this.onMessage_=B,this.onReady_=ae,this.onDisconnect_=Se,this.onKill_=Ne,this.lastSessionId=It,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new ds(a),this.log_("Connection created"),this.start_()}start_(){const l=this.transportManager_.initialTransport();this.conn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,p)},Math.floor(0));const _=l.healthyTimeout||0;_>0&&(this.healthyTimeout_=ge(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(_)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(l){return a=>{l===this.conn_?this.onConnectionLost_(a):l===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(l){return a=>{2!==this.state_&&(l===this.rx_?this.onPrimaryMessageReceived_(a):l===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(l){this.sendData_({t:"d",d:l})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(l){if("t"in l){const a=l.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(l){const a=Je("t",l),p=Je("d",l);if("c"===a)this.onSecondaryControl_(p);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(l){const a=Je("t",l),p=Je("d",l);"c"===a?this.onControl_(p):"d"===a&&this.onDataMessage_(p)}onDataMessage_(l){this.onPrimaryResponse_(),this.onMessage_(l)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(l){const a=Je("t",l);if("d"in l){const p=l.d;if("h"===a)this.onHandshake_(p);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let _=0;_<this.pendingDataMessages.length;++_)this.onDataMessage_(this.pendingDataMessages[_]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(p):"r"===a?this.onReset_(p):"e"===a?wo("Server Error: "+p):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wo("Unknown control packet command: "+a)}}onHandshake_(l){const a=l.ts,p=l.v,_=l.h;this.sessionId=l.s,this.repoInfo_.host=_,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==p&&bi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)}startUpgrade_(l){this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,p),ge(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(l,a){this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ge(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()}onConnectionLost_(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class js{put(l,a,p,_){}merge(l,a,p,_){}refreshAuthToken(l){}refreshAppCheckToken(l){}onDisconnectPut(l,a,p){}onDisconnectMerge(l,a,p){}onDisconnectCancel(l,a){}reportStats(l){}}class Ga{constructor(l){this.allowedEvents_=l,this.listeners_={},(0,xe.hu)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}trigger(l,...a){if(Array.isArray(this.listeners_[l])){const p=[...this.listeners_[l]];for(let _=0;_<p.length;_++)p[_].callback.apply(p[_].context,a)}}on(l,a,p){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:a,context:p});const _=this.getInitialEvent(l);_&&a.apply(p,_)}off(l,a,p){this.validateEventType_(l);const _=this.listeners_[l]||[];for(let S=0;S<_.length;S++)if(_[S].callback===a&&(!p||p===_[S].context))return void _.splice(S,1)}validateEventType_(l){(0,xe.hu)(this.allowedEvents_.find(a=>a===l),"Unknown event: "+l)}}class la extends Ga{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,xe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new la}getInitialEvent(l){return(0,xe.hu)("online"===l,"Unknown event type: "+l),[this.online_]}currentlyOnline(){return this.online_}}class or{constructor(l,a){if(void 0===a){this.pieces_=l.split("/");let p=0;for(let _=0;_<this.pieces_.length;_++)this.pieces_[_].length>0&&(this.pieces_[p]=this.pieces_[_],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=a}toString(){let l="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(l+="/"+this.pieces_[a]);return l||"/"}}function $r(){return new or("")}function Qt(d){return d.pieceNum_>=d.pieces_.length?null:d.pieces_[d.pieceNum_]}function zn(d){return d.pieces_.length-d.pieceNum_}function Wr(d){let l=d.pieceNum_;return l<d.pieces_.length&&l++,new or(d.pieces_,l)}function en(d){return d.pieceNum_<d.pieces_.length?d.pieces_[d.pieces_.length-1]:null}function Wt(d,l=0){return d.pieces_.slice(d.pieceNum_+l)}function ki(d){if(d.pieceNum_>=d.pieces_.length)return null;const l=[];for(let a=d.pieceNum_;a<d.pieces_.length-1;a++)l.push(d.pieces_[a]);return new or(l,0)}function ai(d,l){const a=[];for(let p=d.pieceNum_;p<d.pieces_.length;p++)a.push(d.pieces_[p]);if(l instanceof or)for(let p=l.pieceNum_;p<l.pieces_.length;p++)a.push(l.pieces_[p]);else{const p=l.split("/");for(let _=0;_<p.length;_++)p[_].length>0&&a.push(p[_])}return new or(a,0)}function Nr(d){return d.pieceNum_>=d.pieces_.length}function hs(d,l){const a=Qt(d),p=Qt(l);if(null===a)return l;if(a===p)return hs(Wr(d),Wr(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+d+")")}function mu(d,l){const a=Wt(d,0),p=Wt(l,0);for(let _=0;_<a.length&&_<p.length;_++){const S=Y(a[_],p[_]);if(0!==S)return S}return a.length===p.length?0:a.length<p.length?-1:1}function Kl(d,l){if(zn(d)!==zn(l))return!1;for(let a=d.pieceNum_,p=l.pieceNum_;a<=d.pieces_.length;a++,p++)if(d.pieces_[a]!==l.pieces_[p])return!1;return!0}function qi(d,l){let a=d.pieceNum_,p=l.pieceNum_;if(zn(d)>zn(l))return!1;for(;a<d.pieces_.length;){if(d.pieces_[a]!==l.pieces_[p])return!1;++a,++p}return!0}class Ka{constructor(l,a){this.errorPrefix_=a,this.parts_=Wt(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,xe.ug)(this.parts_[p]);Gi(this)}}function Gi(d){if(d.byteLength_>768)throw new Error(d.errorPrefix_+"has a key path longer than 768 bytes ("+d.byteLength_+").");if(d.parts_.length>32)throw new Error(d.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bo(d))}function Bo(d){return 0===d.parts_.length?"":"in property '"+d.parts_.join(".")+"'"}class Hs extends Ga{constructor(){let l,a;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(a="visibilitychange",l="hidden"):void 0!==document.mozHidden?(a="mozvisibilitychange",l="mozHidden"):void 0!==document.msHidden?(a="msvisibilitychange",l="msHidden"):void 0!==document.webkitHidden&&(a="webkitvisibilitychange",l="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const p=!document[l];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new Hs}getInitialEvent(l){return(0,xe.hu)("visible"===l,"Unknown event type: "+l),[this.visible_]}}const wr=1e3;let xt,fe=(()=>{class d extends js{constructor(a,p,_,S,B,ae,Se,Ne){if(super(),this.repoInfo_=a,this.applicationId_=p,this.onDataUpdate_=_,this.onConnectStatus_=S,this.onServerInfoUpdate_=B,this.authTokenProvider_=ae,this.appCheckTokenProvider_=Se,this.authOverride_=Ne,this.id=d.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ne&&!(0,xe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hs.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&la.getInstance().on("online",this.onOnline_,this)}sendRequest(a,p,_){const S=++this.requestNumber_,B={r:S,a,b:p};this.log_((0,xe.Pz)(B)),(0,xe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(B),_&&(this.requestCBHash_[S]=_)}get(a){this.initConnection_();const p=new xe.BH,_={p:a._path.toString(),q:a._queryObject},S={action:"g",request:_,onComplete:ae=>{const Se=ae.d;"ok"===ae.s?(this.onDataUpdate_(_.p,Se,!1,null),p.resolve(Se)):p.reject(Se)}};this.outstandingGets_.push(S),this.outstandingGetCount_++;const B=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const ae=this.outstandingGets_[B];void 0===ae||S!==ae||(delete this.outstandingGets_[B],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+B+" timed out on connection"),p.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(B),p.promise}listen(a,p,_,S){this.initConnection_();const B=a._queryIdentifier,ae=a._path.toString();this.log_("Listen called for "+ae+" "+B),this.listens.has(ae)||this.listens.set(ae,new Map),(0,xe.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,xe.hu)(!this.listens.get(ae).has(B),"listen() called twice for same path/queryId.");const Se={onComplete:S,hashFn:p,query:a,tag:_};this.listens.get(ae).set(B,Se),this.connected_&&this.sendListen_(Se)}sendGet_(a){const p=this.outstandingGets_[a];this.sendRequest("g",p.request,_=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(_)})}sendListen_(a){const p=a.query,_=p._path.toString(),S=p._queryIdentifier;this.log_("Listen on "+_+" for "+S);const B={p:_};a.tag&&(B.q=p._queryObject,B.t=a.tag),B.h=a.hashFn(),this.sendRequest("q",B,Se=>{const Ne=Se.d,It=Se.s;d.warnOnListenWarnings_(Ne,p),(this.listens.get(_)&&this.listens.get(_).get(S))===a&&(this.log_("listen response",Se),"ok"!==It&&this.removeListen_(_,S),a.onComplete&&a.onComplete(It,Ne))})}static warnOnListenWarnings_(a,p){if(a&&"object"==typeof a&&(0,xe.r3)(a,"w")){const _=(0,xe.DV)(a,"w");if(Array.isArray(_)&&~_.indexOf("no_index")){const S='".indexOn": "'+p._queryParams.getIndex().toString()+'"',B=p._path.toString();bi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${S} at ${B} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,xe.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,p=(0,xe.w9)(a)?"auth":"gauth",_={cred:a};null===this.authOverride_?_.noauth=!0:"object"==typeof this.authOverride_&&(_.authvar=this.authOverride_),this.sendRequest(p,_,S=>{const B=S.s,ae=S.d||"error";this.authToken_===a&&("ok"===B?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(B,ae))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const p=a.s,_=a.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,_)})}unlisten(a,p){const _=a._path.toString(),S=a._queryIdentifier;this.log_("Unlisten called for "+_+" "+S),(0,xe.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(_,S)&&this.connected_&&this.sendUnlisten_(_,S,a._queryObject,p)}sendUnlisten_(a,p,_,S){this.log_("Unlisten on "+a+" for "+p);const B={p:a};S&&(B.q=_,B.t=S),this.sendRequest("n",B)}onDisconnectPut(a,p,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,p,_):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:p,onComplete:_})}onDisconnectMerge(a,p,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,p,_):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:p,onComplete:_})}onDisconnectCancel(a,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,p):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(a,p,_,S){const B={p,d:_};this.log_("onDisconnect "+a,B),this.sendRequest(a,B,ae=>{S&&setTimeout(()=>{S(ae.s,ae.d)},Math.floor(0))})}put(a,p,_,S){this.putInternal("p",a,p,_,S)}merge(a,p,_,S){this.putInternal("m",a,p,_,S)}putInternal(a,p,_,S,B){this.initConnection_();const ae={p,d:_};void 0!==B&&(ae.h=B),this.outstandingPuts_.push({action:a,request:ae,onComplete:S}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(a){const p=this.outstandingPuts_[a].action,_=this.outstandingPuts_[a].request,S=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(p,_,B=>{this.log_(p+" response",B),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),S&&S(B.s,B.d)})}reportStats(a){if(this.connected_){const p={c:a};this.log_("reportStats",p),this.sendRequest("s",p,_=>{"ok"!==_.s&&this.log_("reportStats","Error sending stats: "+_.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,xe.Pz)(a));const p=a.r,_=this.requestCBHash_[p];_&&(delete this.requestCBHash_[p],_(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,p){this.log_("handleServerMessage",a,p),"d"===a?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===a?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===a?this.onListenRevoked_(p.p,p.q):"ac"===a?this.onAuthRevoked_(p.s,p.d):"apc"===a?this.onAppCheckRevoked_(p.s,p.d):"sd"===a?this.onSecurityDebugPacket_(p):wo("Unrecognized action received from server: "+(0,xe.Pz)(a)+"\nAre you using the latest client?")}onReady_(a,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,xe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wr,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=wr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-a);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,Po.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const p=a.onDataMessage_.bind(a),_=a.onReady_.bind(a),S=a.onRealtimeDisconnect_.bind(a),B=a.id+":"+d.nextConnectionId_++,ae=a.lastSessionId;let Se=!1,Ne=null;const It=function(){Ne?Ne.close():(Se=!0,S())};a.realtime_={close:It,sendRequest:function(Nn){(0,xe.hu)(Ne,"sendRequest call when we're not connected not allowed."),Ne.sendRequest(Nn)}};const Bt=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[Nn,nr]=yield Promise.all([a.authTokenProvider_.getToken(Bt),a.appCheckTokenProvider_.getToken(Bt)]);Se?hi("getToken() completed but was canceled"):(hi("getToken() completed. Creating connection."),a.authToken_=Nn&&Nn.accessToken,a.appCheckToken_=nr&&nr.token,Ne=new Co(B,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,p,_,S,fi=>{bi(fi+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},ae))}catch(Nn){a.log_("Failed to get token: "+Nn),Se||(a.repoInfo_.nodeAdmin&&bi(Nn),It())}}})()}interrupt(a){hi("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){hi("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,xe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=wr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const p=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const p=this.outstandingPuts_[a];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,p){let _;_=p?p.map(B=>F(B)).join("$"):"default";const S=this.removeListen_(a,_);S&&S.onComplete&&S.onComplete("permission_denied")}removeListen_(a,p){const _=new or(a).toString();let S;if(this.listens.has(_)){const B=this.listens.get(_);S=B.get(p),B.delete(p),0===B.size&&this.listens.delete(_)}else S=void 0;return S}onAuthRevoked_(a,p){hi("Auth token revoked: "+a+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,p){hi("App check token revoked: "+a+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const p of a.values())this.sendListen_(p);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let p="js";(0,xe.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+p+"."+ys.replace(/\./g,"-")]=1,(0,xe.uI)()?a["framework.cordova"]=1:(0,xe.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=la.getInstance().currentlyOnline();return(0,xe.xb)(this.interruptReasons_)&&a}}return d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d})();class Ie{constructor(l,a){this.name=l,this.node=a}static Wrap(l,a){return new Ie(l,a)}}class nt{getCompare(){return this.compare.bind(this)}indexedValueChanged(l,a){const p=new Ie(G,l),_=new Ie(G,a);return 0!==this.compare(p,_)}minPost(){return Ie.MIN}}class Tn extends nt{static get __EMPTY_NODE(){return xt}static set __EMPTY_NODE(l){xt=l}compare(l,a){return Y(l.name,a.name)}isDefinedOn(l){throw(0,xe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(l,a){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(le,xt)}makePost(l,a){return(0,xe.hu)("string"==typeof l,"KeyIndex indexValue must always be a string."),new Ie(l,xt)}toString(){return".key"}}const Ir=new Tn;class yn{constructor(l,a,p,_,S=null){this.isReverse_=_,this.resultGenerator_=S,this.nodeStack_=[];let B=1;for(;!l.isEmpty();)if(l=l,B=a?p(l.key,a):1,_&&(B*=-1),B<0)l=this.isReverse_?l.left:l.right;else{if(0===B){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,l=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}}}let ca,pr=(()=>{class d{constructor(a,p,_,S,B){this.key=a,this.value=p,this.color=null!=_?_:d.RED,this.left=null!=S?S:ir.EMPTY_NODE,this.right=null!=B?B:ir.EMPTY_NODE}copy(a,p,_,S,B){return new d(null!=a?a:this.key,null!=p?p:this.value,null!=_?_:this.color,null!=S?S:this.left,null!=B?B:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,p,_){let S=this;const B=_(a,S.key);return S=B<0?S.copy(null,null,null,S.left.insert(a,p,_),null):0===B?S.copy(null,p,null,null,null):S.copy(null,null,null,null,S.right.insert(a,p,_)),S.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,p){let _,S;if(_=this,p(a,_.key)<0)!_.left.isEmpty()&&!_.left.isRed_()&&!_.left.left.isRed_()&&(_=_.moveRedLeft_()),_=_.copy(null,null,null,_.left.remove(a,p),null);else{if(_.left.isRed_()&&(_=_.rotateRight_()),!_.right.isEmpty()&&!_.right.isRed_()&&!_.right.left.isRed_()&&(_=_.moveRedRight_()),0===p(a,_.key)){if(_.right.isEmpty())return ir.EMPTY_NODE;S=_.right.min_(),_=_.copy(S.key,S.value,null,null,_.right.removeMin_())}_=_.copy(null,null,null,null,_.right.remove(a,p))}return _.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,d.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,d.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,p)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return d.RED=!0,d.BLACK=!1,d})();class ir{constructor(l,a=ir.EMPTY_NODE){this.comparator_=l,this.root_=a}insert(l,a){return new ir(this.comparator_,this.root_.insert(l,a,this.comparator_).copy(null,null,pr.BLACK,null,null))}remove(l){return new ir(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,pr.BLACK,null,null))}get(l){let a,p=this.root_;for(;!p.isEmpty();){if(a=this.comparator_(l,p.key),0===a)return p.value;a<0?p=p.left:a>0&&(p=p.right)}return null}getPredecessorKey(l){let a,p=this.root_,_=null;for(;!p.isEmpty();){if(a=this.comparator_(l,p.key),0===a){if(p.left.isEmpty())return _?_.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}a<0?p=p.left:a>0&&(_=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(l){return this.root_.inorderTraversal(l)}reverseTraversal(l){return this.root_.reverseTraversal(l)}getIterator(l){return new yn(this.root_,null,this.comparator_,!1,l)}getIteratorFrom(l,a){return new yn(this.root_,l,this.comparator_,!1,a)}getReverseIteratorFrom(l,a){return new yn(this.root_,l,this.comparator_,!0,a)}getReverseIterator(l){return new yn(this.root_,null,this.comparator_,!0,l)}}function Ps(d,l){return Y(d.name,l.name)}function Fi(d,l){return Y(d,l)}ir.EMPTY_NODE=new class{copy(l,a,p,_,S){return this}insert(l,a,p){return new pr(l,a,null)}remove(l,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const li=function(d){return"number"==typeof d?"number:"+se(d):"string:"+d},Ns=function(d){if(d.isLeafNode()){const l=d.val();(0,xe.hu)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,xe.r3)(l,".sv"),"Priority must be a string or number.")}else(0,xe.hu)(d===ca||d.isEmpty(),"priority of unexpected type.");(0,xe.hu)(d===ca||d.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xa,md,kn,Ra=(()=>{class d{constructor(a,p=d.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=p,this.lazyHash_=null,(0,xe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ns(this.priorityNode_)}static set __childrenNodeConstructor(a){xa=a}static get __childrenNodeConstructor(){return xa}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new d(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return Nr(a)?this:".priority"===Qt(a)?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,p){return null}updateImmediateChild(a,p){return".priority"===a?this.updatePriority(p):p.isEmpty()&&".priority"!==a?this:d.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,p).updatePriority(this.priorityNode_)}updateChild(a,p){const _=Qt(a);return null===_?p:p.isEmpty()&&".priority"!==_?this:((0,xe.hu)(".priority"!==_||1===zn(a),".priority must be the last token in a path"),this.updateImmediateChild(_,d.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wr(a),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,p){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+li(this.priorityNode_.val())+":");const p=typeof this.value_;a+=p+":",a+="number"===p?se(this.value_):this.value_,this.lazyHash_=Ti(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===d.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof d.__childrenNodeConstructor?-1:((0,xe.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const p=typeof a.value_,_=typeof this.value_,S=d.VALUE_TYPE_ORDER.indexOf(p),B=d.VALUE_TYPE_ORDER.indexOf(_);return(0,xe.hu)(S>=0,"Unknown leaf type: "+p),(0,xe.hu)(B>=0,"Unknown leaf type: "+_),S===B?"object"===_?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:B-S}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const p=a;return this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_)}return!1}}return d.VALUE_TYPE_ORDER=["object","boolean","number","string"],d})();const ri=new class extends nt{compare(l,a){const p=l.node.getPriority(),_=a.node.getPriority(),S=p.compareTo(_);return 0===S?Y(l.name,a.name):S}isDefinedOn(l){return!l.getPriority().isEmpty()}indexedValueChanged(l,a){return!l.getPriority().equals(a.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(le,new Ra("[PRIORITY-POST]",kn))}makePost(l,a){const p=md(l);return new Ie(a,new Ra("[PRIORITY-POST]",p))}toString(){return".priority"}},Li=Math.log(2);class wl{constructor(l){this.count=parseInt(Math.log(l+1)/Li,10),this.current_=this.count-1;const _=(S=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=l+1&_}nextBitIsOne(){const l=!(this.bits_&1<<this.current_);return this.current_--,l}}const oo=function(d,l,a,p){d.sort(l);const _=function(Se,Ne){const It=Ne-Se;let St,Bt;if(0===It)return null;if(1===It)return St=d[Se],Bt=a?a(St):St,new pr(Bt,St.node,pr.BLACK,null,null);{const Nn=parseInt(It/2,10)+Se,nr=_(Se,Nn),fi=_(Nn+1,Ne);return St=d[Nn],Bt=a?a(St):St,new pr(Bt,St.node,pr.BLACK,nr,fi)}},ae=function(Se){let Ne=null,It=null,St=d.length;const Bt=function(nr,fi){const Ks=St-nr,$u=St;St-=nr;const Vi=_(Ks+1,$u),lu=d[Ks],lf=a?a(lu):lu;Nn(new pr(lf,lu.node,fi,null,Vi))},Nn=function(nr){Ne?(Ne.left=nr,Ne=nr):(It=nr,Ne=nr)};for(let nr=0;nr<Se.count;++nr){const fi=Se.nextBitIsOne(),Ks=Math.pow(2,Se.count-(nr+1));fi?Bt(Ks,pr.BLACK):(Bt(Ks,pr.BLACK),Bt(Ks,pr.RED))}return It}(new wl(d.length));return new ir(p||l,ae)};let Il;const Go={};class xi{constructor(l,a){this.indexes_=l,this.indexSet_=a}static get Default(){return(0,xe.hu)(Go&&ri,"ChildrenNode.ts has not been loaded"),Il=Il||new xi({".priority":Go},{".priority":ri}),Il}get(l){const a=(0,xe.DV)(this.indexes_,l);if(!a)throw new Error("No index defined for "+l);return a instanceof ir?a:null}hasIndex(l){return(0,xe.r3)(this.indexSet_,l.toString())}addIndex(l,a){(0,xe.hu)(l!==Ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let _=!1;const S=a.getIterator(Ie.Wrap);let ae,B=S.getNext();for(;B;)_=_||l.isDefinedOn(B.node),p.push(B),B=S.getNext();ae=_?oo(p,l.getCompare()):Go;const Se=l.toString(),Ne=Object.assign({},this.indexSet_);Ne[Se]=l;const It=Object.assign({},this.indexes_);return It[Se]=ae,new xi(It,Ne)}addToIndexes(l,a){const p=(0,xe.UI)(this.indexes_,(_,S)=>{const B=(0,xe.DV)(this.indexSet_,S);if((0,xe.hu)(B,"Missing index implementation for "+S),_===Go){if(B.isDefinedOn(l.node)){const ae=[],Se=a.getIterator(Ie.Wrap);let Ne=Se.getNext();for(;Ne;)Ne.name!==l.name&&ae.push(Ne),Ne=Se.getNext();return ae.push(l),oo(ae,B.getCompare())}return Go}{const ae=a.get(l.name);let Se=_;return ae&&(Se=Se.remove(new Ie(l.name,ae))),Se.insert(l,l.node)}});return new xi(p,this.indexSet_)}removeFromIndexes(l,a){const p=(0,xe.UI)(this.indexes_,_=>{if(_===Go)return _;{const S=a.get(l.name);return S?_.remove(new Ie(l.name,S)):_}});return new xi(p,this.indexSet_)}}let fs,gr=(()=>{class d{constructor(a,p,_){this.children_=a,this.priorityNode_=p,this.indexMap_=_,this.lazyHash_=null,this.priorityNode_&&Ns(this.priorityNode_),this.children_.isEmpty()&&(0,xe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fs||(fs=new d(new ir(Fi),null,xi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fs}updatePriority(a){return this.children_.isEmpty()?this:new d(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const p=this.children_.get(a);return null===p?fs:p}}getChild(a){const p=Qt(a);return null===p?this:this.getImmediateChild(p).getChild(Wr(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,p){if((0,xe.hu)(p,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(p);{const _=new Ie(a,p);let S,B;p.isEmpty()?(S=this.children_.remove(a),B=this.indexMap_.removeFromIndexes(_,this.children_)):(S=this.children_.insert(a,p),B=this.indexMap_.addToIndexes(_,this.children_));const ae=S.isEmpty()?fs:this.priorityNode_;return new d(S,ae,B)}}updateChild(a,p){const _=Qt(a);if(null===_)return p;{(0,xe.hu)(".priority"!==Qt(a)||1===zn(a),".priority must be the last token in a path");const S=this.getImmediateChild(_).updateChild(Wr(a),p);return this.updateImmediateChild(_,S)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const p={};let _=0,S=0,B=!0;if(this.forEachChild(ri,(ae,Se)=>{p[ae]=Se.val(a),_++,B&&d.INTEGER_REGEXP_.test(ae)?S=Math.max(S,Number(ae)):B=!1}),!a&&B&&S<2*_){const ae=[];for(const Se in p)ae[Se]=p[Se];return ae}return a&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+li(this.getPriority().val())+":"),this.forEachChild(ri,(p,_)=>{const S=_.hash();""!==S&&(a+=":"+p+":"+S)}),this.lazyHash_=""===a?"":Ti(a)}return this.lazyHash_}getPredecessorChildName(a,p,_){const S=this.resolveIndex_(_);if(S){const B=S.getPredecessorKey(new Ie(a,p));return B?B.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const p=this.resolveIndex_(a);if(p){const _=p.minKey();return _&&_.name}return this.children_.minKey()}getFirstChild(a){const p=this.getFirstChildName(a);return p?new Ie(p,this.children_.get(p)):null}getLastChildName(a){const p=this.resolveIndex_(a);if(p){const _=p.maxKey();return _&&_.name}return this.children_.maxKey()}getLastChild(a){const p=this.getLastChildName(a);return p?new Ie(p,this.children_.get(p)):null}forEachChild(a,p){const _=this.resolveIndex_(a);return _?_.inorderTraversal(S=>p(S.name,S.node)):this.children_.inorderTraversal(p)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,p){const _=this.resolveIndex_(p);if(_)return _.getIteratorFrom(a,S=>S);{const S=this.children_.getIteratorFrom(a.name,Ie.Wrap);let B=S.peek();for(;null!=B&&p.compare(B,a)<0;)S.getNext(),B=S.peek();return S}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,p){const _=this.resolveIndex_(p);if(_)return _.getReverseIteratorFrom(a,S=>S);{const S=this.children_.getReverseIteratorFrom(a.name,Ie.Wrap);let B=S.peek();for(;null!=B&&p.compare(B,a)>0;)S.getNext(),B=S.peek();return S}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===zs?-1:0}withIndex(a){if(a===Ir||this.indexMap_.hasIndex(a))return this;{const p=this.indexMap_.addIndex(a,this.children_);return new d(this.children_,this.priorityNode_,p)}}isIndexed(a){return a===Ir||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const p=a;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const _=this.getIterator(ri),S=p.getIterator(ri);let B=_.getNext(),ae=S.getNext();for(;B&&ae;){if(B.name!==ae.name||!B.node.equals(ae.node))return!1;B=_.getNext(),ae=S.getNext()}return null===B&&null===ae}return!1}return!1}}resolveIndex_(a){return a===Ir?null:this.indexMap_.get(a.toString())}}return d.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,d})();const zs=new class extends gr{constructor(){super(new ir(Fi),gr.EMPTY_NODE,xi.Default)}compareTo(l){return l===this?0:1}equals(l){return l===this}getPriority(){return this}getImmediateChild(l){return gr.EMPTY_NODE}isEmpty(){return!1}};function Dr(d,l=null){if(null===d)return gr.EMPTY_NODE;if("object"==typeof d&&".priority"in d&&(l=d[".priority"]),(0,xe.hu)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof d&&".value"in d&&null!==d[".value"]&&(d=d[".value"]),"object"!=typeof d||".sv"in d)return new Ra(d,Dr(l));if(d instanceof Array){let a=gr.EMPTY_NODE;return R(d,(p,_)=>{if((0,xe.r3)(d,p)&&"."!==p.substring(0,1)){const S=Dr(_);(S.isLeafNode()||!S.isEmpty())&&(a=a.updateImmediateChild(p,S))}}),a.updatePriority(Dr(l))}{const a=[];let p=!1;if(R(d,(B,ae)=>{if("."!==B.substring(0,1)){const Se=Dr(ae);Se.isEmpty()||(p=p||!Se.getPriority().isEmpty(),a.push(new Ie(B,Se)))}}),0===a.length)return gr.EMPTY_NODE;const S=oo(a,Ps,B=>B.name,Fi);if(p){const B=oo(a,ri.getCompare());return new gr(S,Dr(l),new xi({".priority":B},{".priority":ri}))}return new gr(S,Dr(l),xi.Default)}}Object.defineProperties(Ie,{MIN:{value:new Ie(G,gr.EMPTY_NODE)},MAX:{value:new Ie(le,zs)}}),Tn.__EMPTY_NODE=gr.EMPTY_NODE,Ra.__childrenNodeConstructor=gr,ca=zs,kn=zs,function(d){md=d}(Dr);class Oa extends nt{constructor(l){super(),this.indexPath_=l,(0,xe.hu)(!Nr(l)&&".priority"!==Qt(l),"Can't create PathIndex with empty path or .priority key")}extractChild(l){return l.getChild(this.indexPath_)}isDefinedOn(l){return!l.getChild(this.indexPath_).isEmpty()}compare(l,a){const p=this.extractChild(l.node),_=this.extractChild(a.node),S=p.compareTo(_);return 0===S?Y(l.name,a.name):S}makePost(l,a){const p=Dr(l),_=gr.EMPTY_NODE.updateChild(this.indexPath_,p);return new Ie(a,_)}maxPost(){const l=gr.EMPTY_NODE.updateChild(this.indexPath_,zs);return new Ie(le,l)}toString(){return Wt(this.indexPath_,0).join("/")}}const Wu=new class extends nt{compare(l,a){const p=l.node.compareTo(a.node);return 0===p?Y(l.name,a.name):p}isDefinedOn(l){return!0}indexedValueChanged(l,a){return!l.equals(a)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(l,a){const p=Dr(l);return new Ie(a,p)}toString(){return".value"}},da="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cl=function(){let d=0;const l=[];return function(a){const p=a===d;let _;d=a;const S=new Array(8);for(_=7;_>=0;_--)S[_]=da.charAt(a%64),a=Math.floor(a/64);(0,xe.hu)(0===a,"Cannot push at time == 0");let B=S.join("");if(p){for(_=11;_>=0&&63===l[_];_--)l[_]=0;l[_]++}else for(_=0;_<12;_++)l[_]=Math.floor(64*Math.random());for(_=0;_<12;_++)B+=da.charAt(l[_]);return(0,xe.hu)(20===B.length,"nextPushId: Length should be 20."),B}}(),Ko=function(d){if(d===""+b)return"-";const l=z(d);if(null!=l)return""+(l+1);const a=new Array(d.length);for(let B=0;B<a.length;B++)a[B]=d.charAt(B);if(a.length<786)return a.push("-"),a.join("");let p=a.length-1;for(;p>=0&&"z"===a[p];)p--;if(-1===p)return le;const S=da.charAt(da.indexOf(a[p])+1);return a[p]=S,a.slice(0,p+1).join("")},Dc=function(d){if(d===""+kr)return G;const l=z(d);if(null!=l)return""+(l-1);const a=new Array(d.length);for(let p=0;p<a.length;p++)a[p]=d.charAt(p);return"-"===a[a.length-1]?1===a.length?""+b:(delete a[a.length-1],a.join("")):(a[a.length-1]=da.charAt(da.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function Qa(d){return{type:"value",snapshotNode:d}}function Zs(d,l){return{type:"child_added",snapshotNode:l,childName:d}}function rs(d,l){return{type:"child_removed",snapshotNode:l,childName:d}}function fo(d,l,a){return{type:"child_changed",snapshotNode:l,childName:d,oldSnap:a}}class Xa{constructor(l){this.index_=l}updateChild(l,a,p,_,S,B){(0,xe.hu)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ae=l.getImmediateChild(a);return ae.getChild(_).equals(p.getChild(_))&&ae.isEmpty()===p.isEmpty()||(null!=B&&(p.isEmpty()?l.hasChild(a)?B.trackChildChange(rs(a,ae)):(0,xe.hu)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ae.isEmpty()?B.trackChildChange(Zs(a,p)):B.trackChildChange(fo(a,p,ae))),l.isLeafNode()&&p.isEmpty())?l:l.updateImmediateChild(a,p).withIndex(this.index_)}updateFullNode(l,a,p){return null!=p&&(l.isLeafNode()||l.forEachChild(ri,(_,S)=>{a.hasChild(_)||p.trackChildChange(rs(_,S))}),a.isLeafNode()||a.forEachChild(ri,(_,S)=>{if(l.hasChild(_)){const B=l.getImmediateChild(_);B.equals(S)||p.trackChildChange(fo(_,S,B))}else p.trackChildChange(Zs(_,S))})),a.withIndex(this.index_)}updatePriority(l,a){return l.isEmpty()?gr.EMPTY_NODE:l.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yo{constructor(l){this.indexedFilter_=new Xa(l.getIndex()),this.index_=l.getIndex(),this.startPost_=Yo.getStartPost_(l),this.endPost_=Yo.getEndPost_(l)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0}updateChild(l,a,p,_,S,B){return this.matches(new Ie(a,p))||(p=gr.EMPTY_NODE),this.indexedFilter_.updateChild(l,a,p,_,S,B)}updateFullNode(l,a,p){a.isLeafNode()&&(a=gr.EMPTY_NODE);let _=a.withIndex(this.index_);_=_.updatePriority(gr.EMPTY_NODE);const S=this;return a.forEachChild(ri,(B,ae)=>{S.matches(new Ie(B,ae))||(_=_.updateImmediateChild(B,gr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,_,p)}updatePriority(l,a){return l}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(l){if(l.hasStart()){const a=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),a)}return l.getIndex().minPost()}static getEndPost_(l){if(l.hasEnd()){const a=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),a)}return l.getIndex().maxPost()}}class fh{constructor(l){this.rangedFilter_=new Yo(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}updateChild(l,a,p,_,S,B){return this.rangedFilter_.matches(new Ie(a,p))||(p=gr.EMPTY_NODE),l.getImmediateChild(a).equals(p)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,a,p,_,S,B):this.fullLimitUpdateChild_(l,a,p,S,B)}updateFullNode(l,a,p){let _;if(a.isLeafNode()||a.isEmpty())_=gr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let S;_=gr.EMPTY_NODE.withIndex(this.index_),S=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let B=0;for(;S.hasNext()&&B<this.limit_;){const ae=S.getNext();let Se;if(Se=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ae)<=0:this.index_.compare(ae,this.rangedFilter_.getEndPost())<=0,!Se)break;_=_.updateImmediateChild(ae.name,ae.node),B++}}else{let S,B,ae,Se;if(_=a.withIndex(this.index_),_=_.updatePriority(gr.EMPTY_NODE),this.reverse_){Se=_.getReverseIterator(this.index_),S=this.rangedFilter_.getEndPost(),B=this.rangedFilter_.getStartPost();const St=this.index_.getCompare();ae=(Bt,Nn)=>St(Nn,Bt)}else Se=_.getIterator(this.index_),S=this.rangedFilter_.getStartPost(),B=this.rangedFilter_.getEndPost(),ae=this.index_.getCompare();let Ne=0,It=!1;for(;Se.hasNext();){const St=Se.getNext();!It&&ae(S,St)<=0&&(It=!0),It&&Ne<this.limit_&&ae(St,B)<=0?Ne++:_=_.updateImmediateChild(St.name,gr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,_,p)}updatePriority(l,a){return l}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(l,a,p,_,S){let B;if(this.reverse_){const St=this.index_.getCompare();B=(Bt,Nn)=>St(Nn,Bt)}else B=this.index_.getCompare();const ae=l;(0,xe.hu)(ae.numChildren()===this.limit_,"");const Se=new Ie(a,p),Ne=this.reverse_?ae.getFirstChild(this.index_):ae.getLastChild(this.index_),It=this.rangedFilter_.matches(Se);if(ae.hasChild(a)){const St=ae.getImmediateChild(a);let Bt=_.getChildAfterChild(this.index_,Ne,this.reverse_);for(;null!=Bt&&(Bt.name===a||ae.hasChild(Bt.name));)Bt=_.getChildAfterChild(this.index_,Bt,this.reverse_);const Nn=null==Bt?1:B(Bt,Se);if(It&&!p.isEmpty()&&Nn>=0)return null!=S&&S.trackChildChange(fo(a,p,St)),ae.updateImmediateChild(a,p);{null!=S&&S.trackChildChange(rs(a,St));const fi=ae.updateImmediateChild(a,gr.EMPTY_NODE);return null!=Bt&&this.rangedFilter_.matches(Bt)?(null!=S&&S.trackChildChange(Zs(Bt.name,Bt.node)),fi.updateImmediateChild(Bt.name,Bt.node)):fi}}return p.isEmpty()?l:It&&B(Ne,Se)>=0?(null!=S&&(S.trackChildChange(rs(Ne.name,Ne.node)),S.trackChildChange(Zs(a,p))),ae.updateImmediateChild(a,p).updateImmediateChild(Ne.name,gr.EMPTY_NODE)):l}}class qo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,xe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,xe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:G}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,xe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,xe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:le}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,xe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){const l=new qo;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l}}function pe(d,l,a){const p=d.copy();return p.startSet_=!0,void 0===l&&(l=null),p.indexStartValue_=l,null!=a?(p.startNameSet_=!0,p.indexStartName_=a):(p.startNameSet_=!1,p.indexStartName_=""),p}function mt(d,l,a){const p=d.copy();return p.endSet_=!0,void 0===l&&(l=null),p.indexEndValue_=l,void 0!==a?(p.endNameSet_=!0,p.indexEndName_=a):(p.endNameSet_=!1,p.indexEndName_=""),p}function Ht(d,l){const a=d.copy();return a.index_=l,a}function On(d){const l={};if(d.isDefault())return l;let a;return d.index_===ri?a="$priority":d.index_===Wu?a="$value":d.index_===Ir?a="$key":((0,xe.hu)(d.index_ instanceof Oa,"Unrecognized index type!"),a=d.index_.toString()),l.orderBy=(0,xe.Pz)(a),d.startSet_&&(l.startAt=(0,xe.Pz)(d.indexStartValue_),d.startNameSet_&&(l.startAt+=","+(0,xe.Pz)(d.indexStartName_))),d.endSet_&&(l.endAt=(0,xe.Pz)(d.indexEndValue_),d.endNameSet_&&(l.endAt+=","+(0,xe.Pz)(d.indexEndName_))),d.limitSet_&&(d.isViewFromLeft()?l.limitToFirst=d.limit_:l.limitToLast=d.limit_),l}function An(d){const l={};if(d.startSet_&&(l.sp=d.indexStartValue_,d.startNameSet_&&(l.sn=d.indexStartName_)),d.endSet_&&(l.ep=d.indexEndValue_,d.endNameSet_&&(l.en=d.indexEndName_)),d.limitSet_){l.l=d.limit_;let a=d.viewFrom_;""===a&&(a=d.isViewFromLeft()?"l":"r"),l.vf=a}return d.index_!==ri&&(l.i=d.index_.toString()),l}class er extends js{constructor(l,a,p,_){super(),this.repoInfo_=l,this.onDataUpdate_=a,this.authTokenProvider_=p,this.appCheckTokenProvider_=_,this.log_=Ji("p:rest:"),this.listens_={}}reportStats(l){throw new Error("Method not implemented.")}static getListenId_(l,a){return void 0!==a?"tag$"+a:((0,xe.hu)(l._queryParams.isDefault(),"should have a tag if it's not a default query."),l._path.toString())}listen(l,a,p,_){const S=l._path.toString();this.log_("Listen called for "+S+" "+l._queryIdentifier);const B=er.getListenId_(l,p),ae={};this.listens_[B]=ae;const Se=On(l._queryParams);this.restRequest_(S+".json",Se,(Ne,It)=>{let St=It;if(404===Ne&&(St=null,Ne=null),null===Ne&&this.onDataUpdate_(S,St,!1,p),(0,xe.DV)(this.listens_,B)===ae){let Bt;Bt=Ne?401===Ne?"permission_denied":"rest_error:"+Ne:"ok",_(Bt,null)}})}unlisten(l,a){const p=er.getListenId_(l,a);delete this.listens_[p]}get(l){const a=On(l._queryParams),p=l._path.toString(),_=new xe.BH;return this.restRequest_(p+".json",a,(S,B)=>{let ae=B;404===S&&(ae=null,S=null),null===S?(this.onDataUpdate_(p,ae,!1,null),_.resolve(ae)):_.reject(new Error(ae))}),_.promise}refreshAuthToken(l){}restRequest_(l,a={},p){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([_,S])=>{_&&_.accessToken&&(a.auth=_.accessToken),S&&S.token&&(a.ac=S.token);const B=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+l+"?ns="+this.repoInfo_.namespace+(0,xe.xO)(a);this.log_("Sending REST request for "+B);const ae=new XMLHttpRequest;ae.onreadystatechange=()=>{if(p&&4===ae.readyState){this.log_("REST Response for "+B+" received. status:",ae.status,"response:",ae.responseText);let Se=null;if(ae.status>=200&&ae.status<300){try{Se=(0,xe.cI)(ae.responseText)}catch(Ne){bi("Failed to parse JSON response for "+B+": "+ae.responseText)}p(null,Se)}else 401!==ae.status&&404!==ae.status&&bi("Got unsuccessful REST response for "+B+" Status: "+ae.status),p(ae.status);p=null}},ae.open("GET",B,!0),ae.send()})}}class ui{constructor(){this.rootNode_=gr.EMPTY_NODE}getNode(l){return this.rootNode_.getChild(l)}updateSnapshot(l,a){this.rootNode_=this.rootNode_.updateChild(l,a)}}function ks(){return{value:null,children:new Map}}function Ki(d,l,a){if(Nr(l))d.value=a,d.children.clear();else if(null!==d.value)d.value=d.value.updateChild(l,a);else{const p=Qt(l);d.children.has(p)||d.children.set(p,ks()),Ki(d.children.get(p),l=Wr(l),a)}}function Ri(d,l){if(Nr(l))return d.value=null,d.children.clear(),!0;if(null!==d.value){if(d.value.isLeafNode())return!1;{const a=d.value;return d.value=null,a.forEachChild(ri,(p,_)=>{Ki(d,new or(p),_)}),Ri(d,l)}}if(d.children.size>0){const a=Qt(l);return l=Wr(l),d.children.has(a)&&Ri(d.children.get(a),l)&&d.children.delete(a),0===d.children.size}return!0}function po(d,l,a){null!==d.value?a(l,d.value):function(d,l){d.children.forEach((a,p)=>{l(p,a)})}(d,(p,_)=>{po(_,new or(l.toString()+"/"+p),a)})}class Na{constructor(l){this.collection_=l,this.last_=null}get(){const l=this.collection_.get(),a=Object.assign({},l);return this.last_&&R(this.last_,(p,_)=>{a[p]=a[p]-_}),this.last_=l,a}}class Ja{constructor(l,a){this.server_=a,this.statsToReport_={},this.statsListener_=new Na(l);const p=1e4+2e4*Math.random();ge(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const l=this.statsListener_.get(),a={};let p=!1;R(l,(_,S)=>{S>0&&(0,xe.r3)(this.statsToReport_,_)&&(a[_]=S,p=!0)}),p&&this.server_.reportStats(a),ge(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Do=(()=>(function(d){d[d.OVERWRITE=0]="OVERWRITE",d[d.MERGE=1]="MERGE",d[d.ACK_USER_WRITE=2]="ACK_USER_WRITE",d[d.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Do||(Do={})),Do))();function Dl(d){return{fromUser:!1,fromServer:!0,queryId:d,tagged:!0}}class Tl{constructor(l,a,p){this.path=l,this.affectedTree=a,this.revert=p,this.type=Do.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(l){if(Nr(this.path)){if(null!=this.affectedTree.value)return(0,xe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new or(l));return new Tl($r(),a,this.revert)}}return(0,xe.hu)(Qt(this.path)===l,"operationForChild called for unrelated child."),new Tl(Wr(this.path),this.affectedTree,this.revert)}}class Sl{constructor(l,a){this.source=l,this.path=a,this.type=Do.LISTEN_COMPLETE}operationForChild(l){return Nr(this.path)?new Sl(this.source,$r()):new Sl(this.source,Wr(this.path))}}class Zl{constructor(l,a,p){this.source=l,this.path=a,this.snap=p,this.type=Do.OVERWRITE}operationForChild(l){return Nr(this.path)?new Zl(this.source,$r(),this.snap.getImmediateChild(l)):new Zl(this.source,Wr(this.path),this.snap)}}class ha{constructor(l,a,p){this.source=l,this.path=a,this.children=p,this.type=Do.MERGE}operationForChild(l){if(Nr(this.path)){const a=this.children.subtree(new or(l));return a.isEmpty()?null:a.value?new Zl(this.source,$r(),a.value):new ha(this.source,$r(),a)}return(0,xe.hu)(Qt(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new ha(this.source,Wr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class go{constructor(l,a,p){this.node_=l,this.fullyInitialized_=a,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(l){if(Nr(l))return this.isFullyInitialized()&&!this.filtered_;const a=Qt(l);return this.isCompleteForChild(a)}isCompleteForChild(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)}getNode(){return this.node_}}class _u{constructor(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()}}function Al(d,l,a,p,_,S){const B=p.filter(ae=>ae.type===a);B.sort((ae,Se)=>function(d,l,a){if(null==l.childName||null==a.childName)throw(0,xe.g5)("Should only compare child_ events.");const p=new Ie(l.childName,l.snapshotNode),_=new Ie(a.childName,a.snapshotNode);return d.index_.compare(p,_)}(d,ae,Se)),B.forEach(ae=>{const Se=function(d,l,a){return"value"===l.type||"child_removed"===l.type||(l.prevName=a.getPredecessorChildName(l.childName,l.snapshotNode,d.index_)),l}(d,ae,S);_.forEach(Ne=>{Ne.respondsTo(ae.type)&&l.push(Ne.createEvent(Se,d.query_))})})}function el(d,l){return{eventCache:d,serverCache:l}}function Eu(d,l,a,p){return el(new go(l,a,p),d.serverCache)}function _d(d,l,a,p){return el(d.eventCache,new go(l,a,p))}function fa(d){return d.eventCache.isFullyInitialized()?d.eventCache.getNode():null}function tl(d){return d.serverCache.isFullyInitialized()?d.serverCache.getNode():null}let xl;class _i{constructor(l,a=(()=>(xl||(xl=new ir(Ee)),xl))()){this.value=l,this.children=a}static fromObject(l){let a=new _i(null);return R(l,(p,_)=>{a=a.set(new or(p),_)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(l,a){if(null!=this.value&&a(this.value))return{path:$r(),value:this.value};if(Nr(l))return null;{const p=Qt(l),_=this.children.get(p);if(null!==_){const S=_.findRootMostMatchingPathAndValue(Wr(l),a);return null!=S?{path:ai(new or(p),S.path),value:S.value}:null}return null}}findRootMostValueAndPath(l){return this.findRootMostMatchingPathAndValue(l,()=>!0)}subtree(l){if(Nr(l))return this;{const a=Qt(l),p=this.children.get(a);return null!==p?p.subtree(Wr(l)):new _i(null)}}set(l,a){if(Nr(l))return new _i(a,this.children);{const p=Qt(l),S=(this.children.get(p)||new _i(null)).set(Wr(l),a),B=this.children.insert(p,S);return new _i(this.value,B)}}remove(l){if(Nr(l))return this.children.isEmpty()?new _i(null):new _i(null,this.children);{const a=Qt(l),p=this.children.get(a);if(p){const _=p.remove(Wr(l));let S;return S=_.isEmpty()?this.children.remove(a):this.children.insert(a,_),null===this.value&&S.isEmpty()?new _i(null):new _i(this.value,S)}return this}}get(l){if(Nr(l))return this.value;{const a=Qt(l),p=this.children.get(a);return p?p.get(Wr(l)):null}}setTree(l,a){if(Nr(l))return a;{const p=Qt(l),S=(this.children.get(p)||new _i(null)).setTree(Wr(l),a);let B;return B=S.isEmpty()?this.children.remove(p):this.children.insert(p,S),new _i(this.value,B)}}fold(l){return this.fold_($r(),l)}fold_(l,a){const p={};return this.children.inorderTraversal((_,S)=>{p[_]=S.fold_(ai(l,_),a)}),a(l,this.value,p)}findOnPath(l,a){return this.findOnPath_(l,$r(),a)}findOnPath_(l,a,p){const _=!!this.value&&p(a,this.value);if(_)return _;if(Nr(l))return null;{const S=Qt(l),B=this.children.get(S);return B?B.findOnPath_(Wr(l),ai(a,S),p):null}}foreachOnPath(l,a){return this.foreachOnPath_(l,$r(),a)}foreachOnPath_(l,a,p){if(Nr(l))return this;{this.value&&p(a,this.value);const _=Qt(l),S=this.children.get(_);return S?S.foreachOnPath_(Wr(l),ai(a,_),p):new _i(null)}}foreach(l){this.foreach_($r(),l)}foreach_(l,a){this.children.inorderTraversal((p,_)=>{_.foreach_(ai(l,p),a)}),this.value&&a(l,this.value)}foreachChild(l){this.children.inorderTraversal((a,p)=>{p.value&&l(a,p.value)})}}class mo{constructor(l){this.writeTree_=l}static empty(){return new mo(new _i(null))}}function Rl(d,l,a){if(Nr(l))return new mo(new _i(a));{const p=d.writeTree_.findRootMostValueAndPath(l);if(null!=p){const _=p.path;let S=p.value;const B=hs(_,l);return S=S.updateChild(B,a),new mo(d.writeTree_.set(_,S))}{const _=new _i(a),S=d.writeTree_.setTree(l,_);return new mo(S)}}}function Xl(d,l,a){let p=d;return R(a,(_,S)=>{p=Rl(p,ai(l,_),S)}),p}function vd(d,l){if(Nr(l))return mo.empty();{const a=d.writeTree_.setTree(l,new _i(null));return new mo(a)}}function Gu(d,l){return null!=nl(d,l)}function nl(d,l){const a=d.writeTree_.findRootMostValueAndPath(l);return null!=a?d.writeTree_.get(a.path).getChild(hs(a.path,l)):null}function Ml(d){const l=[],a=d.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(ri,(p,_)=>{l.push(new Ie(p,_))}):d.writeTree_.children.inorderTraversal((p,_)=>{null!=_.value&&l.push(new Ie(p,_.value))}),l}function To(d,l){if(Nr(l))return d;{const a=nl(d,l);return new mo(null!=a?new _i(a):d.writeTree_.subtree(l))}}function Sc(d){return d.writeTree_.isEmpty()}function Jl(d,l){return Ed($r(),d.writeTree_,l)}function Ed(d,l,a){if(null!=l.value)return a.updateChild(d,l.value);{let p=null;return l.children.inorderTraversal((_,S)=>{".priority"===_?((0,xe.hu)(null!==S.value,"Priority writes must always be leaf nodes"),p=S.value):a=Ed(ai(d,_),S,a)}),!a.getChild(d).isEmpty()&&null!==p&&(a=a.updateChild(ai(d,".priority"),p)),a}}function ka(d,l){return cr(l,d)}function ff(d,l){if(d.snap)return qi(d.path,l);for(const a in d.children)if(d.children.hasOwnProperty(a)&&qi(ai(d.path,a),l))return!0;return!1}function Cs(d){return d.visible}function Ku(d,l,a){let p=mo.empty();for(let _=0;_<d.length;++_){const S=d[_];if(l(S)){const B=S.path;let ae;if(S.snap)qi(a,B)?(ae=hs(a,B),p=Rl(p,ae,S.snap)):qi(B,a)&&(ae=hs(B,a),p=Rl(p,$r(),S.snap.getChild(ae)));else{if(!S.children)throw(0,xe.g5)("WriteRecord should have .snap or .children");if(qi(a,B))ae=hs(a,B),p=Xl(p,ae,S.children);else if(qi(B,a))if(ae=hs(B,a),Nr(ae))p=Xl(p,$r(),S.children);else{const Se=(0,xe.DV)(S.children,Qt(ae));if(Se){const Ne=Se.getChild(Wr(ae));p=Rl(p,$r(),Ne)}}}}}return p}function Ds(d,l,a,p,_){if(p||_){const S=To(d.visibleWrites,l);return!_&&Sc(S)?a:_||null!=a||Gu(S,$r())?Jl(Ku(d.allWrites,function(Ne){return(Ne.visible||_)&&(!p||!~p.indexOf(Ne.writeId))&&(qi(Ne.path,l)||qi(l,Ne.path))},l),a||gr.EMPTY_NODE):null}{const S=nl(d.visibleWrites,l);if(null!=S)return S;{const B=To(d.visibleWrites,l);return Sc(B)?a:null!=a||Gu(B,$r())?Jl(B,a||gr.EMPTY_NODE):null}}}function v(d,l,a,p){return Ds(d.writeTree,d.treePath,l,a,p)}function k(d,l){return function(d,l,a){let p=gr.EMPTY_NODE;const _=nl(d.visibleWrites,l);if(_)return _.isLeafNode()||_.forEachChild(ri,(S,B)=>{p=p.updateImmediateChild(S,B)}),p;if(a){const S=To(d.visibleWrites,l);return a.forEachChild(ri,(B,ae)=>{const Se=Jl(To(S,new or(B)),ae);p=p.updateImmediateChild(B,Se)}),Ml(S).forEach(B=>{p=p.updateImmediateChild(B.name,B.node)}),p}return Ml(To(d.visibleWrites,l)).forEach(B=>{p=p.updateImmediateChild(B.name,B.node)}),p}(d.writeTree,d.treePath,l)}function oe(d,l,a,p){return function(d,l,a,p,_){(0,xe.hu)(p||_,"Either existingEventSnap or existingServerSnap must exist");const S=ai(l,a);if(Gu(d.visibleWrites,S))return null;{const B=To(d.visibleWrites,S);return Sc(B)?_.getChild(a):Jl(B,_.getChild(a))}}(d.writeTree,d.treePath,l,a,p)}function Ce(d,l){return function(d,l){return nl(d.visibleWrites,l)}(d.writeTree,ai(d.treePath,l))}function Yt(d,l,a){return function(d,l,a,p){const _=ai(l,a),S=nl(d.visibleWrites,_);return null!=S?S:p.isCompleteForChild(a)?Jl(To(d.visibleWrites,_),p.getNode().getImmediateChild(a)):null}(d.writeTree,d.treePath,l,a)}function Vn(d,l){return cr(ai(d.treePath,l),d.writeTree)}function cr(d,l){return{treePath:d,writeTree:l}}class zr{constructor(){this.changeMap=new Map}trackChildChange(l){const a=l.type,p=l.childName;(0,xe.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,xe.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const _=this.changeMap.get(p);if(_){const S=_.type;if("child_added"===a&&"child_removed"===S)this.changeMap.set(p,fo(p,l.snapshotNode,_.snapshotNode));else if("child_removed"===a&&"child_added"===S)this.changeMap.delete(p);else if("child_removed"===a&&"child_changed"===S)this.changeMap.set(p,rs(p,_.oldSnap));else if("child_changed"===a&&"child_added"===S)this.changeMap.set(p,Zs(p,l.snapshotNode));else{if("child_changed"!==a||"child_changed"!==S)throw(0,xe.g5)("Illegal combination of changes: "+l+" occurred after "+_);this.changeMap.set(p,fo(p,l.snapshotNode,_.oldSnap))}}else this.changeMap.set(p,l)}getChanges(){return Array.from(this.changeMap.values())}}const So=new class{getCompleteChild(l){return null}getChildAfterChild(l,a,p){return null}};class Vo{constructor(l,a,p=null){this.writes_=l,this.viewCache_=a,this.optCompleteServerCache_=p}getCompleteChild(l){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(l))return a.getNode().getImmediateChild(l);{const p=null!=this.optCompleteServerCache_?new go(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yt(this.writes_,l,p)}}getChildAfterChild(l,a,p){const _=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tl(this.viewCache_),S=function(d,l,a,p,_,S){return function(d,l,a,p,_,S,B){let ae;const Se=To(d.visibleWrites,l),Ne=nl(Se,$r());if(null!=Ne)ae=Ne;else{if(null==a)return[];ae=Jl(Se,a)}if(ae=ae.withIndex(B),ae.isEmpty()||ae.isLeafNode())return[];{const It=[],St=B.getCompare(),Bt=S?ae.getReverseIteratorFrom(p,B):ae.getIteratorFrom(p,B);let Nn=Bt.getNext();for(;Nn&&It.length<_;)0!==St(Nn,p)&&It.push(Nn),Nn=Bt.getNext();return It}}(d.writeTree,d.treePath,l,a,p,_,S)}(this.writes_,_,a,1,p,l);return 0===S.length?null:S[0]}}function Cd(d,l,a,p,_,S){const B=l.eventCache;if(null!=Ce(p,a))return l;{let ae,Se;if(Nr(a))if((0,xe.hu)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){const Ne=tl(l),St=k(p,Ne instanceof gr?Ne:gr.EMPTY_NODE);ae=d.filter.updateFullNode(l.eventCache.getNode(),St,S)}else{const Ne=v(p,tl(l));ae=d.filter.updateFullNode(l.eventCache.getNode(),Ne,S)}else{const Ne=Qt(a);if(".priority"===Ne){(0,xe.hu)(1===zn(a),"Can't have a priority with additional path components");const It=B.getNode();Se=l.serverCache.getNode();const St=oe(p,a,It,Se);ae=null!=St?d.filter.updatePriority(It,St):B.getNode()}else{const It=Wr(a);let St;if(B.isCompleteForChild(Ne)){Se=l.serverCache.getNode();const Bt=oe(p,a,B.getNode(),Se);St=null!=Bt?B.getNode().getImmediateChild(Ne).updateChild(It,Bt):B.getNode().getImmediateChild(Ne)}else St=Yt(p,Ne,l.serverCache);ae=null!=St?d.filter.updateChild(B.getNode(),Ne,St,It,_,S):B.getNode()}}return Eu(l,ae,B.isFullyInitialized()||Nr(a),d.filter.filtersNodes())}}function Iu(d,l,a,p,_,S,B,ae){const Se=l.serverCache;let Ne;const It=B?d.filter:d.filter.getIndexedFilter();if(Nr(a))Ne=It.updateFullNode(Se.getNode(),p,null);else if(It.filtersNodes()&&!Se.isFiltered()){const Nn=Se.getNode().updateChild(a,p);Ne=It.updateFullNode(Se.getNode(),Nn,null)}else{const Nn=Qt(a);if(!Se.isCompleteForPath(a)&&zn(a)>1)return l;const nr=Wr(a),Ks=Se.getNode().getImmediateChild(Nn).updateChild(nr,p);Ne=".priority"===Nn?It.updatePriority(Se.getNode(),Ks):It.updateChild(Se.getNode(),Nn,Ks,nr,So,null)}const St=_d(l,Ne,Se.isFullyInitialized()||Nr(a),It.filtersNodes());return Cd(d,St,a,_,new Vo(_,St,S),ae)}function Ol(d,l,a,p,_,S,B){const ae=l.eventCache;let Se,Ne;const It=new Vo(_,l,S);if(Nr(a))Ne=d.filter.updateFullNode(l.eventCache.getNode(),p,B),Se=Eu(l,Ne,!0,d.filter.filtersNodes());else{const St=Qt(a);if(".priority"===St)Ne=d.filter.updatePriority(l.eventCache.getNode(),p),Se=Eu(l,Ne,ae.isFullyInitialized(),ae.isFiltered());else{const Bt=Wr(a),Nn=ae.getNode().getImmediateChild(St);let nr;if(Nr(Bt))nr=p;else{const fi=It.getCompleteChild(St);nr=null!=fi?".priority"===en(Bt)&&fi.getChild(ki(Bt)).isEmpty()?fi:fi.updateChild(Bt,p):gr.EMPTY_NODE}Se=Nn.equals(nr)?l:Eu(l,d.filter.updateChild(ae.getNode(),St,nr,Bt,It,B),ae.isFullyInitialized(),d.filter.filtersNodes())}}return Se}function Ac(d,l){return d.eventCache.isCompleteForChild(l)}function is(d,l,a){return a.foreach((p,_)=>{l=l.updateChild(p,_)}),l}function Yu(d,l,a,p,_,S,B,ae){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;let Ne,Se=l;Ne=Nr(a)?p:new _i(null).setTree(a,p);const It=l.serverCache.getNode();return Ne.children.inorderTraversal((St,Bt)=>{if(It.hasChild(St)){const nr=is(0,l.serverCache.getNode().getImmediateChild(St),Bt);Se=Iu(d,Se,new or(St),nr,_,S,B,ae)}}),Ne.children.inorderTraversal((St,Bt)=>{const Nn=!l.serverCache.isCompleteForChild(St)&&void 0===Bt.value;if(!It.hasChild(St)&&!Nn){const fi=is(0,l.serverCache.getNode().getImmediateChild(St),Bt);Se=Iu(d,Se,new or(St),fi,_,S,B,ae)}}),Se}class pf{constructor(l,a){this.query_=l,this.eventRegistrations_=[];const p=this.query_._queryParams,_=new Xa(p.getIndex()),S=function(d){return d.loadsAllData()?new Xa(d.getIndex()):d.hasLimit()?new fh(d):new Yo(d)}(p);this.processor_=function(d){return{filter:d}}(S);const B=a.serverCache,ae=a.eventCache,Se=_.updateFullNode(gr.EMPTY_NODE,B.getNode(),null),Ne=S.updateFullNode(gr.EMPTY_NODE,ae.getNode(),null),It=new go(Se,B.isFullyInitialized(),_.filtersNodes()),St=new go(Ne,ae.isFullyInitialized(),S.filtersNodes());this.viewCache_=el(St,It),this.eventGenerator_=new _u(this.query_)}get query(){return this.query_}}function gf(d,l){const a=tl(d.viewCache_);return a&&(d.query._queryParams.loadsAllData()||!Nr(l)&&!a.getImmediateChild(Qt(l)).isEmpty())?a.getChild(l):null}function mf(d){return 0===d.eventRegistrations_.length}function Ep(d,l,a){const p=[];if(a){(0,xe.hu)(null==l,"A cancel should cancel all event registrations.");const _=d.query._path;d.eventRegistrations_.forEach(S=>{const B=S.createCancelEvent(a,_);B&&p.push(B)})}if(l){let _=[];for(let S=0;S<d.eventRegistrations_.length;++S){const B=d.eventRegistrations_[S];if(B.matches(l)){if(l.hasAnyCallback()){_=_.concat(d.eventRegistrations_.slice(S+1));break}}else _.push(B)}d.eventRegistrations_=_}else d.eventRegistrations_=[];return p}function bp(d,l,a,p){l.type===Do.MERGE&&null!==l.source.queryId&&((0,xe.hu)(tl(d.viewCache_),"We should always have a full cache before handling merges"),(0,xe.hu)(fa(d.viewCache_),"Missing event cache, even though we have a server cache"));const _=d.viewCache_,S=function(d,l,a,p,_){const S=new zr;let B,ae;if(a.type===Do.OVERWRITE){const Ne=a;Ne.source.fromUser?B=Ol(d,l,Ne.path,Ne.snap,p,_,S):((0,xe.hu)(Ne.source.fromServer,"Unknown source."),ae=Ne.source.tagged||l.serverCache.isFiltered()&&!Nr(Ne.path),B=Iu(d,l,Ne.path,Ne.snap,p,_,ae,S))}else if(a.type===Do.MERGE){const Ne=a;Ne.source.fromUser?B=function(d,l,a,p,_,S,B){let ae=l;return p.foreach((Se,Ne)=>{const It=ai(a,Se);Ac(l,Qt(It))&&(ae=Ol(d,ae,It,Ne,_,S,B))}),p.foreach((Se,Ne)=>{const It=ai(a,Se);Ac(l,Qt(It))||(ae=Ol(d,ae,It,Ne,_,S,B))}),ae}(d,l,Ne.path,Ne.children,p,_,S):((0,xe.hu)(Ne.source.fromServer,"Unknown source."),ae=Ne.source.tagged||l.serverCache.isFiltered(),B=Yu(d,l,Ne.path,Ne.children,p,_,ae,S))}else if(a.type===Do.ACK_USER_WRITE){const Ne=a;B=Ne.revert?function(d,l,a,p,_,S){let B;if(null!=Ce(p,a))return l;{const ae=new Vo(p,l,_),Se=l.eventCache.getNode();let Ne;if(Nr(a)||".priority"===Qt(a)){let It;if(l.serverCache.isFullyInitialized())It=v(p,tl(l));else{const St=l.serverCache.getNode();(0,xe.hu)(St instanceof gr,"serverChildren would be complete if leaf node"),It=k(p,St)}It=It,Ne=d.filter.updateFullNode(Se,It,S)}else{const It=Qt(a);let St=Yt(p,It,l.serverCache);null==St&&l.serverCache.isCompleteForChild(It)&&(St=Se.getImmediateChild(It)),Ne=null!=St?d.filter.updateChild(Se,It,St,Wr(a),ae,S):l.eventCache.getNode().hasChild(It)?d.filter.updateChild(Se,It,gr.EMPTY_NODE,Wr(a),ae,S):Se,Ne.isEmpty()&&l.serverCache.isFullyInitialized()&&(B=v(p,tl(l)),B.isLeafNode()&&(Ne=d.filter.updateFullNode(Ne,B,S)))}return B=l.serverCache.isFullyInitialized()||null!=Ce(p,$r()),Eu(l,Ne,B,d.filter.filtersNodes())}}(d,l,Ne.path,p,_,S):function(d,l,a,p,_,S,B){if(null!=Ce(_,a))return l;const ae=l.serverCache.isFiltered(),Se=l.serverCache;if(null!=p.value){if(Nr(a)&&Se.isFullyInitialized()||Se.isCompleteForPath(a))return Iu(d,l,a,Se.getNode().getChild(a),_,S,ae,B);if(Nr(a)){let Ne=new _i(null);return Se.getNode().forEachChild(Ir,(It,St)=>{Ne=Ne.set(new or(It),St)}),Yu(d,l,a,Ne,_,S,ae,B)}return l}{let Ne=new _i(null);return p.foreach((It,St)=>{const Bt=ai(a,It);Se.isCompleteForPath(Bt)&&(Ne=Ne.set(It,Se.getNode().getChild(Bt)))}),Yu(d,l,a,Ne,_,S,ae,B)}}(d,l,Ne.path,Ne.affectedTree,p,_,S)}else{if(a.type!==Do.LISTEN_COMPLETE)throw(0,xe.g5)("Unknown operation type: "+a.type);B=function(d,l,a,p,_){const S=l.serverCache;return Cd(d,_d(l,S.getNode(),S.isFullyInitialized()||Nr(a),S.isFiltered()),a,p,So,_)}(d,l,a.path,p,S)}const Se=S.getChanges();return function(d,l,a){const p=l.eventCache;if(p.isFullyInitialized()){const _=p.getNode().isLeafNode()||p.getNode().isEmpty(),S=fa(d);(a.length>0||!d.eventCache.isFullyInitialized()||_&&!p.getNode().equals(S)||!p.getNode().getPriority().equals(S.getPriority()))&&a.push(Qa(fa(l)))}}(l,B,Se),{viewCache:B,changes:Se}}(d.processor_,_,l,a,p);return function(d,l){(0,xe.hu)(l.eventCache.getNode().isIndexed(d.filter.getIndex()),"Event snap not indexed"),(0,xe.hu)(l.serverCache.getNode().isIndexed(d.filter.getIndex()),"Server snap not indexed")}(d.processor_,S.viewCache),(0,xe.hu)(S.viewCache.serverCache.isFullyInitialized()||!_.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),d.viewCache_=S.viewCache,yf(d,S.changes,S.viewCache.eventCache.getNode(),null)}function yf(d,l,a,p){return function(d,l,a,p){const _=[],S=[];return l.forEach(B=>{"child_changed"===B.type&&d.index_.indexedValueChanged(B.oldSnap,B.snapshotNode)&&S.push(function(d,l){return{type:"child_moved",snapshotNode:l,childName:d}}(B.childName,B.snapshotNode))}),Al(d,_,"child_removed",l,p,a),Al(d,_,"child_added",l,p,a),Al(d,_,"child_moved",S,p,a),Al(d,_,"child_changed",l,p,a),Al(d,_,"value",l,p,a),_}(d.eventGenerator_,l,a,p?[p]:d.eventRegistrations_)}let _f,Ad;class Qu{constructor(){this.views=new Map}}function Td(d,l,a,p){const _=l.source.queryId;if(null!==_){const S=d.views.get(_);return(0,xe.hu)(null!=S,"SyncTree gave us an op for an invalid query."),bp(S,l,a,p)}{let S=[];for(const B of d.views.values())S=S.concat(bp(B,l,a,p));return S}}function yo(d,l,a,p,_){const B=d.views.get(l._queryIdentifier);if(!B){let ae=v(a,_?p:null),Se=!1;ae?Se=!0:p instanceof gr?(ae=k(a,p),Se=!1):(ae=gr.EMPTY_NODE,Se=!1);const Ne=el(new go(ae,Se,!1),new go(p,_,!1));return new pf(l,Ne)}return B}function Xu(d){const l=[];for(const a of d.views.values())a.query._queryParams.loadsAllData()||l.push(a);return l}function Tu(d,l){let a=null;for(const p of d.views.values())a=a||gf(p,l);return a}function vf(d,l){return l._queryParams.loadsAllData()?Ls(d):d.views.get(l._queryIdentifier)}function Ip(d,l){return null!=vf(d,l)}function Pl(d){return null!=Ls(d)}function Ls(d){for(const l of d.views.values())if(l.query._queryParams.loadsAllData())return l;return null}let Og=1;class xo{constructor(l){this.listenProvider_=l,this.syncPointTree_=new _i(null),this.pendingWriteTree_={visibleWrites:mo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kl(d,l,a,p,_){return function(d,l,a,p,_){(0,xe.hu)(p>d.lastWriteId,"Stacking an older write on top of newer ones"),void 0===_&&(_=!0),d.allWrites.push({path:l,snap:a,writeId:p,visible:_}),_&&(d.visibleWrites=Rl(d.visibleWrites,l,a)),d.lastWriteId=p}(d.pendingWriteTree_,l,a,p,_),_?rl(d,new Zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,a)):[]}function Ts(d,l,a=!1){const p=function(d,l){for(let a=0;a<d.allWrites.length;a++){const p=d.allWrites[a];if(p.writeId===l)return p}return null}(d.pendingWriteTree_,l);if(function(d,l){const a=d.allWrites.findIndex(ae=>ae.writeId===l);(0,xe.hu)(a>=0,"removeWrite called with nonexistent writeId.");const p=d.allWrites[a];d.allWrites.splice(a,1);let _=p.visible,S=!1,B=d.allWrites.length-1;for(;_&&B>=0;){const ae=d.allWrites[B];ae.visible&&(B>=a&&ff(ae,p.path)?_=!1:qi(p.path,ae.path)&&(S=!0)),B--}return!!_&&(S?(function(d){d.visibleWrites=Ku(d.allWrites,Cs,$r()),d.lastWriteId=d.allWrites.length>0?d.allWrites[d.allWrites.length-1].writeId:-1}(d),!0):(p.snap?d.visibleWrites=vd(d.visibleWrites,p.path):R(p.children,Se=>{d.visibleWrites=vd(d.visibleWrites,ai(p.path,Se))}),!0))}(d.pendingWriteTree_,l)){let S=new _i(null);return null!=p.snap?S=S.set($r(),!0):R(p.children,B=>{S=S.set(new or(B),!0)}),rl(d,new Tl(p.path,S,a))}return[]}function Ju(d,l,a){return rl(d,new Zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,a))}function Ro(d,l,a,p){const _=l._path,S=d.syncPointTree_.get(_);let B=[];if(S&&("default"===l._queryIdentifier||Ip(S,l))){const ae=function(d,l,a,p){const _=l._queryIdentifier,S=[];let B=[];const ae=Pl(d);if("default"===_)for(const[Se,Ne]of d.views.entries())B=B.concat(Ep(Ne,a,p)),mf(Ne)&&(d.views.delete(Se),Ne.query._queryParams.loadsAllData()||S.push(Ne.query));else{const Se=d.views.get(_);Se&&(B=B.concat(Ep(Se,a,p)),mf(Se)&&(d.views.delete(_),Se.query._queryParams.loadsAllData()||S.push(Se.query)))}return ae&&!Pl(d)&&S.push(new((0,xe.hu)(_f,"Reference.ts has not been loaded"),_f)(l._repo,l._path)),{removed:S,events:B}}(S,l,a,p);(function(d){return 0===d.views.size})(S)&&(d.syncPointTree_=d.syncPointTree_.remove(_));const Se=ae.removed;B=ae.events;const Ne=-1!==Se.findIndex(St=>St._queryParams.loadsAllData()),It=d.syncPointTree_.findOnPath(_,(St,Bt)=>Pl(Bt));if(Ne&&!It){const St=d.syncPointTree_.subtree(_);if(!St.isEmpty()){const Bt=function(d){return d.fold((l,a,p)=>{if(a&&Pl(a))return[Ls(a)];{let _=[];return a&&(_=Xu(a)),R(p,(S,B)=>{_=_.concat(B)}),_}})}(St);for(let Nn=0;Nn<Bt.length;++Nn){const nr=Bt[Nn],fi=nr.query,Ks=ma(d,nr);d.listenProvider_.startListening(Vt(fi),As(d,fi),Ks.hashFn,Ks.onComplete)}}}if(!It&&Se.length>0&&!p)if(Ne){const St=null;d.listenProvider_.stopListening(Vt(l),St)}else Se.forEach(St=>{const Bt=d.queryToTagMap.get(xd(St));d.listenProvider_.stopListening(Vt(St),Bt)});!function(d,l){for(let a=0;a<l.length;++a){const p=l[a];if(!p._queryParams.loadsAllData()){const _=xd(p),S=d.queryToTagMap.get(_);d.queryToTagMap.delete(_),d.tagToQueryMap.delete(S)}}}(d,Se)}return B}function Su(d,l,a){const p=l._path;let _=null,S=!1;d.syncPointTree_.foreachOnPath(p,(St,Bt)=>{const Nn=hs(St,p);_=_||Tu(Bt,Nn),S=S||Pl(Bt)});let ae,B=d.syncPointTree_.get(p);B?(S=S||Pl(B),_=_||Tu(B,$r())):(B=new Qu,d.syncPointTree_=d.syncPointTree_.set(p,B)),null!=_?ae=!0:(ae=!1,_=gr.EMPTY_NODE,d.syncPointTree_.subtree(p).foreachChild((Bt,Nn)=>{const nr=Tu(Nn,$r());nr&&(_=_.updateImmediateChild(Bt,nr))}));const Se=Ip(B,l);if(!Se&&!l._queryParams.loadsAllData()){const St=xd(l);(0,xe.hu)(!d.queryToTagMap.has(St),"View does not exist, but we have a tag");const Bt=Og++;d.queryToTagMap.set(St,Bt),d.tagToQueryMap.set(Bt,St)}let It=function(d,l,a,p,_,S){const B=yo(d,l,p,_,S);return d.views.has(l._queryIdentifier)||d.views.set(l._queryIdentifier,B),function(d,l){d.eventRegistrations_.push(l)}(B,a),function(d,l){const a=d.viewCache_.eventCache,p=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(ri,(S,B)=>{p.push(Zs(S,B))}),a.isFullyInitialized()&&p.push(Qa(a.getNode())),yf(d,p,a.getNode(),l)}(B,a)}(B,l,a,ka(d.pendingWriteTree_,p),_,ae);if(!Se&&!S){const St=vf(B,l);It=It.concat(function(d,l,a){const p=l._path,_=As(d,l),S=ma(d,a),B=d.listenProvider_.startListening(Vt(l),_,S.hashFn,S.onComplete),ae=d.syncPointTree_.subtree(p);if(_)(0,xe.hu)(!Pl(ae.value),"If we're adding a query, it shouldn't be shadowed");else{const Se=ae.fold((Ne,It,St)=>{if(!Nr(Ne)&&It&&Pl(It))return[Ls(It).query];{let Bt=[];return It&&(Bt=Bt.concat(Xu(It).map(Nn=>Nn.query))),R(St,(Nn,nr)=>{Bt=Bt.concat(nr)}),Bt}});for(let Ne=0;Ne<Se.length;++Ne){const It=Se[Ne];d.listenProvider_.stopListening(Vt(It),As(d,It))}}return B}(d,l,St))}return It}function La(d,l,a){const _=d.pendingWriteTree_,S=d.syncPointTree_.findOnPath(l,(B,ae)=>{const Ne=Tu(ae,hs(B,l));if(Ne)return Ne});return Ds(_,l,S,a,!0)}function rl(d,l){return Qo(l,d.syncPointTree_,null,ka(d.pendingWriteTree_,$r()))}function Qo(d,l,a,p){if(Nr(d.path))return ga(d,l,a,p);{const _=l.get($r());null==a&&null!=_&&(a=Tu(_,$r()));let S=[];const B=Qt(d.path),ae=d.operationForChild(B),Se=l.children.get(B);if(Se&&ae){const Ne=a?a.getImmediateChild(B):null,It=Vn(p,B);S=S.concat(Qo(ae,Se,Ne,It))}return _&&(S=S.concat(Td(_,d,p,a))),S}}function ga(d,l,a,p){const _=l.get($r());null==a&&null!=_&&(a=Tu(_,$r()));let S=[];return l.children.inorderTraversal((B,ae)=>{const Se=a?a.getImmediateChild(B):null,Ne=Vn(p,B),It=d.operationForChild(B);It&&(S=S.concat(ga(It,ae,Se,Ne)))}),_&&(S=S.concat(Td(_,d,p,a))),S}function ma(d,l){const a=l.query,p=As(d,a);return{hashFn:()=>(function(d){return d.viewCache_.serverCache.getNode()}(l)||gr.EMPTY_NODE).hash(),onComplete:_=>{if("ok"===_)return p?function(d,l,a){const p=yh(d,a);if(p){const _=Ef(p),S=_.path,B=_.queryId,ae=hs(S,l);return tu(d,S,new Sl(Dl(B),ae))}return[]}(d,a._path,p):function(d,l){return rl(d,new Sl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(d,a._path);{const S=function(d,l){let a="Unknown Error";"too_big"===d?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===d?a="Client doesn't have permission to access the desired data.":"unavailable"===d&&(a="The service is unavailable");const p=new Error(d+" at "+l._path.toString()+": "+a);return p.code=d.toUpperCase(),p}(_,a);return Ro(d,a,null,S)}}}}function As(d,l){const a=xd(l);return d.queryToTagMap.get(a)}function xd(d){return d._path.toString()+"$"+d._queryIdentifier}function yh(d,l){return d.tagToQueryMap.get(l)}function Ef(d){const l=d.indexOf("$");return(0,xe.hu)(-1!==l&&l<d.length-1,"Bad queryKey."),{queryId:d.substr(l+1),path:new or(d.substr(0,l))}}function tu(d,l,a){const p=d.syncPointTree_.get(l);return(0,xe.hu)(p,"Missing sync point for query tag that we're tracking"),Td(p,a,ka(d.pendingWriteTree_,l),null)}function Vt(d){return d._queryParams.loadsAllData()&&!d._queryParams.isDefault()?new((0,xe.hu)(Ad,"Reference.ts has not been loaded"),Ad)(d._repo,d._path):d}class Mo{constructor(l){this.node_=l}getImmediateChild(l){const a=this.node_.getImmediateChild(l);return new Mo(a)}node(){return this.node_}}class sl{constructor(l,a){this.syncTree_=l,this.path_=a}getImmediateChild(l){const a=ai(this.path_,l);return new sl(this.syncTree_,a)}node(){return La(this.syncTree_,this.path_)}}const Au=function(d,l,a){return d&&"object"==typeof d?((0,xe.hu)(".sv"in d,"Unexpected leaf node or priority contents"),"string"==typeof d[".sv"]?If(d[".sv"],l,a):"object"==typeof d[".sv"]?tc(d[".sv"],l):void(0,xe.hu)(!1,"Unexpected server value: "+JSON.stringify(d,null,2))):d},If=function(d,l,a){if("timestamp"===d)return a.timestamp;(0,xe.hu)(!1,"Unexpected server value: "+d)},tc=function(d,l,a){d.hasOwnProperty("increment")||(0,xe.hu)(!1,"Unexpected server value: "+JSON.stringify(d,null,2));const p=d.increment;"number"!=typeof p&&(0,xe.hu)(!1,"Unexpected increment value: "+p);const _=l.node();if((0,xe.hu)(null!=_,"Expected ChildrenNode.EMPTY_NODE for nulls"),!_.isLeafNode())return p;const B=_.getValue();return"number"!=typeof B?p:B+p},_h=function(d,l,a,p){return nc(l,new sl(a,d),p)},Bs=function(d,l,a){return nc(d,new Mo(l),a)};function nc(d,l,a){const p=d.getPriority().val(),_=Au(p,l.getImmediateChild(".priority"),a);let S;if(d.isLeafNode()){const B=d,ae=Au(B.getValue(),l,a);return ae!==B.getValue()||_!==B.getPriority().val()?new Ra(ae,Dr(_)):d}{const B=d;return S=B,_!==B.getPriority().val()&&(S=S.updatePriority(new Ra(_))),B.forEachChild(ri,(ae,Se)=>{const Ne=nc(Se,l.getImmediateChild(ae),a);Ne!==Se&&(S=S.updateImmediateChild(ae,Ne))}),S}}class rc{constructor(l="",a=null,p={children:{},childCount:0}){this.name=l,this.parent=a,this.node=p}}function ic(d,l){let a=l instanceof or?l:new or(l),p=d,_=Qt(a);for(;null!==_;){const S=(0,xe.DV)(p.node.children,_)||{children:{},childCount:0};p=new rc(_,p,S),a=Wr(a),_=Qt(a)}return p}function ya(d){return d.node.value}function nu(d,l){d.node.value=l,xu(d)}function Rd(d){return d.node.childCount>0}function Rc(d,l){R(d.node.children,(a,p)=>{l(new rc(a,d,p))})}function Mc(d,l,a,p){a&&!p&&l(d),Rc(d,_=>{Mc(_,l,!0,p)}),a&&p&&l(d)}function ol(d){return new or(null===d.parent?d.name:ol(d.parent)+"/"+d.name)}function xu(d){null!==d.parent&&function(d,l,a){const p=function(d){return void 0===ya(d)&&!Rd(d)}(a),_=(0,xe.r3)(d.node.children,l);p&&_?(delete d.node.children[l],d.node.childCount--,xu(d)):!p&&!_&&(d.node.children[l]=a.node,d.node.childCount++,xu(d))}(d.parent,d.name,d)}const Dp=/[\[\].#$\/\u0000-\u001F\u007F]/,Df=/[\[\].#$\u0000-\u001F\u007F]/,Oc=10485760,oc=function(d){return"string"==typeof d&&0!==d.length&&!Dp.test(d)},Tf=function(d){return"string"==typeof d&&0!==d.length&&!Df.test(d)},Pc=function(d){return null===d||"string"==typeof d||"number"==typeof d&&!Wi(d)||d&&"object"==typeof d&&(0,xe.r3)(d,".sv")},Va=function(d,l,a,p){p&&void 0===l||Fl((0,xe.gK)(d,"value"),l,a)},Fl=function(d,l,a){const p=a instanceof or?new Ka(a,d):a;if(void 0===l)throw new Error(d+"contains undefined "+Bo(p));if("function"==typeof l)throw new Error(d+"contains a function "+Bo(p)+" with contents = "+l.toString());if(Wi(l))throw new Error(d+"contains "+l.toString()+" "+Bo(p));if("string"==typeof l&&l.length>Oc/3&&(0,xe.ug)(l)>Oc)throw new Error(d+"contains a string greater than "+Oc+" utf8 bytes "+Bo(p)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){let _=!1,S=!1;if(R(l,(B,ae)=>{if(".value"===B)_=!0;else if(".priority"!==B&&".sv"!==B&&(S=!0,!oc(B)))throw new Error(d+" contains an invalid key ("+B+") "+Bo(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(d,l){d.parts_.length>0&&(d.byteLength_+=1),d.parts_.push(l),d.byteLength_+=(0,xe.ug)(l),Gi(d)})(p,B),Fl(d,ae,p),function(d){const l=d.parts_.pop();d.byteLength_-=(0,xe.ug)(l),d.parts_.length>0&&(d.byteLength_-=1)}(p)}),_&&S)throw new Error(d+' contains ".value" child '+Bo(p)+" in addition to actual children.")}},Ru=function(d,l,a,p){if(p&&void 0===l)return;const _=(0,xe.gK)(d,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(_+" must be an object containing the children to replace.");const S=[];R(l,(B,ae)=>{const Se=new or(B);if(Fl(_,ae,ai(a,Se)),".priority"===en(Se)&&!Pc(ae))throw new Error(_+"contains an invalid value for '"+Se.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");S.push(Se)}),function(d,l){let a,p;for(a=0;a<l.length;a++){p=l[a];const S=Wt(p);for(let B=0;B<S.length;B++)if((".priority"!==S[B]||B!==S.length-1)&&!oc(S[B]))throw new Error(d+"contains an invalid key ("+S[B]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}l.sort(mu);let _=null;for(a=0;a<l.length;a++){if(p=l[a],null!==_&&qi(_,p))throw new Error(d+"contains a path "+_.toString()+" that is ancestor of another path "+p.toString());_=p}}(_,S)},Pd=function(d,l,a){if(!a||void 0!==l){if(Wi(l))throw new Error((0,xe.gK)(d,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Pc(l))throw new Error((0,xe.gK)(d,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Nc=function(d,l,a,p){if(!(p&&void 0===a||oc(a)))throw new Error((0,xe.gK)(d,l)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Nd=function(d,l,a,p){if(!(p&&void 0===a||Tf(a)))throw new Error((0,xe.gK)(d,l)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_a=function(d,l){if(".info"===Qt(l))throw new Error(d+" failed = Can't modify data under /.info/")},kd=function(d,l){const a=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!oc(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==a.length&&!function(d){return d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Tf(d)}(a))throw new Error((0,xe.gK)(d,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kc(d,l){let a=null;for(let p=0;p<l.length;p++){const _=l[p],S=_.getPath();null!==a&&!Kl(S,a.path)&&(d.eventLists_.push(a),a=null),null===a&&(a={events:[],path:S}),a.events.push(_)}a&&d.eventLists_.push(a)}function Fd(d,l,a){kc(d,a),Ld(d,p=>Kl(p,l))}function $o(d,l,a){kc(d,a),Ld(d,p=>qi(p,l)||qi(l,p))}function Ld(d,l){d.recursionDepth_++;let a=!0;for(let p=0;p<d.eventLists_.length;p++){const _=d.eventLists_[p];_&&(l(_.path)?(Bd(d.eventLists_[p]),d.eventLists_[p]=null):a=!1)}a&&(d.eventLists_=[]),d.recursionDepth_--}function Bd(d){for(let l=0;l<d.events.length;l++){const a=d.events[l];if(null!==a){d.events[l]=null;const p=a.getEventRunner();di&&hi("event: "+a.toString()),E(p)}}}const Fc="repo_interrupt";class Vd{constructor(l,a,p,_){this.repoInfo_=l,this.forceRestClient_=a,this.authTokenProvider_=p,this.appCheckProvider_=_,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ks(),this.transactionQueueTree_=new rc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xs(d){const a=d.infoData_.getNode(new or(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Bc(d){return function(d){return(d=d||{}).timestamp=d.timestamp||(new Date).getTime(),d}({timestamp:Xs(d)})}function Vc(d,l,a,p,_){d.dataUpdateCount++;const S=new or(l);a=d.interceptServerDataCallback_?d.interceptServerDataCallback_(l,a):a;let B=[];if(_)if(p){const Se=(0,xe.UI)(a,Ne=>Dr(Ne));B=function(d,l,a,p){const _=yh(d,p);if(_){const S=Ef(_),B=S.path,ae=S.queryId,Se=hs(B,l),Ne=_i.fromObject(a);return tu(d,B,new ha(Dl(ae),Se,Ne))}return[]}(d.serverSyncTree_,S,Se,_)}else{const Se=Dr(a);B=function(d,l,a,p){const _=yh(d,p);if(null!=_){const S=Ef(_),B=S.path,ae=S.queryId,Se=hs(B,l);return tu(d,B,new Zl(Dl(ae),Se,a))}return[]}(d.serverSyncTree_,S,Se,_)}else if(p){const Se=(0,xe.UI)(a,Ne=>Dr(Ne));B=function(d,l,a){const p=_i.fromObject(a);return rl(d,new ha({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,p))}(d.serverSyncTree_,S,Se)}else{const Se=Dr(a);B=Ju(d.serverSyncTree_,S,Se)}let ae=S;B.length>0&&(ae=Tr(d,S)),$o(d.eventQueue_,ae,B)}function Ih(d,l){al(d,"connected",l),!1===l&&function(d){Uc(d,"onDisconnectEvents");const l=Bc(d),a=ks();po(d.onDisconnect_,$r(),(_,S)=>{const B=_h(_,S,d.serverSyncTree_,l);Ki(a,_,B)});let p=[];po(a,$r(),(_,S)=>{p=p.concat(Ju(d.serverSyncTree_,_,S));const B=Wc(d,_);Tr(d,B)}),d.onDisconnect_=ks(),$o(d.eventQueue_,$r(),p)}(d)}function al(d,l,a){const p=new or("/.info/"+l),_=Dr(a);d.infoData_.updateSnapshot(p,_);const S=Ju(d.infoSyncTree_,p,_);$o(d.eventQueue_,p,S)}function ll(d){return d.nextWriteId_++}function Mu(d,l,a,p,_){Uc(d,"set",{path:l.toString(),value:a,priority:p});const S=Bc(d),B=Dr(a,p),ae=La(d.serverSyncTree_,l),Se=Bs(B,ae,S),Ne=ll(d),It=kl(d.serverSyncTree_,l,Se,Ne,!0);kc(d.eventQueue_,It),d.server_.put(l.toString(),B.val(!0),(Bt,Nn)=>{const nr="ok"===Bt;nr||bi("set at "+l+" failed: "+Bt);const fi=Ts(d.serverSyncTree_,Ne,!nr);$o(d.eventQueue_,l,fi),ul(0,_,Bt,Nn)});const St=Wc(d,l);Tr(d,St),$o(d.eventQueue_,St,[])}function Af(d,l,a){d.server_.onDisconnectCancel(l.toString(),(p,_)=>{"ok"===p&&Ri(d.onDisconnect_,l),ul(0,a,p,_)})}function ru(d,l,a,p){const _=Dr(a);d.server_.onDisconnectPut(l.toString(),_.val(!0),(S,B)=>{"ok"===S&&Ki(d.onDisconnect_,l,_),ul(0,p,S,B)})}function Ch(d,l,a){let p;p=".info"===Qt(l._path)?Ro(d.infoSyncTree_,l,a):Ro(d.serverSyncTree_,l,a),Fd(d.eventQueue_,l._path,p)}function xp(d){d.persistentConnection_&&d.persistentConnection_.interrupt(Fc)}function Uc(d,...l){let a="";d.persistentConnection_&&(a=d.persistentConnection_.id+":"),hi(a,...l)}function ul(d,l,a,p){l&&E(()=>{if("ok"===a)l(null);else{const _=(a||"error").toUpperCase();let S=_;p&&(S+=": "+p);const B=new Error(S);B.code=_,l(B)}})}function Dh(d,l,a){return La(d.serverSyncTree_,l,a)||gr.EMPTY_NODE}function Th(d,l=d.transactionQueueTree_){if(l||Oo(d,l),ya(l)){const a=xf(d,l);(0,xe.hu)(a.length>0,"Sending zero length transaction queue"),a.every(_=>0===_.status)&&function(d,l,a){const p=a.map(Ne=>Ne.currentWriteId),_=Dh(d,l,p);let S=_;const B=_.hash();for(let Ne=0;Ne<a.length;Ne++){const It=a[Ne];(0,xe.hu)(0===It.status,"tryToSendTransactionQueue_: items in queue should all be run."),It.status=1,It.retryCount++;const St=hs(l,It.path);S=S.updateChild(St,It.currentOutputSnapshotRaw)}const ae=S.val(!0),Se=l;d.server_.put(Se.toString(),ae,Ne=>{Uc(d,"transaction put response",{path:Se.toString(),status:Ne});let It=[];if("ok"===Ne){const St=[];for(let Bt=0;Bt<a.length;Bt++)a[Bt].status=2,It=It.concat(Ts(d.serverSyncTree_,a[Bt].currentWriteId)),a[Bt].onComplete&&St.push(()=>a[Bt].onComplete(null,!0,a[Bt].currentOutputSnapshotResolved)),a[Bt].unwatcher();Oo(d,ic(d.transactionQueueTree_,l)),Th(d,d.transactionQueueTree_),$o(d.eventQueue_,l,It);for(let Bt=0;Bt<St.length;Bt++)E(St[Bt])}else{if("datastale"===Ne)for(let St=0;St<a.length;St++)a[St].status=3===a[St].status?4:0;else{bi("transaction at "+Se.toString()+" failed: "+Ne);for(let St=0;St<a.length;St++)a[St].status=4,a[St].abortReason=Ne}Tr(d,l)}},B)}(d,ol(l),a)}else Rd(l)&&Rc(l,a=>{Th(d,a)})}function Tr(d,l){const a=jc(d,l),p=ol(a);return function(d,l,a){if(0===l.length)return;const p=[];let _=[];const B=l.filter(ae=>0===ae.status).map(ae=>ae.currentWriteId);for(let ae=0;ae<l.length;ae++){const Se=l[ae],Ne=hs(a,Se.path);let St,It=!1;if((0,xe.hu)(null!==Ne,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Se.status)It=!0,St=Se.abortReason,_=_.concat(Ts(d.serverSyncTree_,Se.currentWriteId,!0));else if(0===Se.status)if(Se.retryCount>=25)It=!0,St="maxretry",_=_.concat(Ts(d.serverSyncTree_,Se.currentWriteId,!0));else{const Bt=Dh(d,Se.path,B);Se.currentInputSnapshot=Bt;const Nn=l[ae].update(Bt.val());if(void 0!==Nn){Fl("transaction failed: Data returned ",Nn,Se.path);let nr=Dr(Nn);"object"==typeof Nn&&null!=Nn&&(0,xe.r3)(Nn,".priority")||(nr=nr.updatePriority(Bt.getPriority()));const Ks=Se.currentWriteId,$u=Bc(d),Vi=Bs(nr,Bt,$u);Se.currentOutputSnapshotRaw=nr,Se.currentOutputSnapshotResolved=Vi,Se.currentWriteId=ll(d),B.splice(B.indexOf(Ks),1),_=_.concat(kl(d.serverSyncTree_,Se.path,Vi,Se.currentWriteId,Se.applyLocally)),_=_.concat(Ts(d.serverSyncTree_,Ks,!0))}else It=!0,St="nodata",_=_.concat(Ts(d.serverSyncTree_,Se.currentWriteId,!0))}$o(d.eventQueue_,a,_),_=[],It&&(l[ae].status=2,setTimeout(l[ae].unwatcher,Math.floor(0)),l[ae].onComplete&&p.push("nodata"===St?()=>l[ae].onComplete(null,!1,l[ae].currentInputSnapshot):()=>l[ae].onComplete(new Error(St),!1,null)))}Oo(d,d.transactionQueueTree_);for(let ae=0;ae<p.length;ae++)E(p[ae]);Th(d,d.transactionQueueTree_)}(d,xf(d,a),p),p}function jc(d,l){let a,p=d.transactionQueueTree_;for(a=Qt(l);null!==a&&void 0===ya(p);)p=ic(p,a),a=Qt(l=Wr(l));return p}function xf(d,l){const a=[];return Hc(d,l,a),a.sort((p,_)=>p.order-_.order),a}function Hc(d,l,a){const p=ya(l);if(p)for(let _=0;_<p.length;_++)a.push(p[_]);Rc(l,_=>{Hc(d,_,a)})}function Oo(d,l){const a=ya(l);if(a){let p=0;for(let _=0;_<a.length;_++)2!==a[_].status&&(a[p]=a[_],p++);a.length=p,nu(l,a.length>0?a:void 0)}Rc(l,p=>{Oo(d,p)})}function Wc(d,l){const a=ol(jc(d,l)),p=ic(d.transactionQueueTree_,l);return function(d,l,a){let p=d.parent;for(;null!==p;){if(l(p))return!0;p=p.parent}}(p,_=>{uc(d,_)}),uc(d,p),Mc(p,_=>{uc(d,_)}),a}function uc(d,l){const a=ya(l);if(a){const p=[];let _=[],S=-1;for(let B=0;B<a.length;B++)3===a[B].status||(1===a[B].status?((0,xe.hu)(S===B-1,"All SENT items should be at beginning of queue."),S=B,a[B].status=3,a[B].abortReason="set"):((0,xe.hu)(0===a[B].status,"Unexpected transaction status in abort"),a[B].unwatcher(),_=_.concat(Ts(d.serverSyncTree_,a[B].currentWriteId,!0)),a[B].onComplete&&p.push(a[B].onComplete.bind(null,new Error("set"),!1,null))));-1===S?nu(l,void 0):a.length=S+1,$o(d.eventQueue_,ol(l),_);for(let B=0;B<p.length;B++)E(p[B])}}const $d=function(d,l){const a=Rp(d),p=a.namespace;return"firebase.com"===a.domain&&Ei(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==a.domain&&Ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new No(a.host,a.secure,p,l,"ws"===a.scheme||"wss"===a.scheme,"",p!==a.subdomain),path:new or(a.pathString)}},Rp=function(d){let l="",a="",p="",_="",S="",B=!0,ae="https",Se=443;if("string"==typeof d){let Ne=d.indexOf("//");Ne>=0&&(ae=d.substring(0,Ne-1),d=d.substring(Ne+2));let It=d.indexOf("/");-1===It&&(It=d.length);let St=d.indexOf("?");-1===St&&(St=d.length),l=d.substring(0,Math.min(It,St)),It<St&&(_=function(d){let l="";const a=d.split("/");for(let p=0;p<a.length;p++)if(a[p].length>0){let _=a[p];try{_=decodeURIComponent(_.replace(/\+/g," "))}catch(S){}l+="/"+_}return l}(d.substring(It,St)));const Bt=function(d){const l={};"?"===d.charAt(0)&&(d=d.substring(1));for(const a of d.split("&")){if(0===a.length)continue;const p=a.split("=");2===p.length?l[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):bi(`Invalid query segment '${a}' in query '${d}'`)}return l}(d.substring(Math.min(d.length,St)));Ne=l.indexOf(":"),Ne>=0?(B="https"===ae||"wss"===ae,Se=parseInt(l.substring(Ne+1),10)):Ne=l.length;const Nn=l.slice(0,Ne);if("localhost"===Nn.toLowerCase())a="localhost";else if(Nn.split(".").length<=2)a=Nn;else{const nr=l.indexOf(".");p=l.substring(0,nr).toLowerCase(),a=l.substring(nr+1),S=p}"ns"in Bt&&(S=Bt.ns)}return{host:l,port:Se,domain:a,subdomain:p,secure:B,scheme:ae,pathString:_,namespace:S}};class Gc{constructor(l,a,p,_){this.eventType=l,this.eventRegistration=a,this.snapshot=p,this.prevName=_}getPath(){const l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,xe.Pz)(this.snapshot.exportVal())}}class Mp{constructor(l,a,p){this.eventRegistration=l,this.error=a,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Rf{constructor(l,a){this.snapshotCallback=l,this.cancelCallback=a}onValue(l,a){this.snapshotCallback.call(null,l,a)}onCancel(l){return(0,xe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)}get hasCancelCallback(){return!!this.cancelCallback}matches(l){return this.snapshotCallback===l.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context}}class Op{constructor(l,a){this._repo=l,this._path=a}cancel(){const l=new xe.BH;return Af(this._repo,this._path,l.wrapCallback(()=>{})),l.promise}remove(){_a("OnDisconnect.remove",this._path);const l=new xe.BH;return ru(this._repo,this._path,null,l.wrapCallback(()=>{})),l.promise}set(l){_a("OnDisconnect.set",this._path),Va("OnDisconnect.set",l,this._path,!1);const a=new xe.BH;return ru(this._repo,this._path,l,a.wrapCallback(()=>{})),a.promise}setWithPriority(l,a){_a("OnDisconnect.setWithPriority",this._path),Va("OnDisconnect.setWithPriority",l,this._path,!1),Pd("OnDisconnect.setWithPriority",a,!1);const p=new xe.BH;return function(d,l,a,p,_){const S=Dr(a,p);d.server_.onDisconnectPut(l.toString(),S.val(!0),(B,ae)=>{"ok"===B&&Ki(d.onDisconnect_,l,S),ul(0,_,B,ae)})}(this._repo,this._path,l,a,p.wrapCallback(()=>{})),p.promise}update(l){_a("OnDisconnect.update",this._path),Ru("OnDisconnect.update",l,this._path,!1);const a=new xe.BH;return function(d,l,a,p){if((0,xe.xb)(a))return hi("onDisconnect().update() called with empty data.  Don't do anything."),void ul(0,p,"ok",void 0);d.server_.onDisconnectMerge(l.toString(),a,(_,S)=>{"ok"===_&&R(a,(B,ae)=>{const Se=Dr(ae);Ki(d.onDisconnect_,ai(l,B),Se)}),ul(0,p,_,S)})}(this._repo,this._path,l,a.wrapCallback(()=>{})),a.promise}}class ao{constructor(l,a,p,_){this._repo=l,this._path=a,this._queryParams=p,this._orderByCalled=_}get key(){return Nr(this._path)?null:en(this._path)}get ref(){return new Xo(this._repo,this._path)}get _queryIdentifier(){const l=An(this._queryParams),a=F(l);return"{}"===a?"default":a}get _queryObject(){return An(this._queryParams)}isEqual(l){if(!((l=(0,xe.m9)(l))instanceof ao))return!1;const a=this._repo===l._repo,p=Kl(this._path,l._path);return a&&p&&this._queryIdentifier===l._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(d){let l="";for(let a=d.pieceNum_;a<d.pieces_.length;a++)""!==d.pieces_[a]&&(l+="/"+encodeURIComponent(String(d.pieces_[a])));return l||"/"}(this._path)}}function su(d,l){if(!0===d._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function Ll(d){let l=null,a=null;if(d.hasStart()&&(l=d.getIndexStartValue()),d.hasEnd()&&(a=d.getIndexEndValue()),d.getIndex()===Ir){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",_="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(d.hasStart()){if(d.getIndexStartName()!==G)throw new Error(p);if("string"!=typeof l)throw new Error(_)}if(d.hasEnd()){if(d.getIndexEndName()!==le)throw new Error(p);if("string"!=typeof a)throw new Error(_)}}else if(d.getIndex()===ri){if(null!=l&&!Pc(l)||null!=a&&!Pc(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,xe.hu)(d.getIndex()instanceof Oa||d.getIndex()===Wu,"unknown index type."),null!=l&&"object"==typeof l||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cc(d){if(d.hasStart()&&d.hasEnd()&&d.hasLimit()&&!d.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xo extends ao{constructor(l,a){super(l,a,new qo,!1)}get parent(){const l=ki(this._path);return null===l?null:new Xo(this._repo,l)}get root(){let l=this;for(;null!==l.parent;)l=l.parent;return l}}class dc{constructor(l,a,p){this._node=l,this.ref=a,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(l){const a=new or(l),p=$a(this.ref,l);return new dc(this._node.getChild(a),p,ri)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(l){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,_)=>l(new dc(_,$a(this.ref,p),ri)))}hasChild(l){const a=new or(l);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pp(d,l){return(d=(0,xe.m9)(d))._checkNotDeleted("ref"),void 0!==l?$a(d._root,l):d._root}function hc(d,l){(d=(0,xe.m9)(d))._checkNotDeleted("refFromURL");const a=$d(l,d._repo.repoInfo_.nodeAdmin);kd("refFromURL",a);const p=a.repoInfo;return!d._repo.repoInfo_.isCustomHost()&&p.host!==d._repo.repoInfo_.host&&Ei("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+d._repo.repoInfo_.host+")"),Pp(d,a.path.toString())}function $a(d,l){return null===Qt((d=(0,xe.m9)(d))._path)?(a=l,a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Nd("child","path",a,!1)):Nd("child","path",l,!1),new Xo(d._repo,ai(d._path,l));var a}function Sh(d,l){d=(0,xe.m9)(d),_a("set",d._path),Va("set",l,d._path,!1);const a=new xe.BH;return Mu(d._repo,d._path,l,null,a.wrapCallback(()=>{})),a.promise}function kp(d,l){Ru("update",l,d._path,!1);const a=new xe.BH;return function(d,l,a,p){Uc(d,"update",{path:l.toString(),value:a});let _=!0;const S=Bc(d),B={};if(R(a,(ae,Se)=>{_=!1,B[ae]=_h(ai(l,ae),Dr(Se),d.serverSyncTree_,S)}),_)hi("update() called with empty data.  Don't do anything."),ul(0,p,"ok",void 0);else{const ae=ll(d),Se=function(d,l,a,p){!function(d,l,a,p){(0,xe.hu)(p>d.lastWriteId,"Stacking an older merge on top of newer ones"),d.allWrites.push({path:l,children:a,writeId:p,visible:!0}),d.visibleWrites=Xl(d.visibleWrites,l,a),d.lastWriteId=p}(d.pendingWriteTree_,l,a,p);const _=_i.fromObject(a);return rl(d,new ha({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,_))}(d.serverSyncTree_,l,B,ae);kc(d.eventQueue_,Se),d.server_.merge(l.toString(),a,(Ne,It)=>{const St="ok"===Ne;St||bi("update at "+l+" failed: "+Ne);const Bt=Ts(d.serverSyncTree_,ae,!St),Nn=Bt.length>0?Tr(d,l):l;$o(d.eventQueue_,Nn,Bt),ul(0,p,Ne,It)}),R(a,Ne=>{const It=Wc(d,ai(l,Ne));Tr(d,It)}),$o(d.eventQueue_,l,[])}}(d._repo,d._path,l,a.wrapCallback(()=>{})),a.promise}function Mf(d){return function(d,l){const a=function(d,l){const a=l._path;let p=null;d.syncPointTree_.foreachOnPath(a,(Ne,It)=>{const St=hs(Ne,a);p=p||Tu(It,St)});let _=d.syncPointTree_.get(a);_?p=p||Tu(_,$r()):(_=new Qu,d.syncPointTree_=d.syncPointTree_.set(a,_));const S=null!=p,B=S?new go(p,!0,!1):null;return function(d){return fa(d.viewCache_)}(yo(_,l,ka(d.pendingWriteTree_,l._path),S?B.getNode():gr.EMPTY_NODE,S))}(d.serverSyncTree_,l);return null!=a?Promise.resolve(a):d.server_.get(l).then(p=>{const _=Dr(p).withIndex(l._queryParams.getIndex()),S=Ju(d.serverSyncTree_,l._path,_);return Fd(d.eventQueue_,l._path,S),Promise.resolve(_)},p=>(Uc(d,"get for query "+(0,xe.Pz)(l)+" failed: "+p),Promise.reject(new Error(p))))}((d=(0,xe.m9)(d))._repo,d).then(l=>new dc(l,new Xo(d._repo,d._path),d._queryParams.getIndex()))}class Kc{constructor(l){this.callbackContext=l}respondsTo(l){return"value"===l}createEvent(l,a){const p=a._queryParams.getIndex();return new Gc("value",this,new dc(l.snapshotNode,new Xo(a._repo,a._path),p))}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,null)}createCancelEvent(l,a){return this.callbackContext.hasCancelCallback?new Mp(this,l,a):null}matches(l){return l instanceof Kc&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jd{constructor(l,a){this.eventType=l,this.callbackContext=a}respondsTo(l){let a="children_added"===l?"child_added":l;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(l,a){return this.callbackContext.hasCancelCallback?new Mp(this,l,a):null}createEvent(l,a){(0,xe.hu)(null!=l.childName,"Child events should have a childName.");const p=$a(new Xo(a._repo,a._path),l.childName),_=a._queryParams.getIndex();return new Gc(l.type,this,new dc(l.snapshotNode,p,_),l.prevName)}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,l.prevName)}matches(l){return l instanceof jd&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function xh(d,l,a,p,_){let S;if("object"==typeof p&&(S=void 0,_=p),"function"==typeof p&&(S=p),_&&_.onlyOnce){const Se=a,Ne=(It,St)=>{Ch(d._repo,d,ae),Se(It,St)};Ne.userCallback=a.userCallback,Ne.context=a.context,a=Ne}const B=new Rf(a,S||void 0),ae="value"===l?new Kc(B):new jd(l,B);return function(d,l,a){let p;p=".info"===Qt(l._path)?Su(d.infoSyncTree_,l,a):Su(d.serverSyncTree_,l,a),Fd(d.eventQueue_,l._path,p)}(d._repo,d,ae),()=>Ch(d._repo,d,ae)}function Fp(d,l,a,p){return xh(d,"value",l,a,p)}function Of(d,l,a,p){return xh(d,"child_added",l,a,p)}function lo(d,l,a,p){return xh(d,"child_changed",l,a,p)}function Lg(d,l,a,p){return xh(d,"child_moved",l,a,p)}function Bg(d,l,a,p){return xh(d,"child_removed",l,a,p)}function Vg(d,l,a){let p=null;const _=a?new Rf(a):null;"value"===l?p=new Kc(_):l&&(p=new jd(l,_)),Ch(d._repo,d,p)}class Bl{}class $g extends Bl{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){Va("endAt",this._value,l._path,!0);const a=mt(l._queryParams,this._value,this._key);if(cc(a),Ll(a),l._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ao(l._repo,l._path,a,l._orderByCalled)}}class Hd extends Bl{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){Va("endBefore",this._value,l._path,!1);const a=function(d,l,a){let p,_;return d.index_===Ir?("string"==typeof l&&(l=Dc(l)),_=mt(d,l,a)):(p=null==a?G:Dc(a),_=mt(d,l,p)),_.endBeforeSet_=!0,_}(l._queryParams,this._value,this._key);if(cc(a),Ll(a),l._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ao(l._repo,l._path,a,l._orderByCalled)}}class Rh extends Bl{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){Va("startAt",this._value,l._path,!0);const a=pe(l._queryParams,this._value,this._key);if(cc(a),Ll(a),l._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ao(l._repo,l._path,a,l._orderByCalled)}}class zd extends Bl{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){Va("startAfter",this._value,l._path,!1);const a=function(d,l,a){let p;if(d.index_===Ir)"string"==typeof l&&(l=Ko(l)),p=pe(d,l,a);else{let _;_=null==a?le:Ko(a),p=pe(d,l,_)}return p.startAfterSet_=!0,p}(l._queryParams,this._value,this._key);if(cc(a),Ll(a),l._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ao(l._repo,l._path,a,l._orderByCalled)}}class Mh extends Bl{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ao(l._repo,l._path,function(d,l){const a=d.copy();return a.limitSet_=!0,a.limit_=l,a.viewFrom_="l",a}(l._queryParams,this._limit),l._orderByCalled)}}class Oh extends Bl{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ao(l._repo,l._path,function(d,l){const a=d.copy();return a.limitSet_=!0,a.limit_=l,a.viewFrom_="r",a}(l._queryParams,this._limit),l._orderByCalled)}}class Ph extends Bl{constructor(l){super(),this._path=l}_apply(l){su(l,"orderByChild");const a=new or(this._path);if(Nr(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new Oa(a),_=Ht(l._queryParams,p);return Ll(_),new ao(l._repo,l._path,_,!0)}}class Nf extends Bl{_apply(l){su(l,"orderByKey");const a=Ht(l._queryParams,Ir);return Ll(a),new ao(l._repo,l._path,a,!0)}}class Hg extends Bl{_apply(l){su(l,"orderByPriority");const a=Ht(l._queryParams,ri);return Ll(a),new ao(l._repo,l._path,a,!0)}}class pc extends Bl{_apply(l){su(l,"orderByValue");const a=Ht(l._queryParams,Wu);return Ll(a),new ao(l._repo,l._path,a,!0)}}class $l extends Bl{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){if(Va("equalTo",this._value,l._path,!1),l._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(l._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $g(this._value,this._key)._apply(new Rh(this._value,this._key)._apply(l))}}function vo(d,...l){let a=(0,xe.m9)(d);for(const p of l)a=p._apply(a);return a}(function(d){(0,xe.hu)(!_f,"__referenceConstructor has already been defined"),_f=d})(Xo),function(d){(0,xe.hu)(!Ad,"__referenceConstructor has already been defined"),Ad=d}(Xo);const Nh={};function kh(d,l,a,p,_){let S=p||d.options.databaseURL;void 0===S&&(d.options.projectId||Ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hi("Using default host for project ",d.options.projectId),S=`${d.options.projectId}-default-rtdb.firebaseio.com`);let Se,Ne,B=$d(S,_),ae=B.repoInfo;"undefined"!=typeof process&&(Ne=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ne?(Se=!0,S=`http://${Ne}?ns=${ae.namespace}`,B=$d(S,_),ae=B.repoInfo):Se=!B.repoInfo.secure;const It=_&&Se?new Dn(Dn.OWNER):new dn(d.name,d.options,l);kd("Invalid Firebase Database URL",B),Nr(B.path)||Ei("Database URL must point to the root of a Firebase Database (not including a child path).");const St=function(d,l,a,p){let _=Nh[l.name];_||(_={},Nh[l.name]=_);let S=_[d.toURLString()];return S&&Ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),S=new Vd(d,false,a,p),_[d.toURLString()]=S,S}(ae,d,It,new Nt(d.name,a));return new Fh(St,d)}class Fh{constructor(l,a){this._repoInternal=l,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(d,l,a){if(d.stats_=jo(d.repoInfo_),d.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)d.server_=new er(d.repoInfo_,(p,_,S,B)=>{Vc(d,p,_,S,B)},d.authTokenProvider_,d.appCheckProvider_),setTimeout(()=>Ih(d,!0),0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,xe.Pz)(a)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}d.persistentConnection_=new fe(d.repoInfo_,l,(p,_,S,B)=>{Vc(d,p,_,S,B)},p=>{Ih(d,p)},p=>{!function(d,l){R(l,(a,p)=>{al(d,a,p)})}(d,p)},d.authTokenProvider_,d.appCheckProvider_,a),d.server_=d.persistentConnection_}d.authTokenProvider_.addTokenChangeListener(p=>{d.server_.refreshAuthToken(p)}),d.appCheckProvider_.addTokenChangeListener(p=>{d.server_.refreshAppCheckToken(p.token)}),d.statsReporter_=function(d,l){const a=d.toString();return qs[a]||(qs[a]=l()),qs[a]}(d.repoInfo_,()=>new Ja(d.stats_,d.server_)),d.infoData_=new ui,d.infoSyncTree_=new xo({startListening:(p,_,S,B)=>{let ae=[];const Se=d.infoData_.getNode(p._path);return Se.isEmpty()||(ae=Ju(d.infoSyncTree_,p._path,Se),setTimeout(()=>{B("ok")},0)),ae},stopListening:()=>{}}),al(d,"connected",!1),d.serverSyncTree_=new xo({startListening:(p,_,S,B)=>(d.server_.listen(p,S,_,(ae,Se)=>{const Ne=B(ae,Se);$o(d.eventQueue_,p._path,Ne)}),[]),stopListening:(p,_)=>{d.server_.unlisten(p,_)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xo(this._repo,$r())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(d,l){const a=Nh[l];(!a||a[d.key]!==d)&&Ei(`Database ${l}(${d.repoInfo_}) has already been deleted.`),xp(d),delete a[d.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(l){null===this._rootInternal&&Ei("Cannot call "+l+" on a deleted database.")}}function Bh(d,l){Ms(d,l)}class Bf{constructor(l,a){this.committed=l,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}fe.prototype.simpleListen=function(d,l){this.sendRequest("q",{p:d},l)},fe.prototype.echo=function(d,l){this.sendRequest("echo",{d},l)},Ci(Rs.SDK_VERSION),(0,Rs._registerComponent)(new ms.wA("database",(l,{instanceIdentifier:a})=>kh(l.getProvider("app").getImmediate(),l.getProvider("auth-internal"),l.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,Rs.registerVersion)(Oi,"0.12.5",void 0),(0,Rs.registerVersion)(Oi,"0.12.5","esm2017");const Kd=new Ui.Yd("@firebase/database-compat"),$h=function(d){Kd.warn("FIREBASE WARNING: "+d)};class Yg{constructor(l){this._delegate=l}cancel(l){(0,xe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,xe.Wj)("OnDisconnect.cancel","onComplete",l,!0);const a=this._delegate.cancel();return l&&a.then(()=>l(null),p=>l(p)),a}remove(l){(0,xe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,xe.Wj)("OnDisconnect.remove","onComplete",l,!0);const a=this._delegate.remove();return l&&a.then(()=>l(null),p=>l(p)),a}set(l,a){(0,xe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,xe.Wj)("OnDisconnect.set","onComplete",a,!0);const p=this._delegate.set(l);return a&&p.then(()=>a(null),_=>a(_)),p}setWithPriority(l,a,p){(0,xe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,xe.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const _=this._delegate.setWithPriority(l,a);return p&&_.then(()=>p(null),S=>p(S)),_}update(l,a){if((0,xe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){const _={};for(let S=0;S<l.length;++S)_[""+S]=l[S];l=_,$h("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,xe.Wj)("OnDisconnect.update","onComplete",a,!0);const p=this._delegate.update(l);return a&&p.then(()=>a(null),_=>a(_)),p}}class Up{constructor(l,a){this.committed=l,this.snapshot=a}toJSON(){return(0,xe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ou{constructor(l,a){this._database=l,this._delegate=a}val(){return(0,xe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,xe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,xe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,xe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(l){return(0,xe.Dv)("DataSnapshot.child",0,1,arguments.length),l=String(l),Nd("DataSnapshot.child","path",l,!1),new ou(this._database,this._delegate.child(l))}hasChild(l){return(0,xe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Nd("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)}getPriority(){return(0,xe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(l){return(0,xe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,xe.Wj)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(a=>l(new ou(this._database,a)))}hasChildren(){return(0,xe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,xe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,xe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ea(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Js{constructor(l,a){this.database=l,this._delegate=a}on(l,a,p,_){var S;(0,xe.Dv)("Query.on",2,4,arguments.length),(0,xe.Wj)("Query.on","callback",a,!1);const B=Js.getCancelAndContextArgs_("Query.on",p,_),ae=(Ne,It)=>{a.call(B.context,new ou(this.database,Ne),It)};ae.userCallback=a,ae.context=B.context;const Se=null===(S=B.cancel)||void 0===S?void 0:S.bind(B.context);switch(l){case"value":return Fp(this._delegate,ae,Se),a;case"child_added":return Of(this._delegate,ae,Se),a;case"child_removed":return Bg(this._delegate,ae,Se),a;case"child_changed":return lo(this._delegate,ae,Se),a;case"child_moved":return Lg(this._delegate,ae,Se),a;default:throw new Error((0,xe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(l,a,p){if((0,xe.Dv)("Query.off",0,3,arguments.length),function(d,l,a){if(void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,xe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,l),(0,xe.Wj)("Query.off","callback",a,!0),(0,xe.lb)("Query.off","context",p,!0),a){const _=()=>{};_.userCallback=a,_.context=p,Vg(this._delegate,l,_)}else Vg(this._delegate,l)}get(){return Mf(this._delegate).then(l=>new ou(this.database,l))}once(l,a,p,_){(0,xe.Dv)("Query.once",1,4,arguments.length),(0,xe.Wj)("Query.once","callback",a,!0);const S=Js.getCancelAndContextArgs_("Query.once",p,_),B=new xe.BH,ae=(Ne,It)=>{const St=new ou(this.database,Ne);a&&a.call(S.context,St,It),B.resolve(St)};ae.userCallback=a,ae.context=S.context;const Se=Ne=>{S.cancel&&S.cancel.call(S.context,Ne),B.reject(Ne)};switch(l){case"value":Fp(this._delegate,ae,Se,{onlyOnce:!0});break;case"child_added":Of(this._delegate,ae,Se,{onlyOnce:!0});break;case"child_removed":Bg(this._delegate,ae,Se,{onlyOnce:!0});break;case"child_changed":lo(this._delegate,ae,Se,{onlyOnce:!0});break;case"child_moved":Lg(this._delegate,ae,Se,{onlyOnce:!0});break;default:throw new Error((0,xe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return B.promise}limitToFirst(l){return(0,xe.Dv)("Query.limitToFirst",1,1,arguments.length),new Js(this.database,vo(this._delegate,function(d){if("number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mh(d)}(l)))}limitToLast(l){return(0,xe.Dv)("Query.limitToLast",1,1,arguments.length),new Js(this.database,vo(this._delegate,function(d){if("number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Oh(d)}(l)))}orderByChild(l){return(0,xe.Dv)("Query.orderByChild",1,1,arguments.length),new Js(this.database,vo(this._delegate,function(d){if("$key"===d)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===d)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===d)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Nd("orderByChild","path",d,!1),new Ph(d)}(l)))}orderByKey(){return(0,xe.Dv)("Query.orderByKey",0,0,arguments.length),new Js(this.database,vo(this._delegate,new Nf))}orderByPriority(){return(0,xe.Dv)("Query.orderByPriority",0,0,arguments.length),new Js(this.database,vo(this._delegate,new Hg))}orderByValue(){return(0,xe.Dv)("Query.orderByValue",0,0,arguments.length),new Js(this.database,vo(this._delegate,new pc))}startAt(l=null,a){return(0,xe.Dv)("Query.startAt",0,2,arguments.length),new Js(this.database,vo(this._delegate,function(d=null,l){return Nc("startAt","key",l,!0),new Rh(d,l)}(l,a)))}startAfter(l=null,a){return(0,xe.Dv)("Query.startAfter",0,2,arguments.length),new Js(this.database,vo(this._delegate,function(d,l){return Nc("startAfter","key",l,!0),new zd(d,l)}(l,a)))}endAt(l=null,a){return(0,xe.Dv)("Query.endAt",0,2,arguments.length),new Js(this.database,vo(this._delegate,function(d,l){return Nc("endAt","key",l,!0),new $g(d,l)}(l,a)))}endBefore(l=null,a){return(0,xe.Dv)("Query.endBefore",0,2,arguments.length),new Js(this.database,vo(this._delegate,function(d,l){return Nc("endBefore","key",l,!0),new Hd(d,l)}(l,a)))}equalTo(l,a){return(0,xe.Dv)("Query.equalTo",1,2,arguments.length),new Js(this.database,vo(this._delegate,function(d,l){return Nc("equalTo","key",l,!0),new $l(d,l)}(l,a)))}toString(){return(0,xe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,xe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(l){if((0,xe.Dv)("Query.isEqual",1,1,arguments.length),!(l instanceof Js))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(l._delegate)}static getCancelAndContextArgs_(l,a,p){const _={cancel:void 0,context:void 0};if(a&&p)_.cancel=a,(0,xe.Wj)(l,"cancel",_.cancel,!0),_.context=p,(0,xe.lb)(l,"context",_.context,!0);else if(a)if("object"==typeof a&&null!==a)_.context=a;else{if("function"!=typeof a)throw new Error((0,xe.gK)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");_.cancel=a}return _}get ref(){return new Ea(this.database,new Xo(this._delegate._repo,this._delegate._path))}}class Ea extends Js{constructor(l,a){super(l,new ao(a._repo,a._path,new qo,!1)),this.database=l,this._delegate=a}getKey(){return(0,xe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(l){return(0,xe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof l&&(l=String(l)),new Ea(this.database,$a(this._delegate,l))}getParent(){(0,xe.Dv)("Reference.parent",0,0,arguments.length);const l=this._delegate.parent;return l?new Ea(this.database,l):null}getRoot(){return(0,xe.Dv)("Reference.root",0,0,arguments.length),new Ea(this.database,this._delegate.root)}set(l,a){(0,xe.Dv)("Reference.set",1,2,arguments.length),(0,xe.Wj)("Reference.set","onComplete",a,!0);const p=Sh(this._delegate,l);return a&&p.then(()=>a(null),_=>a(_)),p}update(l,a){if((0,xe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(l)){const _={};for(let S=0;S<l.length;++S)_[""+S]=l[S];l=_,$h("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_a("Reference.update",this._delegate._path),(0,xe.Wj)("Reference.update","onComplete",a,!0);const p=kp(this._delegate,l);return a&&p.then(()=>a(null),_=>a(_)),p}setWithPriority(l,a,p){(0,xe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,xe.Wj)("Reference.setWithPriority","onComplete",p,!0);const _=function(d,l,a){if(_a("setWithPriority",d._path),Va("setWithPriority",l,d._path,!1),Pd("setWithPriority",a,!1),".length"===d.key||".keys"===d.key)throw"setWithPriority failed: "+d.key+" is a read-only object.";const p=new xe.BH;return Mu(d._repo,d._path,l,a,p.wrapCallback(()=>{})),p.promise}(this._delegate,l,a);return p&&_.then(()=>p(null),S=>p(S)),_}remove(l){(0,xe.Dv)("Reference.remove",0,1,arguments.length),(0,xe.Wj)("Reference.remove","onComplete",l,!0);const a=function(d){return _a("remove",d._path),Sh(d,null)}(this._delegate);return l&&a.then(()=>l(null),p=>l(p)),a}transaction(l,a,p){(0,xe.Dv)("Reference.transaction",1,3,arguments.length),(0,xe.Wj)("Reference.transaction","transactionUpdate",l,!1),(0,xe.Wj)("Reference.transaction","onComplete",a,!0),function(d,l,a,p){if(void 0!==a&&"boolean"!=typeof a)throw new Error((0,xe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const _=function(d,l,a){var p;if(d=(0,xe.m9)(d),_a("Reference.transaction",d._path),".length"===d.key||".keys"===d.key)throw"Reference.transaction failed: "+d.key+" is a read-only object.";const _=null===(p=null==a?void 0:a.applyLocally)||void 0===p||p,S=new xe.BH,ae=Fp(d,()=>{});return function(d,l,a,p,_,S){Uc(d,"transaction on "+l);const B={path:l,update:a,onComplete:p,status:null,order:Br(),applyLocally:S,retryCount:0,unwatcher:_,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ae=Dh(d,l,void 0);B.currentInputSnapshot=ae;const Se=B.update(ae.val());if(void 0===Se)B.unwatcher(),B.currentOutputSnapshotRaw=null,B.currentOutputSnapshotResolved=null,B.onComplete&&B.onComplete(null,!1,B.currentInputSnapshot);else{Fl("transaction failed: Data returned ",Se,B.path),B.status=0;const Ne=ic(d.transactionQueueTree_,l),It=ya(Ne)||[];let St;It.push(B),nu(Ne,It),"object"==typeof Se&&null!==Se&&(0,xe.r3)(Se,".priority")?(St=(0,xe.DV)(Se,".priority"),(0,xe.hu)(Pc(St),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):St=(La(d.serverSyncTree_,l)||gr.EMPTY_NODE).getPriority().val();const Bt=Bc(d),Nn=Dr(Se,St),nr=Bs(Nn,ae,Bt);B.currentOutputSnapshotRaw=Nn,B.currentOutputSnapshotResolved=nr,B.currentWriteId=ll(d);const fi=kl(d.serverSyncTree_,l,nr,B.currentWriteId,B.applyLocally);$o(d.eventQueue_,l,fi),Th(d,d.transactionQueueTree_)}}(d._repo,d._path,l,(Se,Ne,It)=>{let St=null;Se?S.reject(Se):(St=new dc(It,new Xo(d._repo,d._path),ri),S.resolve(new Bf(Ne,St)))},ae,_),S.promise}(this._delegate,l,{applyLocally:p}).then(S=>new Up(S.committed,new ou(this.database,S.snapshot)));return a&&_.then(S=>a(null,S.committed,S.snapshot),S=>a(S,!1,null)),_}setPriority(l,a){(0,xe.Dv)("Reference.setPriority",1,2,arguments.length),(0,xe.Wj)("Reference.setPriority","onComplete",a,!0);const p=function(d,l){d=(0,xe.m9)(d),_a("setPriority",d._path),Pd("setPriority",l,!1);const a=new xe.BH;return Mu(d._repo,ai(d._path,".priority"),l,null,a.wrapCallback(()=>{})),a.promise}(this._delegate,l);return a&&p.then(()=>a(null),_=>a(_)),p}push(l,a){(0,xe.Dv)("Reference.push",0,2,arguments.length),(0,xe.Wj)("Reference.push","onComplete",a,!0);const p=function(d,l){d=(0,xe.m9)(d),_a("push",d._path),Va("push",l,d._path,!0);const a=Xs(d._repo),p=Cl(a),_=$a(d,p),S=$a(d,p);let B;return B=null!=l?Sh(S,l).then(()=>S):Promise.resolve(S),_.then=B.then.bind(B),_.catch=B.then.bind(B,void 0),_}(this._delegate,l),_=p.then(B=>new Ea(this.database,B));a&&_.then(()=>a(null),B=>a(B));const S=new Ea(this.database,p);return S.then=_.then.bind(_),S.catch=_.catch.bind(_,void 0),S}onDisconnect(){return _a("Reference.onDisconnect",this._delegate._path),new Yg(new Op(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mc{constructor(l,a){this._delegate=l,this.app=a,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(l,a,p={}){!function(d,l,a,p={}){(d=(0,xe.m9)(d))._checkNotDeleted("useEmulator"),d._instanceStarted&&Ei("Cannot call useEmulator() after instance has already been initialized.");const _=d._repoInternal;let S;if(_.repoInfo_.nodeAdmin)p.mockUserToken&&Ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),S=new Dn(Dn.OWNER);else if(p.mockUserToken){const B="string"==typeof p.mockUserToken?p.mockUserToken:(0,xe.Sg)(p.mockUserToken,d.app.options.projectId);S=new Dn(B)}!function(d,l,a,p){d.repoInfo_=new No(`${l}:${a}`,!1,d.repoInfo_.namespace,d.repoInfo_.webSocketOnly,d.repoInfo_.nodeAdmin,d.repoInfo_.persistenceKey,d.repoInfo_.includeNamespaceInQueryParams),p&&(d.authTokenProvider_=p)}(_,l,a,S)}(this._delegate,l,a,p)}ref(l){if((0,xe.Dv)("database.ref",0,1,arguments.length),l instanceof Ea){const a=hc(this._delegate,l.toString());return new Ea(this,a)}{const a=Pp(this._delegate,l);return new Ea(this,a)}}refFromURL(l){(0,xe.Dv)("database.refFromURL",1,1,arguments.length);const p=hc(this._delegate,l);return new Ea(this,p)}goOffline(){return(0,xe.Dv)("database.goOffline",0,0,arguments.length),function(d){(d=(0,xe.m9)(d))._checkNotDeleted("goOffline"),xp(d._repo)}(this._delegate)}goOnline(){return(0,xe.Dv)("database.goOnline",0,0,arguments.length),function(d){(d=(0,xe.m9)(d))._checkNotDeleted("goOnline"),function(d){d.persistentConnection_&&d.persistentConnection_.resume(Fc)}(d._repo)}(this._delegate)}}mc.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:d=>function(d){return{".sv":{increment:d}}}(d)};var Uh=Object.freeze({__proto__:null,initStandalone:function({app:d,url:l,version:a,customAuthImpl:p,namespace:_,nodeAdmin:S=!1}){Ci(a);const B=new ms.zt("auth-internal",new ms.H0("database-standalone"));return B.setComponent(new ms.wA("auth-internal",()=>p,"PRIVATE")),{instance:new mc(kh(d,B,void 0,l,S),d),namespace:_}}});const qg=mc.ServerValue;!function(d){d.INTERNAL.registerComponent(new ms.wA("database-compat",(l,{instanceIdentifier:a})=>{const p=l.getProvider("app-compat").getImmediate(),_=l.getProvider("database").getImmediate({identifier:a});return new mc(_,p)},"PUBLIC").setServiceProps({Reference:Ea,Query:Js,Database:mc,DataSnapshot:ou,enableLogging:Bh,INTERNAL:Uh,ServerValue:qg}).setMultipleInstances(!0)),d.registerVersion("@firebase/database-compat","0.1.5")}(us.Z);var dl=H(7402),jh=H(7798),Hp=H(7892);function Wh(d){return null==d}function yc(d){return"function"==typeof d.set}function au(d,l){return yc(l)?l:d.ref(l)}function ed(d,l){if(function(d){return"string"==typeof d}(d))return l.stringCase();if(yc(d))return l.firebaseCase();if(function(d){return"function"==typeof d.exportVal}(d))return l.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof d)}function Ul(d,l,a="on",p=Jr.z){return new lr.y(_=>{let S=null;return S=d[a](l,(B,ae)=>{p.schedule(()=>{_.next({snapshot:B,prevKey:ae})}),"once"===a&&p.schedule(()=>_.complete())},B=>{p.schedule(()=>_.error(B))}),"on"===a?{unsubscribe(){null!=S&&d.off(l,S)}}:{unsubscribe(){}}}).pipe((0,jn.U)(_=>{const{snapshot:S,prevKey:B}=_;let ae=null;return S.exists()&&(ae=S.key),{type:l,payload:S,prevKey:B,key:ae}}),(0,hn.B)())}function nd(d,l){const a=d.length;for(let p=0;p<a;p++)if(d[p].payload.key===l)return p;return-1}function Zg(d,l){const{payload:a,prevKey:p,key:_}=l,S=nd(d,_),B=function(d,l){if(Wh(l))return 0;{const a=nd(d,l);return-1===a?d.length:a+1}}(d,p);switch(l.type){case"value":if(l.payload&&l.payload.exists()){let ae=null;l.payload.forEach(Se=>{const Ne={payload:Se,type:"value",prevKey:ae,key:Se.key};return ae=Se.key,d=[...d,Ne],!1})}return d;case"child_added":if(S>-1){const ae=d[S-1];(ae&&ae.key||null)!==p&&(d=d.filter(Se=>Se.payload.key!==a.key)).splice(B,0,l)}else{if(null==p)return[l,...d];(d=d.slice()).splice(B,0,l)}return d;case"child_removed":return d.filter(ae=>ae.payload.key!==a.key);case"child_changed":return d.map(ae=>ae.payload.key===_?l:ae);case"child_moved":if(S>-1){const ae=d.splice(S,1)[0];return(d=d.slice()).splice(B,0,ae),d}return d;default:return d}}function zh(d){return(Wh(d)||0===d.length)&&(d=["child_added","child_removed","child_changed","child_moved"]),d}function rd(d,l,a){return function(d,l,a){return Ul(d,"value","once",a).pipe((0,Lr.w)(p=>{const _=[(0,ur.of)(p)];return l.forEach(S=>_.push(Ul(d,S,"on",a))),(0,xr.T)(..._).pipe((0,Sn.R)(Zg,[]))}),(0,Mr.x)())}(d,l=zh(l),a)}function Yd(d,l,a){const p=(l=zh(l)).map(_=>Ul(d,_,"on",a));return(0,xr.T)(...p)}function Qg(d,l){return function(p,_){return ed(p,{stringCase:()=>d.child(p)[l](_),firebaseCase:()=>p[l](_),snapshotCase:()=>p.ref[l](_)})}}function Hf(d){return function(a){return a?ed(a,{stringCase:()=>d.child(a).remove(),firebaseCase:()=>a.remove(),snapshotCase:()=>a.ref.remove()}):d.remove()}}function Wf(d,l){return function(){return Ul(d,"value","on",l)}}const zp=new $.OlP("angularfire2.realtimeDatabaseURL"),Gf=new $.OlP("angularfire2.database.use-emulator");let jl=(()=>{class d{constructor(a,p,_,S,B,ae,Se,Ne,It,St,Bt,Nn,nr,fi,Ks){this.schedulers=ae;const $u=Se,Vi=(0,Kt.on)(a,B,p);Ne&&(0,dl.nw)(Vi,B,It,Bt,Nn,nr,St,fi),this.database=(0,Kt.cc)(`${Vi.name}.database.${_}`,"AngularFireDatabase",Vi.name,()=>{const lu=B.runOutsideAngular(()=>Vi.database(_||void 0));return $u&&lu.useEmulator(...$u),lu},[$u])}list(a,p){const _=this.schedulers.ngZone.runOutsideAngular(()=>au(this.database,a));let S=_;return p&&(S=p(_)),function(d,l){const a=l.schedulers.outsideAngular,p=l.schedulers.ngZone.run(()=>d.ref);return{query:d,update:Qg(p,"update"),set:Qg(p,"set"),push:_=>p.push(_),remove:Hf(p),snapshotChanges:_=>rd(d,_,a).pipe(oi.iC),stateChanges:_=>Yd(d,_,a).pipe(oi.iC),auditTrail:_=>function(d,l,a){return function(d,l,a){return function(d,l){return Ul(d,"value","on",l).pipe((0,jn.U)(a=>{let p;return a.payload.forEach(_=>(p=_.key,!1)),{data:a,lastKeyToLoad:p}}))}(d,a).pipe(function(...d){return l=>{let a;return"function"==typeof d[d.length-1]&&(a=d.pop()),l.lift(new gs(d,a))}}(l),(0,jn.U)(([_,S])=>{const B=_.lastKeyToLoad,ae=S.map(Se=>Se.key);return{actions:S,lastKeyToLoad:B,loadedKeys:ae}}),function(d){return l=>l.lift(new ls(d))}(_=>-1===_.loadedKeys.indexOf(_.lastKeyToLoad)),(0,jn.U)(_=>_.actions))}(d,Yd(d,l).pipe((0,Sn.R)((_,S)=>[..._,S],[])),a)}(d,_,a).pipe(oi.iC),valueChanges:(_,S)=>rd(d,_,a).pipe((0,jn.U)(ae=>ae.map(Se=>S&&S.idField?Object.assign(Object.assign({},Se.payload.val()),{[S.idField]:Se.key}):Se.payload.val())),oi.iC)}}(S,this)}object(a){return function(d,l){return{query:d,snapshotChanges:()=>Wf(d,l.schedulers.outsideAngular)().pipe(oi.iC),update:a=>d.ref.update(a),set:a=>d.ref.set(a),remove:()=>d.ref.remove(),valueChanges:()=>Wf(d,l.schedulers.outsideAngular)().pipe(oi.iC,(0,jn.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>au(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return d.\u0275fac=function(a){return new(a||d)($.LFG(Kt.Dh),$.LFG(Kt.xv,8),$.LFG(zp,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(oi.HU),$.LFG(Gf,8),$.LFG(dl.zQ,8),$.LFG(dl.Qv,8),$.LFG(dl.L6,8),$.LFG(dl._Q,8),$.LFG(dl.rT,8),$.LFG(dl.lh,8),$.LFG(dl.f7,8),$.LFG(jh.nm,8))},d.\u0275prov=$.Yz7({token:d,factory:d.\u0275fac,providedIn:"any"}),d})(),qd=(()=>{class d{constructor(){Hp.Z.registerVersion("angularfire",oi.q4.full,"rtdb-compat")}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=$.oAB({type:d}),d.\u0275inj=$.cJS({providers:[jl]}),d})();var Gp=H(9010);function hl(d,l,a,p){return new(a||(a=Promise))(function(S,B){function ae(It){try{Ne(p.next(It))}catch(St){B(St)}}function Se(It){try{Ne(p.throw(It))}catch(St){B(St)}}function Ne(It){It.done?S(It.value):function(S){return S instanceof a?S:new a(function(B){B(S)})}(It.value).then(ae,Se)}Ne((p=p.apply(d,l||[])).next())})}var ea,ku=H(8621);const sd=new $.OlP("STORAGE_CONFIG_TOKEN");class Xp extends ku.K{constructor(){super()}create(){return hl(this,void 0,void 0,function*(){return this})}defineDriver(){return hl(this,void 0,void 0,function*(){})}get driver(){return"noop"}get(l){return hl(this,void 0,void 0,function*(){return null})}set(l,a){return hl(this,void 0,void 0,function*(){})}remove(l){return hl(this,void 0,void 0,function*(){})}clear(){return hl(this,void 0,void 0,function*(){})}length(){return hl(this,void 0,void 0,function*(){return 0})}keys(){return hl(this,void 0,void 0,function*(){return[]})}forEach(l){return hl(this,void 0,void 0,function*(){})}setEncryptionKey(l){}}function qh(d){return(0,u.PM)(this.platformId)?new Xp:new ku.K(d)}let Uo=ea=class{static forRoot(l=null){return{ngModule:ea,providers:[{provide:sd,useValue:l},{provide:ku.K,useFactory:qh,deps:[sd]}]}}};Uo.\u0275fac=function(l){return new(l||Uo)},Uo.\u0275mod=$.oAB({type:Uo}),Uo.\u0275inj=$.cJS({});var Fu=H(3590),tm=H(7713);H(8717);class Jd{constructor(){return(0,oi.vb)("auth")}}var dm=H(5023);class os{constructor(l){return l}}const bo="firestore",sp=new $.OlP("angularfire2.firestore-instances");function fg(d){return(l,a)=>{const p=l.runOutsideAngular(()=>d(a));return new os(p)}}const pg={provide:class{constructor(){return(0,oi.vb)(bo)}},deps:[[new $.FiY,sp]]},gg={provide:os,useFactory:function(d,l){const a=(0,oi.JM)(bo,d,l);return a&&new os(a)},deps:[[new $.FiY,sp],Fu.Ot]};let op=(()=>{class d{constructor(){(0,tm.KN)("angularfire",oi.q4.full,"fst")}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=$.oAB({type:d}),d.\u0275inj=$.cJS({providers:[gg,pg]}),d})();function fm(d,...l){return{ngModule:op,providers:[{provide:sp,useFactory:fg(d),multi:!0,deps:[$.R0b,$.zs3,oi.HU,Fu.z6,[new $.FiY,Jd],[new $.FiY,jh.nm],...l]}]}}const dp=(0,oi.u3)(dm.ad,!0);let fp=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=$.oAB({type:d,bootstrap:[Xt]}),d.\u0275inj=$.cJS({providers:[{provide:tt.wN,useClass:kt.r4}],imports:[[$n,kt.Pc.forRoot(),Pn,Kt.hO.initializeApp(Lt_firebase),qd,dl.ww,Gp.u5,Uo.forRoot(),Pn,ht.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),(0,Fu.hX)(()=>(0,Fu.ZF)(Lt_firebase)),fm(()=>dp())]]}),d})();(0,$.G48)(),hr().bootstrapModule(fp).catch(d=>console.log(d))},863:(Gt,at,H)=>{var u={"./ion-accordion_2.entry.js":[9134,8592,5023],"./ion-action-sheet.entry.js":[7572,8592,7572],"./ion-alert.entry.js":[1360,8592,1360],"./ion-app_8.entry.js":[4705,8592,4705],"./ion-avatar_3.entry.js":[9871,8592,9871],"./ion-back-button.entry.js":[2430,8592,2430],"./ion-backdrop.entry.js":[3206,3206],"./ion-breadcrumb_2.entry.js":[8954,8592,8954],"./ion-button_2.entry.js":[9092,8592,9092],"./ion-card_5.entry.js":[1259,8592,1259],"./ion-checkbox.entry.js":[663,8592,663],"./ion-chip.entry.js":[1014,8592,1014],"./ion-col_3.entry.js":[5127,5127],"./ion-datetime_3.entry.js":[5847,8592,5847],"./ion-fab_3.entry.js":[4956,8592,4956],"./ion-img.entry.js":[3800,1915],"./ion-infinite-scroll_2.entry.js":[2259,8592,2259],"./ion-input.entry.js":[3148,8592,3148],"./ion-item-option_3.entry.js":[2753,8592,2753],"./ion-item_8.entry.js":[7446,8592,7446],"./ion-loading.entry.js":[8739,8592,8739],"./ion-menu_3.entry.js":[2473,8592,2473],"./ion-modal.entry.js":[9797,8592,9797],"./ion-nav_2.entry.js":[4138,8592,4138],"./ion-picker-column-internal.entry.js":[6607,8592,6607],"./ion-picker-internal.entry.js":[7881,7881],"./ion-popover.entry.js":[1678,8592,1678],"./ion-progress-bar.entry.js":[2485,8592,2485],"./ion-radio_2.entry.js":[2787,8592,2787],"./ion-range.entry.js":[9009,8592,9009],"./ion-refresher_2.entry.js":[5570,8592,5570],"./ion-reorder_2.entry.js":[8953,8592,8953],"./ion-ripple-effect.entry.js":[5651,5651],"./ion-route_4.entry.js":[7957,8592,7957],"./ion-searchbar.entry.js":[4784,8592,4784],"./ion-segment_2.entry.js":[1662,8592,1662],"./ion-select_3.entry.js":[7668,8592,4099],"./ion-slide_2.entry.js":[170,170],"./ion-spinner.entry.js":[2691,8592,2691],"./ion-split-pane.entry.js":[7245,7245],"./ion-tab-bar_2.entry.js":[9500,8592,9500],"./ion-tab_2.entry.js":[167,8592,167],"./ion-text.entry.js":[1454,8592,1454],"./ion-textarea.entry.js":[8113,8592,8113],"./ion-toast.entry.js":[4269,8592,4269],"./ion-toggle.entry.js":[1772,8592,1772],"./ion-virtual-scroll.entry.js":[7014,7014]};function $(q){if(!H.o(u,q))return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+q+"'");throw de.code="MODULE_NOT_FOUND",de});var Me=u[q],ye=Me[0];return Promise.all(Me.slice(1).map(H.e)).then(()=>H(ye))}$.keys=()=>Object.keys(u),$.id=863,Gt.exports=$},4762:(Gt,at,H)=>{"use strict";function Me(Ve,je){var Le={};for(var Fe in Ve)Object.prototype.hasOwnProperty.call(Ve,Fe)&&je.indexOf(Fe)<0&&(Le[Fe]=Ve[Fe]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(Fe=Object.getOwnPropertySymbols(Ve);Ae<Fe.length;Ae++)je.indexOf(Fe[Ae])<0&&Object.prototype.propertyIsEnumerable.call(Ve,Fe[Ae])&&(Le[Fe[Ae]]=Ve[Fe[Ae]])}return Le}function ye(Ve,je,Le,Fe){var Ut,Ae=arguments.length,et=Ae<3?je:null===Fe?Fe=Object.getOwnPropertyDescriptor(je,Le):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(Ve,je,Le,Fe);else for(var zt=Ve.length-1;zt>=0;zt--)(Ut=Ve[zt])&&(et=(Ae<3?Ut(et):Ae>3?Ut(je,Le,et):Ut(je,Le))||et);return Ae>3&&et&&Object.defineProperty(je,Le,et),et}function J(Ve,je,Le,Fe){return new(Le||(Le=Promise))(function(et,Ut){function zt(rt){try{ft(Fe.next(rt))}catch(ot){Ut(ot)}}function bt(rt){try{ft(Fe.throw(rt))}catch(ot){Ut(ot)}}function ft(rt){rt.done?et(rt.value):function(et){return et instanceof Le?et:new Le(function(Ut){Ut(et)})}(rt.value).then(zt,bt)}ft((Fe=Fe.apply(Ve,je||[])).next())})}H.d(at,{_T:()=>Me,gn:()=>ye,mG:()=>J})},6019:(Gt,at,H)=>{"use strict";H.d(at,{mr:()=>Be,ez:()=>bs,K0:()=>he,Do:()=>De,V_:()=>te,Ye:()=>ke,S$:()=>Re,sg:()=>ci,O5:()=>C,tP:()=>Kt,b0:()=>qe,lw:()=>J,EM:()=>wo,JF:()=>es,NF:()=>di,PM:()=>Xr,w_:()=>de,bD:()=>_s,q:()=>q,Mx:()=>gi,HT:()=>ye});var u=H(3668);let $=null;function q(){return $}function ye(G){$||($=G)}class de{}const he=new u.OlP("DocumentToken");let J=(()=>{class G{historyGo(Y){throw new Error("Not implemented")}}return G.\u0275fac=function(Y){return new(Y||G)},G.\u0275prov=u.Yz7({token:G,factory:function(){return(0,u.LFG)(re)},providedIn:"platform"}),G})();const te=new u.OlP("Location Initialized");let re=(()=>{class G extends J{constructor(Y){super(),this._doc=Y,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(Y){const Ee=q().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("popstate",Y,!1),()=>Ee.removeEventListener("popstate",Y)}onHashChange(Y){const Ee=q().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("hashchange",Y,!1),()=>Ee.removeEventListener("hashchange",Y)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Y){this.location.pathname=Y}pushState(Y,Ee,Je){ce()?this._history.pushState(Y,Ee,Je):this.location.hash=Je}replaceState(Y,Ee,Je){ce()?this._history.replaceState(Y,Ee,Je):this.location.hash=Je}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}}return G.\u0275fac=function(Y){return new(Y||G)(u.LFG(he))},G.\u0275prov=u.Yz7({token:G,factory:function(){return new re((0,u.LFG)(he))},providedIn:"platform"}),G})();function ce(){return!!window.history.pushState}function $e(G,le){if(0==G.length)return le;if(0==le.length)return G;let Y=0;return G.endsWith("/")&&Y++,le.startsWith("/")&&Y++,2==Y?G+le.substring(1):1==Y?G+le:G+"/"+le}function Xe(G){const le=G.match(/#|\?|$/),Y=le&&le.index||G.length;return G.slice(0,Y-("/"===G[Y-1]?1:0))+G.slice(Y)}function Te(G){return G&&"?"!==G[0]?"?"+G:G}let Re=(()=>{class G{historyGo(Y){throw new Error("Not implemented")}}return G.\u0275fac=function(Y){return new(Y||G)},G.\u0275prov=u.Yz7({token:G,factory:function(){return function(G){const le=(0,u.LFG)(he).location;return new qe((0,u.LFG)(J),le&&le.origin||"")}()},providedIn:"root"}),G})();const Be=new u.OlP("appBaseHref");let qe=(()=>{class G extends Re{constructor(Y,Ee){if(super(),this._platformLocation=Y,this._removeListenerFns=[],null==Ee&&(Ee=this._platformLocation.getBaseHrefFromDOM()),null==Ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return $e(this._baseHref,Y)}path(Y=!1){const Ee=this._platformLocation.pathname+Te(this._platformLocation.search),Je=this._platformLocation.hash;return Je&&Y?`${Ee}${Je}`:Ee}pushState(Y,Ee,Je,F){const M=this.prepareExternalUrl(Je+Te(F));this._platformLocation.pushState(Y,Ee,M)}replaceState(Y,Ee,Je,F){const M=this.prepareExternalUrl(Je+Te(F));this._platformLocation.replaceState(Y,Ee,M)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Y=0){var Ee,Je;null==(Je=(Ee=this._platformLocation).historyGo)||Je.call(Ee,Y)}}return G.\u0275fac=function(Y){return new(Y||G)(u.LFG(J),u.LFG(Be,8))},G.\u0275prov=u.Yz7({token:G,factory:G.\u0275fac}),G})(),De=(()=>{class G extends Re{constructor(Y,Ee){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=Ee&&(this._baseHref=Ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){let Ee=this._platformLocation.hash;return null==Ee&&(Ee="#"),Ee.length>0?Ee.substring(1):Ee}prepareExternalUrl(Y){const Ee=$e(this._baseHref,Y);return Ee.length>0?"#"+Ee:Ee}pushState(Y,Ee,Je,F){let M=this.prepareExternalUrl(Je+Te(F));0==M.length&&(M=this._platformLocation.pathname),this._platformLocation.pushState(Y,Ee,M)}replaceState(Y,Ee,Je,F){let M=this.prepareExternalUrl(Je+Te(F));0==M.length&&(M=this._platformLocation.pathname),this._platformLocation.replaceState(Y,Ee,M)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Y=0){var Ee,Je;null==(Je=(Ee=this._platformLocation).historyGo)||Je.call(Ee,Y)}}return G.\u0275fac=function(Y){return new(Y||G)(u.LFG(J),u.LFG(Be,8))},G.\u0275prov=u.Yz7({token:G,factory:G.\u0275fac}),G})(),ke=(()=>{class G{constructor(Y,Ee){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=Y;const Je=this._platformStrategy.getBaseHref();this._platformLocation=Ee,this._baseHref=Xe(Ue(Je)),this._platformStrategy.onPopState(F=>{this._subject.emit({url:this.path(!0),pop:!0,state:F.state,type:F.type})})}path(Y=!1){return this.normalize(this._platformStrategy.path(Y))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Y,Ee=""){return this.path()==this.normalize(Y+Te(Ee))}normalize(Y){return G.stripTrailingSlash(function(G,le){return G&&le.startsWith(G)?le.substring(G.length):le}(this._baseHref,Ue(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._platformStrategy.prepareExternalUrl(Y)}go(Y,Ee="",Je=null){this._platformStrategy.pushState(Je,"",Y,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Te(Ee)),Je)}replaceState(Y,Ee="",Je=null){this._platformStrategy.replaceState(Je,"",Y,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Te(Ee)),Je)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Y=0){var Ee,Je;null==(Je=(Ee=this._platformStrategy).historyGo)||Je.call(Ee,Y)}onUrlChange(Y){this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ee=>{this._notifyUrlChangeListeners(Ee.url,Ee.state)}))}_notifyUrlChangeListeners(Y="",Ee){this._urlChangeListeners.forEach(Je=>Je(Y,Ee))}subscribe(Y,Ee,Je){return this._subject.subscribe({next:Y,error:Ee,complete:Je})}}return G.normalizeQueryParams=Te,G.joinWithSlash=$e,G.stripTrailingSlash=Xe,G.\u0275fac=function(Y){return new(Y||G)(u.LFG(Re),u.LFG(J))},G.\u0275prov=u.Yz7({token:G,factory:function(){return new ke((0,u.LFG)(Re),(0,u.LFG)(J))},providedIn:"root"}),G})();function Ue(G){return G.replace(/\/index.html$/,"")}var je=(()=>((je=je||{})[je.Zero=0]="Zero",je[je.One=1]="One",je[je.Two=2]="Two",je[je.Few=3]="Few",je[je.Many=4]="Many",je[je.Other=5]="Other",je))();const Cn=u.kL8;class Zr{}let vr=(()=>{class G extends Zr{constructor(Y){super(),this.locale=Y}getPluralCategory(Y,Ee){switch(Cn(Ee||this.locale)(Y)){case je.Zero:return"zero";case je.One:return"one";case je.Two:return"two";case je.Few:return"few";case je.Many:return"many";default:return"other"}}}return G.\u0275fac=function(Y){return new(Y||G)(u.LFG(u.soG))},G.\u0275prov=u.Yz7({token:G,factory:G.\u0275fac}),G})();function gi(G,le){le=encodeURIComponent(le);for(const Y of G.split(";")){const Ee=Y.indexOf("="),[Je,F]=-1==Ee?[Y,""]:[Y.slice(0,Ee),Y.slice(Ee+1)];if(Je.trim()===le)return decodeURIComponent(F)}return null}class Ii{constructor(le,Y,Ee,Je){this.$implicit=le,this.ngForOf=Y,this.index=Ee,this.count=Je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ci=(()=>{class G{constructor(Y,Ee,Je){this._viewContainer=Y,this._template=Ee,this._differs=Je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;if(!this._differ&&Y)try{this._differ=this._differs.find(Y).create(this.ngForTrackBy)}catch(Ee){throw new Error(`Cannot find a differ supporting object '${Y}' of type '${function(G){return G.name||typeof G}(Y)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const Ee=[];Y.forEachOperation((Je,F,M)=>{if(null==Je.previousIndex){const R=this._viewContainer.createEmbeddedView(this._template,new Ii(null,this._ngForOf,-1,-1),null===M?void 0:M),se=new be(Je,R);Ee.push(se)}else if(null==M)this._viewContainer.remove(null===F?void 0:F);else if(null!==F){const R=this._viewContainer.get(F);this._viewContainer.move(R,M);const se=new be(Je,R);Ee.push(se)}});for(let Je=0;Je<Ee.length;Je++)this._perViewChange(Ee[Je].view,Ee[Je].record);for(let Je=0,F=this._viewContainer.length;Je<F;Je++){const M=this._viewContainer.get(Je);M.context.index=Je,M.context.count=F,M.context.ngForOf=this._ngForOf}Y.forEachIdentityChange(Je=>{this._viewContainer.get(Je.currentIndex).context.$implicit=Je.item})}_perViewChange(Y,Ee){Y.context.$implicit=Ee.item}static ngTemplateContextGuard(Y,Ee){return!0}}return G.\u0275fac=function(Y){return new(Y||G)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},G.\u0275dir=u.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),G})();class be{constructor(le,Y){this.record=le,this.view=Y}}let C=(()=>{class G{constructor(Y,Ee){this._viewContainer=Y,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ee}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){P("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){P("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,Ee){return!0}}return G.\u0275fac=function(Y){return new(Y||G)(u.Y36(u.s_b),u.Y36(u.Rgc))},G.\u0275dir=u.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),G})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function P(G,le){if(le&&!le.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,u.AaK)(le)}'.`)}let Kt=(()=>{class G{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Y){if(Y.ngTemplateOutlet){const Ee=this._viewContainerRef;this._viewRef&&Ee.remove(Ee.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Ee.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Y.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return G.\u0275fac=function(Y){return new(Y||G)(u.Y36(u.s_b))},G.\u0275dir=u.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),G})(),bs=(()=>{class G{}return G.\u0275fac=function(Y){return new(Y||G)},G.\u0275mod=u.oAB({type:G}),G.\u0275inj=u.cJS({providers:[{provide:Zr,useClass:vr}]}),G})();const _s="browser";function di(G){return G===_s}function Xr(G){return"server"===G}let wo=(()=>{class G{}return G.\u0275prov=(0,u.Yz7)({token:G,providedIn:"root",factory:()=>new Ei((0,u.LFG)(he),window)}),G})();class Ei{constructor(le,Y){this.document=le,this.window=Y,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const Y=function(G,le){const Y=G.getElementById(le)||G.getElementsByName(le)[0];if(Y)return Y;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const Ee=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let Je=Ee.currentNode;for(;Je;){const F=Je.shadowRoot;if(F){const M=F.getElementById(le)||F.querySelector(`[name="${le}"]`);if(M)return M}Je=Ee.nextNode()}}return null}(this.document,le);Y&&(this.scrollToElement(Y),this.attemptFocus(Y))}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const Y=this.window.history;Y&&Y.scrollRestoration&&(Y.scrollRestoration=le)}}scrollToElement(le){const Y=le.getBoundingClientRect(),Ee=Y.left+this.window.pageXOffset,Je=Y.top+this.window.pageYOffset,F=this.offset();this.window.scrollTo(Ee-F[0],Je-F[1])}attemptFocus(le){return le.focus(),this.document.activeElement===le}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=bi(this.window.history)||bi(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch(le){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(le){return!1}}}function bi(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class es{}},3668:(Gt,at,H)=>{"use strict";H.d(at,{deG:()=>Ns,tb:()=>y0,AFp:()=>p0,ip1:()=>p_,CZH:()=>Mg,hGG:()=>hI,z2F:()=>Vm,sBO:()=>Uw,Sil:()=>m_,_Vd:()=>Om,EJc:()=>v0,SBq:()=>Pm,qLn:()=>Zo,vpe:()=>gd,tBr:()=>Fs,XFs:()=>an,OlP:()=>li,zs3:()=>ea,ZZ4:()=>wy,aQg:()=>Iy,soG:()=>Ey,YKP:()=>xv,h0i:()=>Ag,PXZ:()=>Pw,R0b:()=>du,FiY:()=>Qs,Lbi:()=>m0,g9A:()=>g0,Qsj:()=>cb,FYo:()=>Cv,JOm:()=>Mo,tp0:()=>Ja,Rgc:()=>Lm,dDg:()=>w0,q4F:()=>Tv,GfV:()=>Dv,s_b:()=>my,ifc:()=>cn,eFA:()=>D0,G48:()=>$w,Gpc:()=>re,X6Q:()=>Vw,_c5:()=>sI,VLi:()=>xw,c2e:()=>_0,zSh:()=>Yh,wAp:()=>Pr,vHH:()=>Xe,cg1:()=>zy,kL8:()=>Y_,dqk:()=>fr,sIi:()=>ad,CqO:()=>of,QGY:()=>hd,F4k:()=>Cm,RDi:()=>wo,AaK:()=>J,qOj:()=>Qh,TTD:()=>Hi,_Bn:()=>bv,xp6:()=>iu,uIk:()=>og,ekj:()=>Sm,Suo:()=>zv,Xpm:()=>Ln,lG2:()=>Xt,Yz7:()=>pt,cJS:()=>tn,oAB:()=>it,Yjl:()=>Bn,Y36:()=>ef,_UZ:()=>vg,GkF:()=>sf,qZA:()=>hp,TgZ:()=>Bu,EpF:()=>bg,n5z:()=>xt,LFG:()=>er,$8M:()=>Ir,$Z:()=>Em,NdJ:()=>Vu,CRH:()=>Gv,oxw:()=>fp,Hsn:()=>a,F$t:()=>l,Q6J:()=>tf,iGM:()=>Hv,MAs:()=>ml,CHM:()=>mi,LSH:()=>Zu,YNc:()=>os,_uU:()=>ee,Oqu:()=>_e,Gf:()=>Wv});var u=H(3405),$=H(1346),q=H(5548),Me=H(8526),ye=H(550);function de(t){for(let n in t)if(t[n]===de)return n;throw Error("Could not find renamed property on target object.")}function he(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function J(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(J).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function me(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const te=de({__forward_ref__:de});function re(t){return t.__forward_ref__=re,t.toString=function(){return J(this())},t}function ce(t){return ie(t)?t():t}function ie(t){return"function"==typeof t&&t.hasOwnProperty(te)&&t.__forward_ref__===re}class Xe extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function we(t){return"string"==typeof t?t:null==t?"":String(t)}function Be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():we(t)}function Ye(t,n){const s=n?` in ${n}`:"";throw new Xe("201",`No provider for ${Be(t)} found${s}`)}function rt(t,n){null==t&&function(t,n,s,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${s} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rn(t){return wn(t,Cn)||wn(t,Ft)}function wn(t,n){return t.hasOwnProperty(n)?t[n]:null}function hr(t){return t&&(t.hasOwnProperty($n)||t.hasOwnProperty(sr))?t[$n]:null}const Cn=de({\u0275prov:de}),$n=de({\u0275inj:de}),Ft=de({ngInjectableDef:de}),sr=de({ngInjectorDef:de});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let Ar;function Wn(t){const n=Ar;return Ar=t,n}function ln(t,n,s){const c=Rn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&an.Optional?null:void 0!==n?n:void Ye(J(t),"Injector")}function In(t){return{toString:t}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),cn=(()=>{return(t=cn||(cn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",cn;var t})();const sn="undefined"!=typeof globalThis&&globalThis,Yr="undefined"!=typeof window&&window,ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fr=sn||"undefined"!=typeof global&&global||Yr||ti,Qe={},He=[],st=de({\u0275cmp:de}),Ot=de({\u0275dir:de}),dt=de({\u0275pipe:de}),on=de({\u0275mod:de}),mn=de({\u0275fac:de}),Zn=de({__NG_ELEMENT_ID__:de});let _r=0;function Ln(t){return In(()=>{const s={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||He,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,id:"c",styles:t.styles||He,_:null,setInput:null,schemas:t.schemas||null,tView:null},f=t.directives,g=t.features,w=t.pipes;return c.id+=_r++,c.inputs=kt(t.inputs,s),c.outputs=kt(t.outputs),g&&g.forEach(x=>x(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(vn):null,c.pipeDefs=w?()=>("function"==typeof w?w():w).map(Qn):null,c})}function vn(t){return Pn(t)||function(t){return t[Ot]||null}(t)}function Qn(t){return function(t){return t[dt]||null}(t)}const vt={};function it(t){return In(()=>{const n={type:t.type,bootstrap:t.bootstrap||He,declarations:t.declarations||He,imports:t.imports||He,exports:t.exports||He,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(vt[t.id]=t.type),n})}function kt(t,n){if(null==t)return Qe;const s={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=c,n&&(n[f]=g)}return s}const Xt=Ln;function Bn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pn(t){return t[st]||null}function fn(t,n){const s=t[on]||null;if(!s&&!0===n)throw new Error(`Type ${J(t)} does not have '\u0275mod' property.`);return s}const j=10;function ve(t){return Array.isArray(t)&&"object"==typeof t[1]}function Pe(t){return Array.isArray(t)&&!0===t[1]}function Ze(t){return 0!=(8&t.flags)}function We(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function Lt(t){return null!==t.template}function Kt(t){return 0!=(512&t[2])}function Ci(t,n){return t.hasOwnProperty(mn)?t[mn]:null}class Yi{constructor(n,s,c){this.previousValue=n,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Hi(){return Vs}function Vs(t){return t.type.prototype.ngOnChanges&&(t.setInput=bs),Di}function Di(){const t=Br(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===Qe)t.previous=n;else for(let c in n)s[c]=n[c];t.current=null,this.ngOnChanges(n)}}function bs(t,n,s,c){const f=Br(t)||function(t,n){return t[_s]=n}(t,{previous:Qe,current:null}),g=f.current||(f.current={}),w=f.previous,x=this.declaredInputs[s],L=w[x];g[x]=new Yi(L&&L.currentValue,n,w===Qe),t[c]=n}Hi.ngInherit=!0;const _s="__ngSimpleChanges__";function Br(t){return t[_s]||null}let Ji;function wo(t){Ji=t}function jr(t){return!!t.listen}const Wi={createRenderer:(t,n)=>void 0!==Ji?Ji:"undefined"!=typeof document?document:void 0};function G(t){for(;Array.isArray(t);)t=t[0];return t}function Ee(t,n){return G(n[t])}function Je(t,n){return G(n[t.index])}function M(t,n){return t.data[n]}function se(t,n){const s=n[t];return ve(s)?s:s[0]}function Ct(t){return 4==(4&t[2])}function nn(t){return 128==(128&t[2])}function Rr(t,n){return null==n?null:t[n]}function kr(t){t[18]=0}function b(t,n){t[5]+=n;let s=t,c=t[3];for(;null!==c&&(1===n&&1===s[5]||-1===n&&0===s[5]);)c[5]+=n,s=c,c=c[3]}const z={lFrame:za(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dn(){return z.bindingsEnabled}function Mt(){return z.lFrame.lView}function Hn(){return z.lFrame.tView}function mi(t){return z.lFrame.contextLView=t,t[8]}function Jn(){let t=cs();for(;null!==t&&64===t.type;)t=t.parent;return t}function cs(){return z.lFrame.currentTNode}function Si(t,n){const s=z.lFrame;s.currentTNode=t,s.isParent=n}function no(){return z.lFrame.isParent}function ra(){z.lFrame.isParent=!1}function Ha(){return z.isInCheckNoChangesMode}function ro(t){z.isInCheckNoChangesMode=t}function jo(){return z.lFrame.bindingIndex++}function Wa(t,n){const s=z.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ia(n)}function Ia(t){z.lFrame.currentDirectiveIndex=t}function Ho(){return z.lFrame.currentQueryIndex}function sa(t){z.lFrame.currentQueryIndex=t}function _l(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Ca(t,n,s){if(s&an.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&an.Host||(f=_l(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;n=f,t=g}const c=z.lFrame=oa();return c.currentTNode=n,c.lView=t,!0}function Da(t){const n=oa(),s=t[1];z.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function oa(){const t=z.lFrame,n=null===t?null:t.child;return null===n?za(t):n}function za(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function io(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vl=io;function Wo(){const t=io();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ni(){return z.lFrame.selectedIndex}function co(t){z.lFrame.selectedIndex=t}function wi(){const t=z.lFrame;return M(t.tView,t.selectedIndex)}function Us(t,n){for(let s=n.directiveStart,c=n.directiveEnd;s<c;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:L,ngAfterViewChecked:X,ngOnDestroy:ue}=g;w&&(t.contentHooks||(t.contentHooks=[])).push(-s,w),x&&((t.contentHooks||(t.contentHooks=[])).push(s,x),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,x)),L&&(t.viewHooks||(t.viewHooks=[])).push(-s,L),X&&((t.viewHooks||(t.viewHooks=[])).push(s,X),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,X)),null!=ue&&(t.destroyHooks||(t.destroyHooks=[])).push(s,ue)}}function so(t,n,s){pu(t,n,3,s)}function Fo(t,n,s,c){(3&t[2])===s&&pu(t,n,s,c)}function Sa(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function pu(t,n,s,c){const g=null!=c?c:-1,w=n.length-1;let x=0;for(let L=void 0!==c?65535&t[18]:0;L<w;L++)if("number"==typeof n[L+1]){if(x=n[L],null!=c&&x>=c)break}else n[L]<0&&(t[18]+=65536),(x<g||-1==g)&&(Gl(t,s,n,L),t[18]=(4294901760&t[18])+L+2),L++}function Gl(t,n,s,c){const f=s[c]<0,g=s[c+1],x=t[f?-s[c]:s[c]];if(f){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{g.call(x)}finally{}}}else try{g.call(x)}finally{}}class Io{constructor(n,s,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Jt(t,n,s){const c=jr(t);let f=0;for(;f<s.length;){const g=s[f];if("number"==typeof g){if(0!==g)break;f++;const w=s[f++],x=s[f++],L=s[f++];c?t.setAttribute(n,x,L,w):n.setAttributeNS(w,x,L)}else{const w=g,x=s[++f];or(w)?c&&t.setProperty(n,w,x):c?t.setAttribute(n,w,x):n.setAttribute(w,x),f++}}return f}function zi(t){return 3===t||4===t||6===t}function or(t){return 64===t.charCodeAt(0)}function $r(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?s=f:0===s||Qt(t,s,f,null,-1===s||2===s?n[++c]:null)}}return t}function Qt(t,n,s,c,f){let g=0,w=t.length;if(-1===n)w=-1;else for(;g<t.length;){const x=t[g++];if("number"==typeof x){if(x===n){w=-1;break}if(x>n){w=g-1;break}}}for(;g<t.length;){const x=t[g];if("number"==typeof x)break;if(x===s){if(null===c)return void(null!==f&&(t[g+1]=f));if(c===t[g+1])return void(t[g+2]=f)}g++,null!==c&&g++,null!==f&&g++}-1!==w&&(t.splice(w,0,n),g=w+1),t.splice(g++,0,s),null!==c&&t.splice(g++,0,c),null!==f&&t.splice(g++,0,f)}function zn(t){return-1!==t}function Wr(t){return 32767&t}function At(t,n){let s=function(t){return t>>16}(t),c=n;for(;s>0;)c=c[15],s--;return c}let Wt=!0;function ki(t){const n=Wt;return Wt=t,n}let mu=0;function qi(t,n){const s=Lo(t,n);if(-1!==s)return s;const c=n[1];c.firstCreatePass&&(t.injectorIndex=n.length,Ka(c.data,t),Ka(n,null),Ka(c.blueprint,null));const f=Aa(t,n),g=t.injectorIndex;if(zn(f)){const w=Wr(f),x=At(f,n),L=x[1].data;for(let X=0;X<8;X++)n[g+X]=x[w+X]|L[w+X]}return n[g+8]=f,g}function Ka(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Lo(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Aa(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,c=null,f=n;for(;null!==f;){const g=f[1],w=g.type;if(c=2===w?g.declTNode:1===w?f[6]:null,null===c)return-1;if(s++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return-1}function Gi(t,n,s){!function(t,n,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Zn)&&(c=s[Zn]),null==c&&(c=s[Zn]=mu++);const f=255&c;n.data[t+(f>>5)]|=1<<f}(t,n,s)}function Hs(t,n,s){if(s&an.Optional)return t;Ye(n,"NodeInjector")}function wr(t,n,s,c){if(s&an.Optional&&void 0===c&&(c=null),0==(s&(an.Self|an.Host))){const f=t[9],g=Wn(void 0);try{return f?f.get(n,c,s&an.Optional):ln(n,c,s&an.Optional)}finally{Wn(g)}}return Hs(c,n,s)}function zo(t,n,s,c=an.Default,f){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Zn)?t[Zn]:void 0;return"number"==typeof n?n>=0?255&n:O:n}(s);if("function"==typeof g){if(!Ca(n,t,c))return c&an.Host?Hs(f,s,c):wr(n,s,c,f);try{const w=g(c);if(null!=w||c&an.Optional)return w;Ye(s)}finally{vl()}}else if("number"==typeof g){let w=null,x=Lo(t,n),L=-1,X=c&an.Host?n[16][6]:null;for((-1===x||c&an.SkipSelf)&&(L=-1===x?Aa(t,n):n[x+8],-1!==L&&Ie(c,!1)?(w=n[1],x=Wr(L),n=At(L,n)):x=-1);-1!==x;){const ue=n[1];if(fe(g,x,ue.data)){const Oe=T(x,n,s,w,c,X);if(Oe!==ua)return Oe}L=n[x+8],-1!==L&&Ie(c,n[1].data[x+8]===X)&&fe(g,x,n)?(w=ue,x=Wr(L),n=At(L,n)):x=-1}}}return wr(n,s,c,f)}const ua={};function O(){return new nt(Jn(),Mt())}function T(t,n,s,c,f,g){const w=n[1],x=w.data[t+8],ue=I(x,w,s,null==c?We(x)&&Wt:c!=w&&0!=(3&x.type),f&an.Host&&g===x);return null!==ue?W(n,w,ue,x):ua}function I(t,n,s,c,f){const g=t.providerIndexes,w=n.data,x=1048575&g,L=t.directiveStart,ue=g>>20,lt=f?x+ue:t.directiveEnd;for(let wt=c?x:x+ue;wt<lt;wt++){const jt=w[wt];if(wt<L&&s===jt||wt>=L&&jt.type===s)return wt}if(f){const wt=w[L];if(wt&&Lt(wt)&&wt.type===s)return L}return null}function W(t,n,s,c){let f=t[s];const g=n.data;if(function(t){return t instanceof Io}(f)){const w=f;w.resolving&&function(t,n){throw new Xe("200",`Circular dependency in DI detected for ${t}`)}(Be(g[s]));const x=ki(w.canSeeViewProviders);w.resolving=!0;const L=w.injectImpl?Wn(w.injectImpl):null;Ca(t,c,an.Default);try{f=t[s]=w.factory(void 0,g,t,c),n.firstCreatePass&&s>=c.directiveStart&&function(t,n,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(c){const w=Vs(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,w)}f&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,f),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g))}(s,g[s],n)}finally{null!==L&&Wn(L),ki(x),w.resolving=!1,vl()}}return f}function fe(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Ie(t,n){return!(t&an.Self||t&an.Host&&n)}class nt{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,c){return zo(this._tNode,this._lView,n,c,s)}}function xt(t){return In(()=>{const n=t.prototype.constructor,s=n[mn]||Tn(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const g=f[mn]||Tn(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Tn(t){return ie(t)?()=>{const n=Tn(ce(t));return n&&n()}:Ci(t)}function Ir(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const g=s[f];if(zi(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(Jn(),t)}const pr="__parameters__";function Fi(t,n,s){return In(()=>{const c=function(t){return function(...s){if(t){const c=t(...s);for(const f in c)this[f]=c[f]}}}(n);function f(...g){if(this instanceof f)return c.apply(this,g),this;const w=new f(...g);return x.annotation=w,x;function x(L,X,ue){const Oe=L.hasOwnProperty(pr)?L[pr]:Object.defineProperty(L,pr,{value:[]})[pr];for(;Oe.length<=ue;)Oe.push(null);return(Oe[ue]=Oe[ue]||[]).push(w),L}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}class li{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=pt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ns=new li("AnalyzeForEntryComponents");function xi(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let c=t[s];Array.isArray(c)?(n===t&&(n=t.slice(0,s)),xi(c,n)):n!==t&&n.push(c)}return n}function fs(t,n){t.forEach(s=>Array.isArray(s)?fs(s,n):n(s))}function gr(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function qa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function zs(t,n){const s=[];for(let c=0;c<t;c++)s.push(n);return s}function ps(t,n,s){let c=Za(t,n);return c>=0?t[1|c]=s:(c=~c,function(t,n,s,c){let f=t.length;if(f==n)t.push(s,c);else if(1===f)t.push(c,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=c}}(t,c,n,s)),c}function Pa(t,n){const s=Za(t,n);if(s>=0)return t[1|s]}function Za(t,n){return function(t,n,s){let c=0,f=t.length>>s;for(;f!==c;){const g=c+(f-c>>1),w=t[g<<s];if(n===w)return g<<s;w>n?f=g:c=g+1}return~(f<<s)}(t,n,1)}const qo={},Yl="__NG_DI_FLAG__",V="ngTempTokenPath",pe=/\n/gm,mt="__source",Rt=de({provide:String,useValue:de});let Ht;function On(t){const n=Ht;return Ht=t,n}function An(t,n=an.Default){if(void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?ln(t,void 0,n):Ht.get(t,n&an.Optional?null:void 0,n)}function er(t,n=an.Default){return(Ar||An)(ce(t),n)}function Ki(t){const n=[];for(let s=0;s<t.length;s++){const c=ce(t[s]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let f,g=an.Default;for(let w=0;w<c.length;w++){const x=c[w],L=po(x);"number"==typeof L?-1===L?f=x.token:g|=L:f=x}n.push(er(f,g))}else n.push(er(c))}return n}function Ri(t,n){return t[Yl]=n,t.prototype[Yl]=n,t}function po(t){return t[Yl]}const Fs=Ri(Fi("Inject",t=>({token:t})),-1),Qs=Ri(Fi("Optional"),8),Ja=Ri(Fi("SkipSelf"),4);class Ml{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fa(t){return t instanceof Ml?t.changingThisBreaksApplicationSecurity:t}const yp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,m=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function Zu(t){const n=function(){const t=Mt();return t&&t[12]}();return n?n.sanitize(Mi.URL,t)||"":function(t,n){const s=function(t){return t instanceof Ml&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?Fa(t):function(t){return(t=String(t)).match(yp)||t.match(m)?t:"unsafe:"+t}(we(t))}const Td="__ngContext__";function yo(t,n){t[Td]=n}function Du(t){const n=function(t){return t[Td]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Ju(t){return t.ngOriginalError}function Ss(t,...n){t.error(...n)}class Zo{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),c=(t=n)&&t.ngErrorLogger||Ss;var t;c(this._console,"ERROR",n),s&&c(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Ju(n);for(;s&&Ju(s);)s=Ju(s);return s||null}}const As=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(fr))();function il(t){return t instanceof Function?t():t}var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();function wf(t,n){return undefined(t,n)}function tc(t){const n=t[3];return Pe(n)?n[3]:n}function nc(t){return ic(t[13])}function rc(t){return ic(t[4])}function ic(t){for(;null!==t&&!Pe(t);)t=t[4];return t}function nu(t,n,s,c,f){if(null!=c){let g,w=!1;Pe(c)?g=c:ve(c)&&(w=!0,c=c[0]);const x=G(c);0===t&&null!==s?null==f?Pd(n,s,x):Ru(n,s,x,f||null,!0):1===t&&null!==s?Ru(n,s,x,f||null,!0):2===t?function(t,n,s){const c=Eh(t,n);c&&function(t,n,s,c){jr(t)?t.removeChild(n,s,c):n.removeChild(s)}(t,c,n,s)}(n,x,w):3===t&&n.destroyNode(x),null!=g&&function(t,n,s,c,f){const g=s[7];g!==G(s)&&nu(n,t,c,g,f);for(let x=j;x<s.length;x++){const L=s[x];Xs(L[1],L,t,n,c,g)}}(n,t,g,s,f)}}function Mc(t,n,s){return jr(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function Oc(t,n){const s=t[9],c=s.indexOf(n),f=n[3];1024&n[2]&&(n[2]&=-1025,b(f,-1)),s.splice(c,1)}function oc(t,n){if(t.length<=j)return;const s=j+n,c=t[s];if(c){const f=c[17];null!==f&&f!==t&&Oc(f,c),n>0&&(t[s-1][4]=c[4]);const g=qa(t,j+n);!function(t,n){Xs(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(c[1],c);const w=g[19];null!==w&&w.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Tf(t,n){if(!(256&n[2])){const s=n[11];jr(s)&&s.destroyNode&&Xs(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return vh(t[1],t);for(;n;){let s=null;if(ve(n))s=n[13];else{const c=n[j];c&&(s=c)}if(!s){for(;n&&!n[4]&&n!==t;)ve(n)&&vh(n[1],n),n=n[3];null===n&&(n=t),ve(n)&&vh(n[1],n),s=n&&n[4]}n=s}}(n)}}function vh(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let c=0;c<s.length;c+=2){const f=n[s[c]];if(!(f instanceof Io)){const g=s[c+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const x=f[g[w]],L=g[w+1];try{L.call(x)}finally{}}else try{g.call(f)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,c=n[7];let f=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const w=s[g+1],x="function"==typeof w?w(n):G(n[w]),L=c[f=s[g+2]],X=s[g+3];"boolean"==typeof X?x.removeEventListener(s[g],L,X):X>=0?c[f=X]():c[f=-X].unsubscribe(),g+=2}else{const w=c[f=s[g+1]];s[g].call(w)}if(null!==c){for(let g=f+1;g<c.length;g++)c[g]();n[7]=null}}(t,n),1===n[1].type&&jr(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Pe(n[3])){s!==n[3]&&Oc(s,n);const c=n[19];null!==c&&c.detachView(t)}}}function Fl(t,n,s){return function(t,n,s){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return s[0];if(2&c.flags){const f=t.data[c.directiveStart].encapsulation;if(f===cn.None||f===cn.Emulated)return null}return Je(c,s)}(t,n.parent,s)}function Ru(t,n,s,c,f){jr(t)?t.insertBefore(n,s,c,f):n.insertBefore(s,c,f)}function Pd(t,n,s){jr(t)?t.appendChild(n,s):n.appendChild(s)}function Nc(t,n,s,c,f){null!==c?Ru(t,n,s,c,f):Pd(t,n,s)}function Eh(t,n){return jr(t)?t.parentNode(n):n.parentNode}function kd(t,n,s){return kc(t,n,s)}let kc=function(t,n,s){return 40&t.type?Je(t,s):null};function Ld(t,n,s,c){const f=Fl(t,c,n),g=n[11],x=kd(c.parent||n[6],c,n);if(null!=f)if(Array.isArray(s))for(let L=0;L<s.length;L++)Nc(g,f,s[L],x,!1);else Nc(g,f,s,x,!1)}function Bd(t,n){if(null!==n){const s=n.type;if(3&s)return Je(n,t);if(4&s)return Lc(-1,t[n.index]);if(8&s){const c=n.child;if(null!==c)return Bd(t,c);{const f=t[n.index];return Pe(f)?Lc(-1,f):G(f)}}if(32&s)return wf(n,t)()||G(t[n.index]);{const c=Fc(t,n);return null!==c?Array.isArray(c)?c[0]:Bd(tc(t[16]),c):Bd(t,n.next)}}return null}function Fc(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Lc(t,n){const s=j+t+1;if(s<n.length){const c=n[s],f=c[1].firstChild;if(null!==f)return Bd(c,f)}return n[7]}function wh(t,n,s,c,f,g,w){for(;null!=s;){const x=c[s.index],L=s.type;if(w&&0===n&&(x&&yo(G(x),c),s.flags|=4),64!=(64&s.flags))if(8&L)wh(t,n,s.child,c,f,g,!1),nu(n,t,f,x,g);else if(32&L){const X=wf(s,c);let ue;for(;ue=X();)nu(n,t,f,ue,g);nu(n,t,f,x,g)}else 16&L?Vc(t,n,c,s,f,g):nu(n,t,f,x,g);s=w?s.projectionNext:s.next}}function Xs(t,n,s,c,f,g){wh(s,c,t.firstChild,n,f,g,!1)}function Vc(t,n,s,c,f,g){const w=s[16],L=w[6].projection[c.projection];if(Array.isArray(L))for(let X=0;X<L.length;X++)nu(n,t,f,L[X],g);else wh(t,n,L,w[3],f,g,!0)}function al(t,n,s){jr(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function ll(t,n,s){jr(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Sf(t,n,s){let c=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===c||t.charCodeAt(f+g)<=32)return f}s=f+1}}const Sp="ng-template";function $c(t,n,s){let c=0;for(;c<t.length;){let f=t[c++];if(s&&"class"===f){if(f=t[c],-1!==Sf(f.toLowerCase(),n,0))return!0}else if(1===f){for(;c<t.length&&"string"==typeof(f=t[c++]);)if(f.toLowerCase()===n)return!0;return!1}}return!1}function Af(t){return 4===t.type&&t.value!==Sp}function ru(t,n,s){return n===(4!==t.type||s?t.value:Sp)}function ac(t,n,s){let c=4;const f=t.attrs||[],g=function(t){for(let n=0;n<t.length;n++)if(zi(t[n]))return n;return t.length}(f);let w=!1;for(let x=0;x<n.length;x++){const L=n[x];if("number"!=typeof L){if(!w)if(4&c){if(c=2|1&c,""!==L&&!ru(t,L,s)||""===L&&1===n.length){if(va(c))return!1;w=!0}}else{const X=8&c?L:n[++x];if(8&c&&null!==t.attrs){if(!$c(t.attrs,X,s)){if(va(c))return!1;w=!0}continue}const Oe=Ap(8&c?"class":L,f,Af(t),s);if(-1===Oe){if(va(c))return!1;w=!0;continue}if(""!==X){let lt;lt=Oe>g?"":f[Oe+1].toLowerCase();const wt=8&c?lt:null;if(wt&&-1!==Sf(wt,X,0)||2&c&&X!==lt){if(va(c))return!1;w=!0}}}}else{if(!w&&!va(c)&&!va(L))return!1;if(w&&va(L))continue;w=!1,c=L|1&c}}return va(c)||w}function va(t){return 0==(1&t)}function Ap(t,n,s,c){if(null===n)return-1;let f=0;if(c||!s){let g=!1;for(;f<n.length;){const w=n[f];if(w===t)return f;if(3===w||6===w)g=!0;else{if(1===w||2===w){let x=n[++f];for(;"string"==typeof x;)x=n[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=g?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const c=t[s];if("number"==typeof c)return-1;if(c===n)return s;s++}return-1}(n,t)}function Ch(t,n,s=!1){for(let c=0;c<n.length;c++)if(ac(t,n[c],s))return!0;return!1}function ul(t,n){e:for(let s=0;s<n.length;s++){const c=n[s];if(t.length===c.length){for(let f=0;f<t.length;f++)if(t[f]!==c[f])continue e;return!0}}return!1}function lc(t,n){return t?":not("+n.trim()+")":n}function Dh(t){let n=t[0],s=1,c=2,f="",g=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&c){const x=t[++s];f+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&c?f+="."+w:4&c&&(f+=" "+w);else""!==f&&!va(w)&&(n+=lc(g,f),f=""),c=w,g=g||!va(c);s++}return""!==f&&(n+=lc(g,f)),n}const Tr={};function iu(t){jc(Hn(),Mt(),ni()+t,Ha())}function jc(t,n,s,c){if(!c)if(3==(3&n[2])){const g=t.preOrderCheckHooks;null!==g&&so(n,g,s)}else{const g=t.preOrderHooks;null!==g&&Fo(n,g,0,s)}co(s)}function Hc(t,n){return t<<17|n<<2}function Oo(t){return t>>17&32767}function zc(t){return 2|t}function cl(t){return(131068&t)>>2}function $d(t,n){return-131069&t|n<<2}function Gc(t){return 1|t}function Nf(t,n){const s=t.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const f=s[c],g=s[c+1];if(-1!==g){const w=t.data[g];sa(f),w.contentQueries(2,n[g],g)}}}function Gd(t,n,s,c,f,g,w,x,L,X){const ue=n.blueprint.slice();return ue[0]=f,ue[2]=140|c,kr(ue),ue[3]=ue[15]=t,ue[8]=s,ue[10]=w||t&&t[10],ue[11]=x||t&&t[11],ue[12]=L||t&&t[12]||null,ue[9]=X||t&&t[9]||null,ue[6]=g,ue[16]=2==n.type?t[16]:ue,ue}function pc(t,n,s,c,f){let g=t.data[n];if(null===g)g=function(t,n,s,c,f){const g=cs(),w=no(),L=t.data[n]=function(t,n,s,c,f,g){return{type:s,index:c,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,s,n,c,f);return null===t.firstChild&&(t.firstChild=L),null!==g&&(w?null==g.child&&null!==L.parent&&(g.child=L):null===g.next&&(g.next=L)),L}(t,n,s,c,f),z.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=c,g.attrs=f;const w=function(){const t=z.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return Si(g,!0),g}function $l(t,n,s,c){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function gc(t,n,s){Da(n);try{const c=t.viewQuery;null!==c&&jf(1,c,s);const f=t.template;null!==f&&Nh(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Nf(t,n),t.staticViewQueries&&jf(2,t.viewQuery,s);const g=t.components;null!==g&&function(t,n){for(let s=0;s<n.length;s++)Ul(t,n[s])}(n,g)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[2]&=-5,Wo()}}function vo(t,n,s,c){const f=n[2];if(256==(256&f))return;Da(n);const g=Ha();try{kr(n),function(t){z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Nh(t,n,s,2,c);const w=3==(3&f);if(!g)if(w){const X=t.preOrderCheckHooks;null!==X&&so(n,X,null)}else{const X=t.preOrderHooks;null!==X&&Fo(n,X,0,null),Sa(n,0)}if(function(t){for(let n=nc(t);null!==n;n=rc(n)){if(!n[2])continue;const s=n[9];for(let c=0;c<s.length;c++){const f=s[c],g=f[3];0==(1024&f[2])&&b(g,1),f[2]|=1024}}}(n),function(t){for(let n=nc(t);null!==n;n=rc(n))for(let s=j;s<n.length;s++){const c=n[s],f=c[1];nn(c)&&vo(f,c,f.template,c[8])}}(n),null!==t.contentQueries&&Nf(t,n),!g)if(w){const X=t.contentCheckHooks;null!==X&&so(n,X)}else{const X=t.contentHooks;null!==X&&Fo(n,X,1),Sa(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const f=s[c];if(f<0)co(~f);else{const g=f,w=s[++c],x=s[++c];Wa(w,g),x(2,n[g])}}}finally{co(-1)}}(t,n);const x=t.components;null!==x&&function(t,n){for(let s=0;s<n.length;s++)au(t,n[s])}(n,x);const L=t.viewQuery;if(null!==L&&jf(2,L,c),!g)if(w){const X=t.viewCheckHooks;null!==X&&so(n,X)}else{const X=t.viewHooks;null!==X&&Fo(n,X,2),Sa(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,b(n[3],-1))}finally{Wo()}}function Wg(t,n,s,c){const f=n[10],g=!Ha(),w=Ct(n);try{g&&!w&&f.begin&&f.begin(),w&&gc(t,n,c),vo(t,n,s,c)}finally{g&&!w&&f.end&&f.end()}}function Nh(t,n,s,c,f){const g=ni(),w=2&c;try{co(-1),w&&n.length>20&&jc(t,n,20,Ha()),s(c,f)}finally{co(g)}}function kf(t,n,s){if(Ze(n)){const f=n.directiveEnd;for(let g=n.directiveStart;g<f;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,s[g],g)}}}function Ff(t,n,s){!dn()||(function(t,n,s,c){const f=s.directiveStart,g=s.directiveEnd;t.firstCreatePass||qi(s,n),yo(c,n);const w=s.initialInputs;for(let x=f;x<g;x++){const L=t.data[x],X=Lt(L);X&&qg(n,s,L);const ue=W(n,t,x,s);yo(ue,n),null!==w&&jh(0,x-f,ue,L,0,w),X&&(se(s.index,n)[8]=ue)}}(t,n,s,Je(s,n)),128==(128&s.flags)&&function(t,n,s){const c=s.directiveStart,f=s.directiveEnd,w=s.index,x=z.lFrame.currentDirectiveIndex;try{co(w);for(let L=c;L<f;L++){const X=t.data[L],ue=n[L];Ia(L),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&Up(X,ue)}}finally{co(-1),Ia(x)}}(t,n,s))}function kh(t,n,s=Je){const c=n.localNames;if(null!==c){let f=n.index+1;for(let g=0;g<c.length;g+=2){const w=c[g+1],x=-1===w?s(n,t):t[w];t[f++]=x}}}function qc(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Zc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Zc(t,n,s,c,f,g,w,x,L,X){const ue=20+c,Oe=ue+f,lt=function(t,n){const s=[];for(let c=0;c<n;c++)s.push(c<t?null:Tr);return s}(ue,Oe),wt="function"==typeof X?X():X;return lt[1]={type:t,blueprint:lt,template:s,queries:null,viewQuery:x,declTNode:n,data:lt.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:L,consts:wt,incompleteFirstPass:!1}}function Lh(t,n,s,c){const f=Gh(n);null===s?f.push(c):(f.push(s),t.firstCreatePass&&Wf(t).push(c,f.length-1))}function Bh(t,n,s){for(let c in t)if(t.hasOwnProperty(c)){const f=t[c];(s=null===s?{}:s).hasOwnProperty(c)?s[c].push(n,f):s[c]=[n,f]}return s}function Kd(t,n,s,c){let f=!1;if(dn()){const g=function(t,n,s){const c=t.directiveRegistry;let f=null;if(c)for(let g=0;g<c.length;g++){const w=c[g];Ch(s,w.selectors,!1)&&(f||(f=[]),Gi(qi(s,n),t,w.type),Lt(w)?(Js(t,s),f.unshift(w)):f.push(w))}return f}(t,n,s),w=null===c?null:{"":-1};if(null!==g){f=!0,jp(s,t.data.length,g.length);for(let ue=0;ue<g.length;ue++){const Oe=g[ue];Oe.providersResolver&&Oe.providersResolver(Oe)}let x=!1,L=!1,X=$l(t,n,g.length,null);for(let ue=0;ue<g.length;ue++){const Oe=g[ue];s.mergedAttrs=$r(s.mergedAttrs,Oe.hostAttrs),Uh(t,s,n,X,Oe),mc(X,Oe,w),null!==Oe.contentQueries&&(s.flags|=8),(null!==Oe.hostBindings||null!==Oe.hostAttrs||0!==Oe.hostVars)&&(s.flags|=128);const lt=Oe.type.prototype;!x&&(lt.ngOnChanges||lt.ngOnInit||lt.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),x=!0),!L&&(lt.ngOnChanges||lt.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),L=!0),X++}!function(t,n){const c=n.directiveEnd,f=t.data,g=n.attrs,w=[];let x=null,L=null;for(let X=n.directiveStart;X<c;X++){const ue=f[X],Oe=ue.inputs,lt=null===g||Af(n)?null:Hp(Oe,g);w.push(lt),x=Bh(Oe,X,x),L=Bh(ue.outputs,X,L)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=16),x.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=w,n.inputs=x,n.outputs=L}(t,s)}w&&function(t,n,s){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new Xe("301",`Export of name '${n[f+1]}' not found!`);c.push(n[f],g)}}}(s,c,w)}return s.mergedAttrs=$r(s.mergedAttrs,s.attrs),f}function $h(t,n,s,c,f,g){const w=g.hostBindings;if(w){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const L=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(x)!=L&&x.push(L),x.push(c,f,w)}}function Up(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Js(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function mc(t,n,s){if(s){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)s[n.exportAs[c]]=t;Lt(n)&&(s[""]=t)}}function jp(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Uh(t,n,s,c,f){t.data[c]=f;const g=f.factory||(f.factory=Ci(f.type)),w=new Io(g,Lt(f),null);t.blueprint[c]=w,s[c]=w,$h(t,n,0,c,$l(t,s,f.hostVars,Tr),f)}function qg(t,n,s){const c=Je(n,t),f=qc(s),g=t[10],w=nd(t,Gd(t,f,null,s.onPush?64:16,c,n,g,g.createRenderer(c,s),null,null));t[n.index]=w}function Ua(t,n,s,c,f,g){const w=Je(t,n);!function(t,n,s,c,f,g,w){if(null==g)jr(t)?t.removeAttribute(n,f,s):n.removeAttribute(f);else{const x=null==w?we(g):w(g,c||"",f);jr(t)?t.setAttribute(n,f,x,s):s?n.setAttributeNS(s,f,x):n.setAttribute(f,x)}}(n[11],w,g,t.value,s,c,f)}function jh(t,n,s,c,f,g){const w=g[n];if(null!==w){const x=c.setInput;for(let L=0;L<w.length;){const X=w[L++],ue=w[L++],Oe=w[L++];null!==x?c.setInput(s,Oe,X,ue):s[ue]=Oe}}}function Hp(t,n){let s=null,c=0;for(;c<n.length;){const f=n[c];if(0!==f)if(5!==f){if("number"==typeof f)break;t.hasOwnProperty(f)&&(null===s&&(s=[]),s.push(f,t[f],n[c+1])),c+=2}else c+=2;else c+=4}return s}function Hh(t,n,s,c){return new Array(t,!0,!1,n,null,0,c,s,null,null)}function au(t,n){const s=se(n,t);if(nn(s)){const c=s[1];80&s[2]?vo(c,s,c.template,s[8]):s[5]>0&&ed(s)}}function ed(t){for(let c=nc(t);null!==c;c=rc(c))for(let f=j;f<c.length;f++){const g=c[f];if(1024&g[2]){const w=g[1];vo(w,g,w.template,g[8])}else g[5]>0&&ed(g)}const s=t[1].components;if(null!==s)for(let c=0;c<s.length;c++){const f=se(s[c],t);nn(f)&&f[5]>0&&ed(f)}}function Ul(t,n){const s=se(n,t),c=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(c,s),gc(c,s,s[8])}function nd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Nu(t){for(;t;){t[2]|=64;const n=tc(t);if(Kt(t)&&!n)return t;t=n}return null}function rd(t,n,s){const c=n[10];c.begin&&c.begin();try{vo(t,n,t.template,s)}catch(f){throw zp(n,f),f}finally{c.end&&c.end()}}function Yd(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],c=Du(s),f=c[1];Wg(f,c,f.template,s)}}(t[8])}function jf(t,n,s){sa(0),n(t,s)}const Hf=(()=>Promise.resolve(null))();function Gh(t){return t[7]||(t[7]=[])}function Wf(t){return t.cleanup||(t.cleanup=[])}function zp(t,n){const s=t[9],c=s?s.get(Zo,null):null;c&&c.handleError(n)}function Gf(t,n,s,c,f){for(let g=0;g<s.length;){const w=s[g++],x=s[g++],L=n[w],X=t.data[w];null!==X.setInput?X.setInput(L,f,c,x):L[x]=f}}function jl(t,n,s){const c=Ee(n,t);!function(t,n,s){jr(t)?t.setValue(n,s):n.textContent=s}(t[11],c,s)}function qd(t,n,s){let c=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let w=0;w<n.length;w++){const x=n[w];"number"==typeof x?g=x:1==g?f=me(f,x):2==g&&(c=me(c,x+": "+n[++w]+";"))}s?t.styles=c:t.stylesWithoutHost=c,s?t.classes=f:t.classesWithoutHost=f}const Kh=new li("INJECTOR",-1);class Xg{get(n,s=qo){if(s===qo){const c=new Error(`NullInjectorError: No provider for ${J(n)}!`);throw c.name="NullInjectorError",c}return s}}const Yh=new li("Set Injector scope."),id={},Kp={};let hl;function Yf(){return void 0===hl&&(hl=new Xg),hl}function Jg(t,n=null,s=null,c){const f=qf(t,n,s,c);return f._resolveInjectorDefTypes(),f}function qf(t,n=null,s=null,c){return new Zf(t,s,n||Yf(),c)}class Zf{constructor(n,s,c,f=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];s&&fs(s,x=>this.processProvider(x,n,s)),fs([n],x=>this.processInjectorType(x,[],g)),this.records.set(Kh,Qd(void 0,this));const w=this.records.get(Yh);this.scope=null!=w?w.value:null,this.source=f||("object"==typeof n?null:J(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=qo,c=an.Default){this.assertNotDestroyed();const f=On(this),g=Wn(void 0);try{if(!(c&an.SkipSelf)){let x=this.records.get(n);if(void 0===x){const L=("function"==typeof(t=n)||"object"==typeof t&&t instanceof li)&&Rn(n);x=L&&this.injectableDefInScope(L)?Qd(Zd(n),id):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(c&an.Self?Yf():this.parent).get(n,s=c&an.Optional&&s===qo?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[V]=w[V]||[]).unshift(J(n)),f)throw w;return function(t,n,s,c){const f=t[V];throw n[mt]&&f.unshift(n[mt]),t.message=function(t,n,s,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let f=J(n);if(Array.isArray(n))f=n.map(J).join(" -> ");else if("object"==typeof n){let g=[];for(let w in n)if(n.hasOwnProperty(w)){let x=n[w];g.push(w+":"+("string"==typeof x?JSON.stringify(x):J(x)))}f=`{${g.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${t.replace(pe,"\n  ")}`}("\n"+t.message,f,s,c),t.ngTokenPath=f,t[V]=null,t}(w,n,"R3InjectorError",this.source)}throw w}finally{Wn(g),On(f)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((c,f)=>n.push(J(f))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,c){if(!(n=ce(n)))return!1;let f=hr(n);const g=null==f&&n.ngModule||void 0,w=void 0===g?n:g,x=-1!==c.indexOf(w);if(void 0!==g&&(f=hr(g)),null==f)return!1;if(null!=f.imports&&!x){let ue;c.push(w);try{fs(f.imports,Oe=>{this.processInjectorType(Oe,s,c)&&(void 0===ue&&(ue=[]),ue.push(Oe))})}finally{}if(void 0!==ue)for(let Oe=0;Oe<ue.length;Oe++){const{ngModule:lt,providers:wt}=ue[Oe];fs(wt,jt=>this.processProvider(jt,lt,wt||He))}}this.injectorDefTypes.add(w);const L=Ci(w)||(()=>new w);this.records.set(w,Qd(L,id));const X=f.providers;if(null!=X&&!x){const ue=n;fs(X,Oe=>this.processProvider(Oe,ue,X))}return void 0!==g&&void 0!==n.providers}processProvider(n,s,c){let f=Xd(n=ce(n))?n:ce(n&&n.provide);const g=(t=n,Qf(t)?Qd(void 0,t.useValue):Qd(_c(t),id));var t;if(Xd(n)||!0!==n.multi)this.records.get(f);else{let w=this.records.get(f);w||(w=Qd(void 0,id,!0),w.factory=()=>Ki(w.multi),this.records.set(f,w)),f=n,w.multi.push(n)}this.records.set(f,g)}hydrate(n,s){return s.value===id&&(s.value=Kp,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=ce(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Zd(t){const n=Rn(t),s=null!==n?n.factory:Ci(t);if(null!==s)return s;if(t instanceof li)throw new Error(`Token ${J(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const c=zs(n,"?");throw new Error(`Can't resolve all parameters for ${J(t)}: (${c.join(", ")}).`)}const s=function(t){const n=t&&(t[Cn]||t[Ft]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function _c(t,n,s){let c;if(Xd(t)){const f=ce(t);return Ci(f)||Zd(f)}if(Qf(t))c=()=>ce(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Ki(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))c=()=>er(ce(t.useExisting));else{const f=ce(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ci(f)||Zd(f);c=()=>new f(...Ki(t.deps))}return c}function Qd(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Qf(t){return null!==t&&"object"==typeof t&&Rt in t}function Xd(t){return"function"==typeof t}let ea=(()=>{class t{static create(s,c){var f;if(Array.isArray(s))return Jg({name:""},c,s,"");{const g=null!=(f=s.name)?f:"";return Jg({name:g},s.parent,s.providers,g)}}}return t.THROW_IF_NOT_FOUND=qo,t.NULL=new Xg,t.\u0275prov=pt({token:t,providedIn:"any",factory:()=>er(Kh)}),t.__NG_ELEMENT_ID__=-1,t})();function am(t,n){Us(Du(t)[1],Jn())}function Qh(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const c=[t];for(;n;){let f;if(Lt(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");f=n.\u0275dir}if(f){if(s){c.push(f);const w=t;w.inputs=eh(t.inputs),w.declaredInputs=eh(t.declaredInputs),w.outputs=eh(t.outputs);const x=f.hostBindings;x&&Ym(t,x);const L=f.viewQuery,X=f.contentQueries;if(L&&Gm(t,L),X&&Km(t,X),he(t.inputs,f.inputs),he(t.declaredInputs,f.declaredInputs),he(t.outputs,f.outputs),Lt(f)&&f.data.animation){const ue=t.data;ue.animation=(ue.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let w=0;w<g.length;w++){const x=g[w];x&&x.ngInherit&&x(t),x===Qh&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=$r(f.hostAttrs,s=$r(s,f.hostAttrs))}}(c)}function eh(t){return t===Qe?{}:t===He?[]:t}function Gm(t,n){const s=t.viewQuery;t.viewQuery=s?(c,f)=>{n(c,f),s(c,f)}:n}function Km(t,n){const s=t.contentQueries;t.contentQueries=s?(c,f,g)=>{n(c,f,g),s(c,f,g)}:n}function Ym(t,n){const s=t.hostBindings;t.hostBindings=s?(c,f)=>{n(c,f),s(c,f)}:n}let Xh=null;function vc(){if(!Xh){const t=fr.Symbol;if(t&&t.iterator)Xh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const c=n[s];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Xh=c)}}}return Xh}function ad(t){return!!rp(t)&&(Array.isArray(t)||!(t instanceof Map)&&vc()in t)}function rp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Eo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function og(t,n,s,c){const f=Mt();return Eo(f,jo(),n)&&(Hn(),Ua(wi(),f,t,n,s,c)),og}function os(t,n,s,c,f,g,w,x){const L=Mt(),X=Hn(),ue=t+20,Oe=X.firstCreatePass?function(t,n,s,c,f,g,w,x,L){const X=n.consts,ue=pc(n,t,4,w||null,Rr(X,x));Kd(n,s,ue,Rr(X,L)),Us(n,ue);const Oe=ue.tViews=Zc(2,ue,c,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,X);return null!==n.queries&&(n.queries.template(n,ue),Oe.queries=n.queries.embeddedTView(ue)),ue}(ue,X,L,n,s,c,f,g,w):X.data[ue];Si(Oe,!1);const lt=L[11].createComment("");Ld(X,L,lt,Oe),yo(lt,L),nd(L,L[ue]=Hh(lt,L,lt,Oe)),ht(Oe)&&Ff(X,L,Oe),null!=w&&kh(L,Oe,x)}function ml(t){return function(t,n){return t[n]}(z.lFrame.contextLView,20+t)}function ef(t,n=an.Default){const s=Mt();return null===s?er(t,n):zo(Jn(),s,ce(t),n)}function Em(){throw new Error("invalid")}function tf(t,n,s){const c=Mt();return Eo(c,jo(),n)&&function(t,n,s,c,f,g,w,x){const L=Je(n,s);let ue,X=n.inputs;!x&&null!=X&&(ue=X[c])?(Gf(t,s,ue,c,f),We(n)&&function(t,n){const s=se(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(c=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=w?w(f,n.value||"",c):f,jr(g)?g.setProperty(L,c,f):or(c)||(L.setProperty?L.setProperty(c,f):L[c]=f))}(Hn(),wi(),c,t,n,c[11],s,!1),tf}function nf(t,n,s,c,f){const w=f?"class":"style";Gf(t,s,n.inputs[w],w,c)}function Bu(t,n,s,c){const f=Mt(),g=Hn(),w=20+t,x=f[11],L=f[w]=Mc(x,n,z.lFrame.currentNamespace),X=g.firstCreatePass?function(t,n,s,c,f,g,w){const x=n.consts,X=pc(n,t,2,f,Rr(x,g));return Kd(n,s,X,Rr(x,w)),null!==X.attrs&&qd(X,X.attrs,!1),null!==X.mergedAttrs&&qd(X,X.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,X),X}(w,g,f,0,n,s,c):g.data[w];Si(X,!0);const ue=X.mergedAttrs;null!==ue&&Jt(x,L,ue);const Oe=X.classes;null!==Oe&&ll(x,L,Oe);const lt=X.styles;null!==lt&&al(x,L,lt),64!=(64&X.flags)&&Ld(g,f,L,X),0===z.lFrame.elementDepthCount&&yo(L,f),z.lFrame.elementDepthCount++,ht(X)&&(Ff(g,f,X),kf(g,X,f)),null!==c&&kh(f,X)}function hp(){let t=Jn();no()?ra():(t=t.parent,Si(t,!1));const n=t;z.lFrame.elementDepthCount--;const s=Hn();s.firstCreatePass&&(Us(s,t),Ze(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&nf(s,n,Mt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&nf(s,n,Mt(),n.stylesWithoutHost,!1)}function vg(t,n,s,c){Bu(t,n,s,c),hp()}function sf(t,n,s){(function(t,n,s){const c=Mt(),f=Hn(),g=t+20,w=f.firstCreatePass?function(t,n,s,c,f){const g=n.consts,w=Rr(g,c),x=pc(n,t,8,"ng-container",w);return null!==w&&qd(x,w,!0),Kd(n,s,x,Rr(g,f)),null!==n.queries&&n.queries.elementStart(n,x),x}(g,f,c,n,s):f.data[g];Si(w,!0);const x=c[g]=c[11].createComment("");Ld(f,c,x,w),yo(x,c),ht(w)&&(Ff(f,c,w),kf(f,w,c)),null!=s&&kh(c,w)})(t,n,s),function(){let t=Jn();const n=Hn();no()?ra():(t=t.parent,Si(t,!1)),n.firstCreatePass&&(Us(n,t),Ze(t)&&n.queries.elementEnd(t))}()}function bg(){return Mt()}function hd(t){return!!t&&"function"==typeof t.then}function Cm(t){return!!t&&"function"==typeof t.subscribe}const of=Cm;function Vu(t,n,s,c){const f=Mt(),g=Hn(),w=Jn();return function(t,n,s,c,f,g,w,x){const L=ht(c),ue=t.firstCreatePass&&Wf(t),Oe=n[8],lt=Gh(n);let wt=!0;if(3&c.type||x){const xn=Je(c,n),Xn=x?x(xn):xn,Zt=lt.length,Cr=x?pi=>x(G(pi[c.index])):c.index;if(jr(s)){let pi=null;if(!x&&L&&(pi=function(t,n,s,c){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const w=f[g];if(w===s&&f[g+1]===c){const x=n[7],L=f[g+2];return x.length>L?x[L]:null}"string"==typeof w&&(g+=2)}return null}(t,n,f,c.index)),null!==pi)(pi.__ngLastListenerFn__||pi).__ngNextListenerFn__=g,pi.__ngLastListenerFn__=g,wt=!1;else{g=wg(c,n,Oe,g,!1);const Xi=s.listen(Xn,f,g);lt.push(g,Xi),ue&&ue.push(f,Cr,Zt,Zt+1)}}else g=wg(c,n,Oe,g,!0),Xn.addEventListener(f,g,w),lt.push(g),ue&&ue.push(f,Cr,Zt,w)}else g=wg(c,n,Oe,g,!1);const jt=c.outputs;let pn;if(wt&&null!==jt&&(pn=jt[f])){const xn=pn.length;if(xn)for(let Xn=0;Xn<xn;Xn+=2){const hu=n[pn[Xn]][pn[Xn+1]].subscribe(g),mp=lt.length;lt.push(g,hu),ue&&ue.push(f,c.index,mp,-(mp+1))}}}(g,f,f[11],w,t,n,!!s,c),Vu}function Dm(t,n,s,c){try{return!1!==s(c)}catch(f){return zp(t,f),!1}}function wg(t,n,s,c,f){return function g(w){if(w===Function)return c;const x=2&t.flags?se(t.index,n):n;0==(32&n[2])&&Nu(x);let L=Dm(n,0,c,w),X=g.__ngNextListenerFn__;for(;X;)L=Dm(n,0,X,w)&&L,X=X.__ngNextListenerFn__;return f&&!1===L&&(w.preventDefault(),w.returnValue=!1),L}}function fp(t=1){return function(t){return(z.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,z.lFrame.contextLView))[8]}(t)}function d(t,n){let s=null;const c=function(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let f=0;f<n.length;f++){const g=n[f];if("*"!==g){if(null===c?Ch(t,g,!0):ul(c,g))return f}else s=f}return s}function l(t){const n=Mt()[16][6];if(!n.projection){const c=n.projection=zs(t?t.length:1,null),f=c.slice();let g=n.child;for(;null!==g;){const w=t?d(g,t):0;null!==w&&(f[w]?f[w].projectionNext=g:c[w]=g,f[w]=g),g=g.next}}}function a(t,n=0,s){const c=Mt(),f=Hn(),g=pc(f,20+t,16,null,s||null);null===g.projection&&(g.projection=n),ra(),64!=(64&g.flags)&&function(t,n,s){Vc(n[11],0,n,s,Fl(t,s,n),kd(s.parent||n[6],s,n))}(f,c,g)}function Ks(t,n,s,c,f){const g=t[s+1],w=null===n;let x=c?Oo(g):cl(g),L=!1;for(;0!==x&&(!1===L||w);){const ue=t[x+1];$u(t[x],n)&&(L=!0,t[x+1]=c?Gc(ue):zc(ue)),x=c?Oo(ue):cl(ue)}L&&(t[s+1]=c?zc(g):Gc(g))}function $u(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Za(t,n)>=0}function Sm(t,n){return function(t,n,s,c){const f=Mt(),g=Hn(),w=function(t){const n=z.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);g.firstUpdatePass&&function(t,n,s,c){const f=t.data;if(null===f[s+1]){const g=f[ni()],w=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(g,c)&&null===n&&!w&&(n=!1),n=function(t,n,s,c){const f=function(t){const n=z.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(s=df(s=ay(null,t,n,s,c),n.attrs,c),g=null);else{const w=n.directiveStylingLast;if(-1===w||t[w]!==f)if(s=ay(f,t,n,s,c),null===g){let L=function(t,n,s){const c=s?n.classBindings:n.styleBindings;if(0!==cl(c))return t[Oo(c)]}(t,n,c);void 0!==L&&Array.isArray(L)&&(L=ay(null,t,n,L[1],c),L=df(L,n.attrs,c),function(t,n,s,c){t[Oo(s?n.classBindings:n.styleBindings)]=c}(t,n,c,L))}else g=function(t,n,s){let c;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)c=df(c,t[g].hostAttrs,s);return df(c,n.attrs,s)}(t,n,c)}return void 0!==g&&(c?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,c),function(t,n,s,c,f,g){let w=g?n.classBindings:n.styleBindings,x=Oo(w),L=cl(w);t[c]=s;let ue,X=!1;if(Array.isArray(s)){const Oe=s;ue=Oe[1],(null===ue||Za(Oe,ue)>0)&&(X=!0)}else ue=s;if(f)if(0!==L){const lt=Oo(t[x+1]);t[c+1]=Hc(lt,x),0!==lt&&(t[lt+1]=$d(t[lt+1],c)),t[x+1]=function(t,n){return 131071&t|n<<17}(t[x+1],c)}else t[c+1]=Hc(x,0),0!==x&&(t[x+1]=$d(t[x+1],c)),x=c;else t[c+1]=Hc(L,0),0===x?x=c:t[L+1]=$d(t[L+1],c),L=c;X&&(t[c+1]=zc(t[c+1])),Ks(t,ue,c,!0),Ks(t,ue,c,!1),function(t,n,s,c,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&Za(g,n)>=0&&(s[c+1]=Gc(s[c+1]))}(n,ue,t,c,g),w=Hc(x,L),g?n.classBindings=w:n.styleBindings=w}(f,g,n,s,w,c)}}(g,t,w,c),n!==Tr&&Eo(f,w,n)&&function(t,n,s,c,f,g,w,x){if(!(3&n.type))return;const L=t.data,X=L[x+1];y(function(t){return 1==(1&t)}(X)?h(L,n,s,f,cl(X),w):void 0)||(y(g)||function(t){return 2==(2&t)}(X)&&(g=h(L,null,s,f,x,w)),function(t,n,s,c,f){const g=jr(t);if(n)f?g?t.addClass(s,c):s.classList.add(c):g?t.removeClass(s,c):s.classList.remove(c);else{let w=-1===c.indexOf("-")?void 0:Mo.DashCase;if(null==f)g?t.removeStyle(s,c,w):s.style.removeProperty(c);else{const x="string"==typeof f&&f.endsWith("!important");x&&(f=f.slice(0,-10),w|=Mo.Important),g?t.setStyle(s,c,f,w):s.style.setProperty(c,f,x?"important":"")}}}(c,w,Ee(ni(),s),f,g))}(g,g.data[ni()],f,f[11],t,f[w+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=J(Fa(t)))),t}(n,s),c,w)}(t,n,null,!0),Sm}function ay(t,n,s,c,f){let g=null;const w=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<w&&(g=n[x],c=df(c,g.hostAttrs,f),g!==t);)x++;return null!==t&&(s.directiveStylingLast=x),c}function df(t,n,s){const c=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const w=n[g];"number"==typeof w?f=w:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ps(t,w,!!s||n[++g]))}return void 0===t?null:t}function h(t,n,s,c,f,g){const w=null===n;let x;for(;f>0;){const L=t[f],X=Array.isArray(L),ue=X?L[1]:L,Oe=null===ue;let lt=s[f+1];lt===Tr&&(lt=Oe?He:void 0);let wt=Oe?Pa(lt,c):ue===c?lt:void 0;if(X&&!y(wt)&&(wt=Pa(L,c)),y(wt)&&(x=wt,w))return x;const jt=t[f+1];f=w?Oo(jt):cl(jt)}if(null!==n){let L=g?n.residualClasses:n.residualStyles;null!=L&&(x=Pa(L,c))}return x}function y(t){return void 0!==t}function ee(t,n=""){const s=Mt(),c=Hn(),f=t+20,g=c.firstCreatePass?pc(c,f,1,n,null):c.data[f],w=s[f]=function(t,n){return jr(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Ld(c,s,w,g),Si(g,!1)}function _e(t){return Ge("",t,""),_e}function Ge(t,n,s){const c=Mt(),f=function(t,n,s,c){return Eo(t,jo(),s)?n+we(s)+c:Tr}(c,t,n,s);return f!==Tr&&jl(c,ni(),f),Ge}const pp=void 0;var sE=["en",[["a","p"],["AM","PM"],pp],[["AM","PM"],pp,pp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pp,"{1} 'at' {0}",pp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const s=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Dg={};function zy(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=q_(n);if(s)return s;const c=n.split("-")[0];if(s=q_(c),s)return s;if("en"===c)return sE;throw new Error(`Missing locale data for the locale "${t}".`)}function Y_(t){return zy(t)[Pr.PluralCase]}function q_(t){return t in Dg||(Dg[t]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[t]),Dg[t]}var Pr=(()=>((Pr=Pr||{})[Pr.LocaleId=0]="LocaleId",Pr[Pr.DayPeriodsFormat=1]="DayPeriodsFormat",Pr[Pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pr[Pr.DaysFormat=3]="DaysFormat",Pr[Pr.DaysStandalone=4]="DaysStandalone",Pr[Pr.MonthsFormat=5]="MonthsFormat",Pr[Pr.MonthsStandalone=6]="MonthsStandalone",Pr[Pr.Eras=7]="Eras",Pr[Pr.FirstDayOfWeek=8]="FirstDayOfWeek",Pr[Pr.WeekendRange=9]="WeekendRange",Pr[Pr.DateFormat=10]="DateFormat",Pr[Pr.TimeFormat=11]="TimeFormat",Pr[Pr.DateTimeFormat=12]="DateTimeFormat",Pr[Pr.NumberSymbols=13]="NumberSymbols",Pr[Pr.NumberFormats=14]="NumberFormats",Pr[Pr.CurrencyCode=15]="CurrencyCode",Pr[Pr.CurrencySymbol=16]="CurrencySymbol",Pr[Pr.CurrencyName=17]="CurrencyName",Pr[Pr.Currencies=18]="Currencies",Pr[Pr.Directionality=19]="Directionality",Pr[Pr.PluralCase=20]="PluralCase",Pr[Pr.ExtraData=21]="ExtraData",Pr))();const uy="en-US";let Z_=uy;function Yy(t,n,s,c,f){if(t=ce(t),Array.isArray(t))for(let g=0;g<t.length;g++)Yy(t[g],n,s,c,f);else{const g=Hn(),w=Mt();let x=Xd(t)?t:ce(t.provide),L=_c(t);const X=Jn(),ue=1048575&X.providerIndexes,Oe=X.directiveStart,lt=X.providerIndexes>>20;if(Xd(t)||!t.multi){const wt=new Io(L,f,ef),jt=Zy(x,n,f?ue:ue+lt,Oe);-1===jt?(Gi(qi(X,w),g,x),qy(g,t,n.length),n.push(x),X.directiveStart++,X.directiveEnd++,f&&(X.providerIndexes+=1048576),s.push(wt),w.push(wt)):(s[jt]=wt,w[jt]=wt)}else{const wt=Zy(x,n,ue+lt,Oe),jt=Zy(x,n,ue,ue+lt),pn=wt>=0&&s[wt],xn=jt>=0&&s[jt];if(f&&!xn||!f&&!pn){Gi(qi(X,w),g,x);const Xn=function(t,n,s,c,f){const g=new Io(t,s,ef);return g.multi=[],g.index=n,g.componentProviders=0,Ev(g,f,c&&!s),g}(f?rb:nb,s.length,f,c,L);!f&&xn&&(s[jt].providerFactory=Xn),qy(g,t,n.length,0),n.push(x),X.directiveStart++,X.directiveEnd++,f&&(X.providerIndexes+=1048576),s.push(Xn),w.push(Xn)}else qy(g,t,wt>-1?wt:jt,Ev(s[f?jt:wt],L,!f&&c));!f&&c&&xn&&s[jt].componentProviders++}}}function qy(t,n,s,c){const f=Xd(n),g=function(t){return!!t.useClass}(n);if(f||g){const L=(g?ce(n.useClass):n).prototype.ngOnDestroy;if(L){const X=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const ue=X.indexOf(s);-1===ue?X.push(s,[c,L]):X[ue+1].push(c,L)}else X.push(s,L)}}}function Ev(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Zy(t,n,s,c){for(let f=s;f<c;f++)if(n[f]===t)return f;return-1}function nb(t,n,s,c){return Qy(this.multi,[])}function rb(t,n,s,c){const f=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=W(s,s[1],this.providerFactory.index,c);g=x.slice(0,w),Qy(f,g);for(let L=w;L<x.length;L++)g.push(x[L])}else g=[],Qy(f,g);return g}function Qy(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function bv(t,n=[]){return s=>{s.providersResolver=(c,f)=>function(t,n,s){const c=Hn();if(c.firstCreatePass){const f=Lt(t);Yy(s,c.data,c.blueprint,f,!0),Yy(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class wv{}class ab{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${J(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Om=(()=>{class t{}return t.NULL=new ab,t})();function lb(){return Sg(Jn(),Mt())}function Sg(t,n){return new Pm(Je(t,n))}let Pm=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=lb,t})();function ub(t){return t instanceof Pm?t.nativeElement:t}class Cv{}let cb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=Mt(),s=se(Jn().index,t);return function(t){return t[11]}(ve(s)?s:t)}(),t})(),fb=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null}),t})();class Dv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Tv=new Dv("13.0.3"),Xy={};function py(t,n,s,c,f=!1){for(;null!==s;){const g=n[s.index];if(null!==g&&c.push(G(g)),Pe(g))for(let x=j;x<g.length;x++){const L=g[x],X=L[1].firstChild;null!==X&&py(L[1],L,X,c)}const w=s.type;if(8&w)py(t,n,s.child,c);else if(32&w){const x=wf(s,n);let L;for(;L=x();)c.push(L)}else if(16&w){const x=Fc(n,s);if(Array.isArray(x))c.push(...x);else{const L=tc(n[16]);py(L[1],L,x,c,!0)}}s=f?s.projectionNext:s.next}return c}class Nm{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return py(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Pe(n)){const s=n[8],c=s?s.indexOf(this):-1;c>-1&&(oc(n,c),qa(s,c))}this._attachedToViewContainer=!1}Tf(this._lView[1],this._lView)}onDestroy(n){Lh(this._lView[1],this._lView,null,n)}markForCheck(){Nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){ro(!0);try{rd(t,n,s)}finally{ro(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Xs(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class pb extends Nm{constructor(n){super(n),this._view=n}detectChanges(){Yd(this._view)}checkNoChanges(){!function(t){ro(!0);try{Yd(t)}finally{ro(!1)}}(this._view)}get context(){return null}}class Sv extends Om{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Pn(n);return new Jy(s,this.ngModule)}}function Av(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const mb=new li("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>As});class Jy extends wv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(Dh).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Av(this.componentDef.inputs)}get outputs(){return Av(this.componentDef.outputs)}create(n,s,c,f){const g=(f=f||this.ngModule)?function(t,n){return{get:(s,c,f)=>{const g=t.get(s,Xy,f);return g!==Xy||c===Xy?g:n.get(s,c,f)}}}(n,f.injector):n,w=g.get(Cv,Wi),x=g.get(fb,null),L=w.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ue=c?function(t,n,s){if(jr(t))return t.selectRootElement(n,s===cn.ShadowDom);let c="string"==typeof n?t.querySelector(n):n;return c.textContent="",c}(L,c,this.componentDef.encapsulation):Mc(w.createRenderer(null,this.componentDef),X,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(X)),Oe=this.componentDef.onPush?576:528,lt=function(t,n){return{components:[],scheduler:t||As,clean:Hf,playerHandler:n||null,flags:0}}(),wt=Zc(0,null,null,1,0,null,null,null,null,null),jt=Gd(null,wt,lt,Oe,null,null,w,L,x,g);let pn,xn;Da(jt);try{const Xn=function(t,n,s,c,f,g){const w=s[1];s[20]=t;const L=pc(w,20,2,"#host",null),X=L.mergedAttrs=n.hostAttrs;null!==X&&(qd(L,X,!0),null!==t&&(Jt(f,t,X),null!==L.classes&&ll(f,t,L.classes),null!==L.styles&&al(f,t,L.styles)));const ue=c.createRenderer(t,n),Oe=Gd(s,qc(n),null,n.onPush?64:16,s[20],L,c,ue,g||null,null);return w.firstCreatePass&&(Gi(qi(L,s),w,n.type),Js(w,L),jp(L,s.length,1)),nd(s,Oe),s[20]=Oe}(ue,this.componentDef,jt,w,L);if(ue)if(c)Jt(L,ue,["ng-version",Tv.full]);else{const{attrs:Zt,classes:Cr}=function(t){const n=[],s=[];let c=1,f=2;for(;c<t.length;){let g=t[c];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++c]):8===f&&s.push(g);else{if(!va(f))break;f=g}c++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);Zt&&Jt(L,ue,Zt),Cr&&Cr.length>0&&ll(L,ue,Cr.join(" "))}if(xn=M(wt,20),void 0!==s){const Zt=xn.projection=[];for(let Cr=0;Cr<this.ngContentSelectors.length;Cr++){const pi=s[Cr];Zt.push(null!=pi?Array.from(pi):null)}}pn=function(t,n,s,c,f){const g=s[1],w=function(t,n,s){const c=Jn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Uh(t,c,n,$l(t,n,1,null),s));const f=W(n,t,c.directiveStart,c);yo(f,n);const g=Je(c,n);return g&&yo(g,n),f}(g,s,n);if(c.components.push(w),t[8]=w,f&&f.forEach(L=>L(w,n)),n.contentQueries){const L=Jn();n.contentQueries(1,w,L.directiveStart)}const x=Jn();return!g.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(co(x.index),$h(s[1],x,0,x.directiveStart,x.directiveEnd,n),Up(n,w)),w}(Xn,this.componentDef,jt,lt,[am]),gc(wt,jt,null)}finally{Wo()}return new vb(this.componentType,pn,Sg(xn,jt),jt,xn)}}class vb extends class{}{constructor(n,s,c,f,g){super(),this.location=c,this._rootLView=f,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new pb(f),this.componentType=n}get injector(){return new nt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Ag{}class xv{}const xg=new Map;class Ov extends Ag{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const c=fn(n);this._bootstrapComponents=il(c.bootstrap),this._r3Injector=qf(n,s,[{provide:Ag,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],J(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=ea.THROW_IF_NOT_FOUND,c=an.Default){return n===ea||n===Ag||n===Kh?this:this._r3Injector.get(n,s,c)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class e_ extends xv{constructor(n){super(),this.moduleType=n,null!==fn(n)&&function(t){const n=new Set;!function s(c){const f=fn(c,!0),g=f.id;null!==g&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${J(n)} vs ${J(n.name)}`)}(g,xg.get(g),c),xg.set(g,c));const w=il(f.imports);for(const x of w)n.has(x)||(n.add(x),s(x))}(t)}(n)}create(n){return new Ov(this.moduleType,n)}}function t_(t){return n=>{setTimeout(t,void 0,n)}}const gd=class extends u.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,c){var L,X,ue;let f=n,g=s||(()=>null),w=c;if(n&&"object"==typeof n){const Oe=n;f=null==(L=Oe.next)?void 0:L.bind(Oe),g=null==(X=Oe.error)?void 0:X.bind(Oe),w=null==(ue=Oe.complete)?void 0:ue.bind(Oe)}this.__isAsync&&(g=t_(g),f&&(f=t_(f)),w&&(w=t_(w)));const x=super.subscribe({next:f,error:g,complete:w});return n instanceof $.w&&n.add(x),x}};function $b(){return this._results[vc()]()}class n_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=vc(),c=n_.prototype;c[s]||(c[s]=$b)}get changes(){return this._changes||(this._changes=new gd)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const c=this;c.dirty=!1;const f=xi(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],g=n[c];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Hb,t})();const Ub=Lm,jb=class extends Ub{constructor(n,s,c){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(n){const s=this._declarationTContainer.tViews,c=Gd(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(s)),gc(s,c,n),new Nm(c)}};function Hb(){return gy(Jn(),Mt())}function gy(t,n){return 4&t.type?new jb(n,t,Sg(t,n)):null}let my=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wb,t})();function Wb(){return $v(Jn(),Mt())}const zb=my,Bv=class extends zb{constructor(n,s,c){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=c}get element(){return Sg(this._hostTNode,this._hostLView)}get injector(){return new nt(this._hostTNode,this._hostLView)}get parentInjector(){const n=Aa(this._hostTNode,this._hostLView);if(zn(n)){const s=At(n,this._hostLView),c=Wr(n);return new nt(s[1].data[c+8],s)}return new nt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Vv(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-j}createEmbeddedView(n,s,c){const f=n.createEmbeddedView(s||{});return this.insert(f,c),f}createComponent(n,s,c,f,g){const w=n&&!("function"==typeof n);let x;if(w)x=s;else{const Oe=s||{};x=Oe.index,c=Oe.injector,f=Oe.projectableNodes,g=Oe.ngModuleRef}const L=w?n:new Jy(Pn(n)),X=c||this.parentInjector;if(!g&&null==L.ngModule&&X){const Oe=X.get(Ag,null);Oe&&(g=Oe)}const ue=L.create(X,f,void 0,g);return this.insert(ue.hostView,x),ue}insert(n,s){const c=n._lView,f=c[1];if(Pe(c[3])){const ue=this.indexOf(n);if(-1!==ue)this.detach(ue);else{const Oe=c[3],lt=new Bv(Oe,Oe[6],Oe[3]);lt.detach(lt.indexOf(n))}}const g=this._adjustIndex(s),w=this._lContainer;!function(t,n,s,c){const f=j+c,g=s.length;c>0&&(s[f-1][4]=n),c<g-j?(n[4]=s[f],gr(s,j+c,n)):(s.push(n),n[4]=null),n[3]=s;const w=n[17];null!==w&&s!==w&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(w,n);const x=n[19];null!==x&&x.insertView(t),n[2]|=128}(f,c,w,g);const x=Lc(g,w),L=c[11],X=Eh(L,w[7]);return null!==X&&function(t,n,s,c,f,g){c[0]=f,c[6]=n,Xs(t,c,s,1,f,g)}(f,w[6],L,c,X,x),n.attachToViewContainerRef(),gr(r_(w),g,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Vv(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),c=oc(this._lContainer,s);c&&(qa(r_(this._lContainer),s),Tf(c[1],c))}detach(n){const s=this._adjustIndex(n,-1),c=oc(this._lContainer,s);return c&&null!=qa(r_(this._lContainer),s)?new Nm(c):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function Vv(t){return t[8]}function r_(t){return t[8]||(t[8]=[])}function $v(t,n){let s;const c=n[t.index];if(Pe(c))s=c;else{let f;if(8&t.type)f=G(c);else{const g=n[11];f=g.createComment("");const w=Je(t,n);Ru(g,Eh(g,w),f,function(t,n){return jr(t)?t.nextSibling(n):n.nextSibling}(g,w),!1)}n[t.index]=s=Hh(c,n,f,t),nd(n,s)}return new Bv(s,t,n)}class i_{constructor(n){this.queryList=n,this.matches=null}clone(){return new i_(this.queryList)}setDirty(){this.queryList.setDirty()}}class s_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const c=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<c;g++){const w=s.getByIndex(g);f.push(this.queries[w.indexInDeclarationView].clone())}return new s_(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==qv(n,s).matches&&this.queries[s].setDirty()}}class Uv{constructor(n,s,c=null){this.predicate=n,this.flags=s,this.read=c}}class o_{constructor(n=[]){this.queries=n}elementStart(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,g=this.getByIndex(c).embeddedTView(n,f);g&&(g.indexInDeclarationView=c,null!==s?s.push(g):s=[g])}return null!==s?new o_(s):null}template(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class a_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new a_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const g=c[f];this.matchTNodeWithReadOption(n,s,Yb(s,g)),this.matchTNodeWithReadOption(n,s,I(s,n,g,!1,!1))}else c===Lm?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,I(s,n,c,!1,!1))}matchTNodeWithReadOption(n,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Pm||f===my||f===Lm&&4&s.type)this.addMatch(s.index,-2);else{const g=I(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,c)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function Yb(t,n){const s=t.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===n)return s[c+1];return null}function Zb(t,n,s,c){return-1===s?function(t,n){return 11&t.type?Sg(t,n):4&t.type?gy(t,n):null}(n,t):-2===s?function(t,n,s){return s===Pm?Sg(n,t):s===Lm?gy(n,t):s===my?$v(n,t):void 0}(t,n,c):W(t,t[1],s,n)}function jv(t,n,s,c){const f=n[19].queries[c];if(null===f.matches){const g=t.data,w=s.matches,x=[];for(let L=0;L<w.length;L+=2){const X=w[L];x.push(X<0?null:Zb(n,g[X],w[L+1],s.metadata.read))}f.matches=x}return f.matches}function l_(t,n,s,c){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const w=jv(t,n,f,s);for(let x=0;x<g.length;x+=2){const L=g[x];if(L>0)c.push(w[x/2]);else{const X=g[x+1],ue=n[-L];for(let Oe=j;Oe<ue.length;Oe++){const lt=ue[Oe];lt[17]===lt[3]&&l_(lt[1],lt,X,c)}if(null!==ue[9]){const Oe=ue[9];for(let lt=0;lt<Oe.length;lt++){const wt=Oe[lt];l_(wt[1],wt,X,c)}}}}}return c}function Hv(t){const n=Mt(),s=Hn(),c=Ho();sa(c+1);const f=qv(s,c);if(t.dirty&&Ct(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?l_(s,n,c,[]):jv(s,n,f,c);t.reset(g,ub),t.notifyOnChanges()}return!0}return!1}function Wv(t,n,s){const c=Hn();c.firstCreatePass&&(Yv(c,new Uv(t,n,s),-1),2==(2&n)&&(c.staticViewQueries=!0)),Kv(c,Mt(),n)}function zv(t,n,s,c){const f=Hn();if(f.firstCreatePass){const g=Jn();Yv(f,new Uv(n,s,c),g.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}Kv(f,Mt(),s)}function Gv(){return t=Mt(),n=Ho(),t[19].queries[n].queryList;var t,n}function Kv(t,n,s){const c=new n_(4==(4&s));Lh(t,n,c,c.destroy),null===n[19]&&(n[19]=new s_),n[19].queries.push(new i_(c))}function Yv(t,n,s){null===t.queries&&(t.queries=new o_),t.queries.track(new a_(n,s))}function qv(t,n){return t.queries.getByIndex(n)}function vy(...t){}const p_=new li("Application Initializer");let Mg=(()=>{class t{constructor(s){this.appInits=s,this.resolve=vy,this.reject=vy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const s=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(hd(g))s.push(g);else if(of(g)){const w=new Promise((x,L)=>{g.subscribe({complete:x,error:L})});s.push(w)}}Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(er(p_,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const p0=new li("AppId"),vw={provide:p0,useFactory:function(){return`${g_()}${g_()}${g_()}`},deps:[]};function g_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const g0=new li("Platform Initializer"),m0=new li("Platform ID"),y0=new li("appBootstrapListener");let _0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Ey=new li("LocaleId"),v0=new li("DefaultCurrencyCode");class Ew{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let m_=(()=>{class t{compileModuleSync(s){return new e_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),g=il(fn(s).declarations).reduce((w,x)=>{const L=Pn(x);return L&&w.push(new Jy(L)),w},[]);return new Ew(c,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ww=(()=>Promise.resolve(0))();function y_(t){"undefined"==typeof Zone?ww.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class du{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gd(!1),this.onMicrotaskEmpty=new gd(!1),this.onStable=new gd(!1),this.onError=new gd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let t=fr.requestAnimationFrame,n=fr.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,v_(t),t.isCheckStableRunning=!0,__(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),v_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,g,w,x)=>{try{return E0(t),s.invokeTask(f,g,w,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),b0(t)}},onInvoke:(s,c,f,g,w,x,L)=>{try{return E0(t),s.invoke(f,g,w,x,L)}finally{t.shouldCoalesceRunChangeDetection&&n(),b0(t)}},onHasTask:(s,c,f,g)=>{s.hasTask(f,g),c===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,v_(t),__(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,c,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,c){return this._inner.run(n,s,c)}runTask(n,s,c,f){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+f,n,Cw,vy,vy);try{return g.runTask(w,s,c)}finally{g.cancelTask(w)}}runGuarded(n,s,c){return this._inner.runGuarded(n,s,c)}runOutsideAngular(n){return this._outer.run(n)}}const Cw={};function __(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function v_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function E0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function b0(t){t._nesting--,__(t)}class Sw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gd,this.onMicrotaskEmpty=new gd,this.onStable=new gd,this.onError=new gd}run(n,s,c){return n.apply(s,c)}runGuarded(n,s,c){return n.apply(s,c)}runOutsideAngular(n){return n()}runTask(n,s,c,f){return n.apply(s,c)}}let w0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,c,f){return[]}}return t.\u0275fac=function(s){return new(s||t)(er(du))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),I0=(()=>{class t{constructor(){this._applications=new Map,E_.addToWindow(this)}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return E_.findTestabilityInTree(this,s,c)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Aw{addToWindow(n){}findTestabilityInTree(n,s,c){return null}}function xw(t){E_=t}let Ic,E_=new Aw;const C0=new li("AllowMultipleToken");class Pw{constructor(n,s){this.name=n,this.token=s}}function D0(t,n,s=[]){const c=`Platform: ${n}`,f=new li(c);return(g=[])=>{let w=T0();if(!w||w.injector.get(C0,!1))if(t)t(s.concat(g).concat({provide:f,useValue:!0}));else{const x=s.concat(g).concat({provide:f,useValue:!0},{provide:Yh,useValue:"platform"});!function(t){if(Ic&&!Ic.destroyed&&!Ic.injector.get(C0,!1))throw new Xe("400","");Ic=t.get(S0);const n=t.get(g0,null);n&&n.forEach(s=>s())}(ea.create({providers:x,name:c}))}return function(t){const n=T0();if(!n)throw new Xe("401","");return n}()}}function T0(){return Ic&&!Ic.destroyed?Ic:null}let S0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const x=function(t,n){let s;return s="noop"===t?new Sw:("zone.js"===t?void 0:t)||new du({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),L=[{provide:du,useValue:x}];return x.run(()=>{const X=ea.create({providers:L,parent:this.injector,name:s.moduleType.name}),ue=s.create(X),Oe=ue.injector.get(Zo,null);if(!Oe)throw new Xe("402","");return x.runOutsideAngular(()=>{const lt=x.onError.subscribe({next:wt=>{Oe.handleError(wt)}});ue.onDestroy(()=>{b_(this._modules,ue),lt.unsubscribe()})}),function(t,n,s){try{const c=s();return hd(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(Oe,x,()=>{const lt=ue.injector.get(Mg);return lt.runInitializers(),lt.donePromise.then(()=>(function(t){rt(t,"Expected localeId to be defined"),"string"==typeof t&&(Z_=t.toLowerCase().replace(/_/g,"-"))}(ue.injector.get(Ey,uy)||uy),this._moduleDoBootstrap(ue),ue))})})}bootstrapModule(s,c=[]){const f=A0({},c);return function(t,n,s){const c=new e_(s);return Promise.resolve(c)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const c=s.injector.get(Vm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Xe("403","");s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(er(ea))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function A0(t,n){return Array.isArray(n)?n.reduce(A0,t):Sr(Sr({},t),n)}let Vm=(()=>{class t{constructor(s,c,f,g,w){this._zone=s,this._injector=c,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new q.y(X=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{X.next(this._stable),X.complete()})}),L=new q.y(X=>{let ue;this._zone.runOutsideAngular(()=>{ue=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,X.next(!0))})})});const Oe=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{X.next(!1)}))});return()=>{ue.unsubscribe(),Oe.unsubscribe()}});this.isStable=(0,Me.T)(x,L.pipe((0,ye.B)()))}bootstrap(s,c){if(!this._initStatus.done)throw new Xe("405","");let f;f=s instanceof wv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(f.componentType);const g=function(t){return t.isBoundToModule}(f)?void 0:this._injector.get(Ag),x=f.create(ea.NULL,[],c||f.selector,g),L=x.location.nativeElement,X=x.injector.get(w0,null),ue=X&&x.injector.get(I0);return X&&ue&&ue.registerApplication(L,X),x.onDestroy(()=>{this.detachView(x.hostView),b_(this.components,x),ue&&ue.unregisterApplication(L)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Xe("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;b_(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(y0,[]).concat(this._bootstrapListeners).forEach(f=>f(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(er(du),er(ea),er(Zo),er(Om),er(Mg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function b_(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let R0=!0,M0=!1;function Vw(){return M0=!0,R0}function $w(){if(M0)throw new Error("Cannot enable prod mode after platform setup.");R0=!1}let Uw=(()=>{class t{}return t.__NG_ELEMENT_ID__=jw,t})();function jw(t){return function(t,n,s){if(We(t)&&!s){const c=se(t.index,n);return new Nm(c,c)}return 47&t.type?new Nm(n[16],n):null}(Jn(),Mt(),16==(16&t))}class L0{constructor(){}supports(n){return ad(n)}create(n){return new qw(n)}}const Yw=(t,n)=>n;class qw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Yw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,c=this._removalsHead,f=0,g=null;for(;s||c;){const w=!c||s&&s.currentIndex<V0(c,f,g)?s:c,x=V0(w,f,g),L=w.currentIndex;if(w===c)f--,c=c._nextRemoved;else if(s=s._next,null==w.previousIndex)f++;else{g||(g=[]);const X=x-f,ue=L-f;if(X!=ue){for(let lt=0;lt<X;lt++){const wt=lt<g.length?g[lt]:g[lt]=0,jt=wt+lt;ue<=jt&&jt<X&&(g[lt]=wt+1)}g[w.previousIndex]=ue-X}}x!==L&&n(w,x,L)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!ad(n))throw new Error(`Error trying to diff '${J(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,w,s=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let x=0;x<this.length;x++)g=n[x],w=this._trackByFn(x,g),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,g,w,x)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,w,x),c=!0),s=s._next}else f=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[vc()]();let c;for(;!(c=s.next()).done;)n(c.value)}}(n,x=>{w=this._trackByFn(f,x),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,x,w,f)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,w,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,c,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new Zw(s,c),g,f),n}_verifyReinsertion(n,s,c,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,c),this._addToMoves(n,c),n}_moveAfter(n,s,c){return this._unlink(n),this._insertAfter(n,s,c),this._addToMoves(n,c),n}_addAfter(n,s,c){return this._insertAfter(n,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,c){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new B0),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,c=n._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Zw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const s=n._prevDup,c=n._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class B0{constructor(){this.map=new Map}put(n){const s=n.trackById;let c=this.map.get(s);c||(c=new Qw,this.map.set(s,c)),c.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function V0(t,n,s){const c=t.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+n+f}class $0{constructor(){}supports(n){return n instanceof Map||rp(n)}create(){return new Xw}}class Xw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||rp(n)))throw new Error(`Error trying to diff '${J(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const c=n._prev;return s._next=n,s._prev=c,n._prev=s,c&&(c._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,w=f._next;return g&&(g._next=w),w&&(w._prev=g),f._next=null,f._prev=null,f}const c=new Jw(n);return this._records.set(n,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(c=>s(n[c],c))}}class Jw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U0(){return new wy([new L0])}let wy=(()=>{class t{constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||U0()),deps:[[t,new Ja,new Qs]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:U0}),t})();function j0(){return new Iy([new $0])}let Iy=(()=>{class t{constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||j0()),deps:[[t,new Ja,new Qs]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:j0}),t})();const tI=[new $0],rI=new wy([new L0]),iI=new Iy(tI),sI=D0(null,"core",[{provide:m0,useValue:"unknown"},{provide:S0,deps:[ea]},{provide:I0,deps:[]},{provide:_0,deps:[]}]),cI=[{provide:Vm,useClass:Vm,deps:[du,ea,Zo,Om,Mg]},{provide:mb,deps:[du],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:Mg,useClass:Mg,deps:[[new Qs,p_]]},{provide:m_,useClass:m_,deps:[]},vw,{provide:wy,useFactory:function(){return rI},deps:[]},{provide:Iy,useFactory:function(){return iI},deps:[]},{provide:Ey,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||uy},deps:[[new Fs(Ey),new Qs,new Ja]]},{provide:v0,useValue:"USD"}];let hI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(er(Vm))},t.\u0275mod=it({type:t}),t.\u0275inj=tn({providers:cI}),t})()},9010:(Gt,at,H)=>{"use strict";H.d(at,{NI:()=>jn,u:()=>Ys,cw:()=>Kr,sg:()=>Sn,u5:()=>G,JU:()=>ce,a5:()=>sr,JJ:()=>Wn,JL:()=>ln,UX:()=>le,kI:()=>Et,_Y:()=>Ke});var u=H(3668),$=H(6019),q=H(5548),Me=H(5894),ye=H(8053),de=H(7879),he=H(1915);function me(F,M){return new q.y(R=>{const se=F.length;if(0===se)return void R.complete();const Ct=new Array(se);let nn=0,Kn=0;for(let Rr=0;Rr<se;Rr++){const kr=(0,he.D)(F[Rr]);let b=!1;R.add(kr.subscribe({next:z=>{b||(b=!0,Kn++),Ct[Rr]=z},error:z=>R.error(z),complete:()=>{nn++,(nn===se||!b)&&(Kn===se&&R.next(M?M.reduce((z,E,K)=>(z[E]=Ct[K],z),{}):Ct),R.complete())}}))}})}let te=(()=>{class F{constructor(R,se){this._renderer=R,this._elementRef=se,this.onChange=Ct=>{},this.onTouched=()=>{}}setProperty(R,se){this._renderer.setProperty(this._elementRef.nativeElement,R,se)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return F.\u0275fac=function(R){return new(R||F)(u.Y36(u.Qsj),u.Y36(u.SBq))},F.\u0275dir=u.lG2({type:F}),F})(),re=(()=>{class F extends te{}return F.\u0275fac=function(){let M;return function(se){return(M||(M=u.n5z(F)))(se||F)}}(),F.\u0275dir=u.lG2({type:F,features:[u.qOj]}),F})();const ce=new u.OlP("NgValueAccessor"),Xe={provide:ce,useExisting:(0,u.Gpc)(()=>we),multi:!0},Re=new u.OlP("CompositionEventMode");let we=(()=>{class F extends te{constructor(R,se,Ct){super(R,se),this._compositionMode=Ct,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const F=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return F.\u0275fac=function(R){return new(R||F)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Re,8))},F.\u0275dir=u.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,se){1&R&&u.NdJ("input",function(nn){return se._handleInput(nn.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(nn){return se._compositionEnd(nn.target.value)})},features:[u._Bn([Xe]),u.qOj]}),F})();function Be(F){return null==F||0===F.length}function qe(F){return null!=F&&"number"==typeof F.length}const De=new u.OlP("NgValidators"),ke=new u.OlP("NgAsyncValidators"),Ye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Et{static min(M){return F=M,M=>{if(Be(M.value)||Be(F))return null;const R=parseFloat(M.value);return!isNaN(R)&&R<F?{min:{min:F,actual:M.value}}:null};var F}static max(M){return F=M,M=>{if(Be(M.value)||Be(F))return null;const R=parseFloat(M.value);return!isNaN(R)&&R>F?{max:{max:F,actual:M.value}}:null};var F}static required(M){return Be(M.value)?{required:!0}:null}static requiredTrue(M){return!0===M.value?null:{required:!0}}static email(M){return Be((F=M).value)||Ye.test(F.value)?null:{email:!0};var F}static minLength(M){return F=M,M=>Be(M.value)||!qe(M.value)?null:M.value.length<F?{minlength:{requiredLength:F,actualLength:M.value.length}}:null;var F}static maxLength(M){return F=M,M=>qe(M.value)&&M.value.length>F?{maxlength:{requiredLength:F,actualLength:M.value.length}}:null;var F}static pattern(M){return function(F){if(!F)return Ut;let M,R;return"string"==typeof F?(R="","^"!==F.charAt(0)&&(R+="^"),R+=F,"$"!==F.charAt(F.length-1)&&(R+="$"),M=new RegExp(R)):(R=F.toString(),M=F),se=>{if(Be(se.value))return null;const Ct=se.value;return M.test(Ct)?null:{pattern:{requiredPattern:R,actualValue:Ct}}}}(M)}static nullValidator(M){return null}static compose(M){return yt(M)}static composeAsync(M){return pt(M)}}function Ut(F){return null}function zt(F){return null!=F}function bt(F){const M=(0,u.QGY)(F)?(0,he.D)(F):F;return(0,u.CqO)(M),M}function ft(F){let M={};return F.forEach(R=>{M=null!=R?Sr(Sr({},M),R):M}),0===Object.keys(M).length?null:M}function rt(F,M){return M.map(R=>R(F))}function ct(F){return F.map(M=>function(F){return!F.validate}(M)?M:R=>M.validate(R))}function yt(F){if(!F)return null;const M=F.filter(zt);return 0==M.length?null:function(R){return ft(rt(R,M))}}function gt(F){return null!=F?yt(ct(F)):null}function pt(F){if(!F)return null;const M=F.filter(zt);return 0==M.length?null:function(R){return function(...F){if(1===F.length){const M=F[0];if((0,Me.k)(M))return me(M,null);if((0,de.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const R=Object.keys(M);return me(R.map(se=>M[se]),R)}}if("function"==typeof F[F.length-1]){const M=F.pop();return me(F=1===F.length&&(0,Me.k)(F[0])?F[0]:F,null).pipe((0,ye.U)(R=>M(...R)))}return me(F,null)}(rt(R,M).map(bt)).pipe((0,ye.U)(ft))}}function _t(F){return null!=F?pt(ct(F)):null}function tn(F,M){return null===F?[M]:Array.isArray(F)?[...F,M]:[F,M]}function Rn(F){return F._rawValidators}function wn(F){return F._rawAsyncValidators}function un(F){return F?Array.isArray(F)?F:[F]:[]}function En(F,M){return Array.isArray(F)?F.includes(M):F===M}function hr(F,M){const R=un(M);return un(F).forEach(Ct=>{En(R,Ct)||R.push(Ct)}),R}function Cn(F,M){return un(M).filter(R=>!En(F,R))}class $n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=gt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=_t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,R){return!!this.control&&this.control.hasError(M,R)}getError(M,R){return this.control?this.control.getError(M,R):null}}class Ft extends $n{get formDirective(){return null}get path(){return null}}class sr extends $n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an{constructor(M){this._cd=M}is(M){var R,se,Ct;return"submitted"===M?!!(null==(R=this._cd)?void 0:R.submitted):!!(null==(Ct=null==(se=this._cd)?void 0:se.control)?void 0:Ct[M])}}let Wn=(()=>{class F extends an{constructor(R){super(R)}}return F.\u0275fac=function(R){return new(R||F)(u.Y36(sr,2))},F.\u0275dir=u.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,se){2&R&&u.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))},features:[u.qOj]}),F})(),ln=(()=>{class F extends an{constructor(R){super(R)}}return F.\u0275fac=function(R){return new(R||F)(u.Y36(Ft,10))},F.\u0275dir=u.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,se){2&R&&u.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))("ng-submitted",se.is("submitted"))},features:[u.qOj]}),F})();function Qe(F,M){dt(F,M),M.valueAccessor.writeValue(F.value),function(F,M){M.valueAccessor.registerOnChange(R=>{F._pendingValue=R,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&_r(F,M)})}(F,M),function(F,M){const R=(se,Ct)=>{M.valueAccessor.writeValue(se),Ct&&M.viewToModelUpdate(se)};F.registerOnChange(R),M._registerOnDestroy(()=>{F._unregisterOnChange(R)})}(F,M),function(F,M){M.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&_r(F,M),"submit"!==F.updateOn&&F.markAsTouched()})}(F,M),function(F,M){if(M.valueAccessor.setDisabledState){const R=se=>{M.valueAccessor.setDisabledState(se)};F.registerOnDisabledChange(R),M._registerOnDestroy(()=>{F._unregisterOnDisabledChange(R)})}}(F,M)}function He(F,M,R=!0){const se=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(se),M.valueAccessor.registerOnTouched(se)),on(F,M),F&&(M._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function st(F,M){F.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(M)})}function dt(F,M){const R=Rn(F);null!==M.validator?F.setValidators(tn(R,M.validator)):"function"==typeof R&&F.setValidators([R]);const se=wn(F);null!==M.asyncValidator?F.setAsyncValidators(tn(se,M.asyncValidator)):"function"==typeof se&&F.setAsyncValidators([se]);const Ct=()=>F.updateValueAndValidity();st(M._rawValidators,Ct),st(M._rawAsyncValidators,Ct)}function on(F,M){let R=!1;if(null!==F){if(null!==M.validator){const Ct=Rn(F);if(Array.isArray(Ct)&&Ct.length>0){const nn=Ct.filter(Kn=>Kn!==M.validator);nn.length!==Ct.length&&(R=!0,F.setValidators(nn))}}if(null!==M.asyncValidator){const Ct=wn(F);if(Array.isArray(Ct)&&Ct.length>0){const nn=Ct.filter(Kn=>Kn!==M.asyncValidator);nn.length!==Ct.length&&(R=!0,F.setAsyncValidators(nn))}}}const se=()=>{};return st(M._rawValidators,se),st(M._rawAsyncValidators,se),R}function _r(F,M){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Bn(F,M){const R=F.indexOf(M);R>-1&&F.splice(R,1)}const Un="VALID",qn="INVALID",fn="PENDING",ur="DISABLED";function bn(F){return(tr(F)?F.validators:F)||null}function lr(F){return Array.isArray(F)?gt(F):F||null}function Hr(F,M){return(tr(M)?M.asyncValidators:F)||null}function Ur(F){return Array.isArray(F)?_t(F):F||null}function tr(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class xr{constructor(M,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=R,this._composedValidatorFn=lr(this._rawValidators),this._composedAsyncValidatorFn=Ur(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Un}get invalid(){return this.status===qn}get pending(){return this.status==fn}get disabled(){return this.status===ur}get enabled(){return this.status!==ur}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=lr(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=Ur(M)}addValidators(M){this.setValidators(hr(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(hr(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Cn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Cn(M,this._rawAsyncValidators))}hasValidator(M){return En(this._rawValidators,M)}hasAsyncValidator(M){return En(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=fn,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const R=this._parentMarkedDirty(M.onlySelf);this.status=ur,this.errors=null,this._forEachChild(se=>{se.disable(na(Sr({},M),{onlySelf:!0}))}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(na(Sr({},M),{skipPristineCheck:R})),this._onDisabledChange.forEach(se=>se(!0))}enable(M={}){const R=this._parentMarkedDirty(M.onlySelf);this.status=Un,this._forEachChild(se=>{se.enable(na(Sr({},M),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors(na(Sr({},M),{skipPristineCheck:R})),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Un||this.status===fn)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ur:Un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=fn,this._hasOwnPendingAsyncValidator=!0;const R=bt(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,R={}){this.errors=M,this._updateControlsErrors(!1!==R.emitEvent)}get(M){return function(F,M,R){if(null==M||(Array.isArray(M)||(M=M.split(".")),Array.isArray(M)&&0===M.length))return null;let se=F;return M.forEach(Ct=>{se=se instanceof Kr?se.controls.hasOwnProperty(Ct)?se.controls[Ct]:null:se instanceof Lr&&se.at(Ct)||null}),se}(this,M)}getError(M,R){const se=R?this.get(R):this;return se&&se.errors?se.errors[M]:null}hasError(M,R){return!!this.getError(M,R)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ur:this.errors?qn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fn)?fn:this._anyControlsHaveStatus(qn)?qn:Un}_anyControlsHaveStatus(M){return this._anyControls(R=>R.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_isBoxedValue(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){tr(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jn extends xr{constructor(M=null,R,se){super(bn(R),Hr(se,R)),this._onChange=[],this._applyFormState(M),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(M,R={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(M,R={}){this.setValue(M,R)}reset(M=null,R={}){this._applyFormState(M),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Bn(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Bn(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){this._isBoxedValue(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}}class Kr extends xr{constructor(M,R,se){super(bn(R),Hr(se,R)),this.controls=M,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,R){return this.controls[M]?this.controls[M]:(this.controls[M]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(M,R,se={}){this.registerControl(M,R),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(M,R={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(M,R,se={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],R&&this.registerControl(M,R),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,R={}){this._checkAllValuesPresent(M),Object.keys(M).forEach(se=>{this._throwIfControlMissing(se),this.controls[se].setValue(M[se],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(M,R={}){null!=M&&(Object.keys(M).forEach(se=>{this.controls[se]&&this.controls[se].patchValue(M[se],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(M={},R={}){this._forEachChild((se,Ct)=>{se.reset(M[Ct],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(M,R,se)=>(M[se]=R instanceof jn?R.value:R.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(R,se)=>!!se._syncPendingControls()||R);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[M])throw new Error(`Cannot find form control with name: ${M}.`)}_forEachChild(M){Object.keys(this.controls).forEach(R=>{const se=this.controls[R];se&&M(se,R)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const R of Object.keys(this.controls)){const se=this.controls[R];if(this.contains(R)&&M(se))return!0}return!1}_reduceValue(){return this._reduceChildren({},(M,R,se)=>((R.enabled||this.disabled)&&(M[se]=R.value),M))}_reduceChildren(M,R){let se=M;return this._forEachChild((Ct,nn)=>{se=R(se,Ct,nn)}),se}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(M){this._forEachChild((R,se)=>{if(void 0===M[se])throw new Error(`Must supply a value for form control with name: '${se}'.`)})}}class Lr extends xr{constructor(M,R,se){super(bn(R),Hr(se,R)),this.controls=M,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[M]}push(M,R={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(M,R,se={}){this.controls.splice(M,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(M,R={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(M,R,se={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),R&&(this.controls.splice(M,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,R={}){this._checkAllValuesPresent(M),M.forEach((se,Ct)=>{this._throwIfControlMissing(Ct),this.at(Ct).setValue(se,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(M,R={}){null!=M&&(M.forEach((se,Ct)=>{this.at(Ct)&&this.at(Ct).patchValue(se,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(M=[],R={}){this._forEachChild((se,Ct)=>{se.reset(M[Ct],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(M=>M instanceof jn?M.value:M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_syncPendingControls(){let M=this.controls.reduce((R,se)=>!!se._syncPendingControls()||R,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(M))throw new Error(`Cannot find form control at index ${M}`)}_forEachChild(M){this.controls.forEach((R,se)=>{M(R,se)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(R=>R.enabled&&M(R))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_checkAllValuesPresent(M){this._forEachChild((R,se)=>{if(void 0===M[se])throw new Error(`Must supply a value for form control at index: ${se}.`)})}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}}let Ke=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275dir=u.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),ne=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=u.oAB({type:F}),F.\u0275inj=u.cJS({}),F})();const ht=new u.OlP("NgModelWithFormControlWarning"),hn={provide:Ft,useExisting:(0,u.Gpc)(()=>Sn)};let Sn=(()=>{class F extends Ft{constructor(R,se){super(),this.validators=R,this.asyncValidators=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(R),this._setAsyncValidators(se)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(on(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const se=this.form.get(R.path);return Qe(se,R),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),se}getControl(R){return this.form.get(R.path)}removeControl(R){He(R.control||null,R,!1),Bn(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,se){this.form.get(R.path).setValue(se)}onSubmit(R){return this.submitted=!0,function(F,M){F._syncPendingControls(),M.forEach(R=>{const se=R.control;"submit"===se.updateOn&&se._pendingChange&&(R.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const se=R.control,Ct=this.form.get(R.path);se!==Ct&&(He(se||null,R),Ct instanceof jn&&(Qe(Ct,R),R.control=Ct))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const se=this.form.get(R.path);(function(F,M){dt(F,M)})(se,R),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const se=this.form.get(R.path);se&&function(F,M){return on(F,M)}(se,R)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dt(this.form,this),this._oldForm&&on(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(R){return new(R||F)(u.Y36(De,10),u.Y36(ke,10))},F.\u0275dir=u.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(R,se){1&R&&u.NdJ("submit",function(nn){return se.onSubmit(nn)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([hn]),u.qOj,u.TTD]}),F})();const as={provide:sr,useExisting:(0,u.Gpc)(()=>Ys)};let Ys=(()=>{class F extends sr{constructor(R,se,Ct,nn,Kn){super(),this._ngModelWarningConfig=Kn,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(se),this._setAsyncValidators(Ct),this.valueAccessor=function(F,M){if(!M)return null;let R,se,Ct;return Array.isArray(M),M.forEach(nn=>{nn.constructor===we?R=nn:function(F){return Object.getPrototypeOf(F.constructor)===re}(nn)?se=nn:Ct=nn}),Ct||se||R||null}(0,nn)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),function(F,M){if(!F.hasOwnProperty("model"))return!1;const R=F.model;return!!R.isFirstChange()||!Object.is(M,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function(F,M){return[...M.path,F]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(R){return new(R||F)(u.Y36(Ft,13),u.Y36(De,10),u.Y36(ke,10),u.Y36(ce,10),u.Y36(ht,8))},F.\u0275dir=u.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([as]),u.qOj,u.TTD]}),F})(),es=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=u.oAB({type:F}),F.\u0275inj=u.cJS({imports:[[ne]]}),F})(),G=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=u.oAB({type:F}),F.\u0275inj=u.cJS({imports:[es]}),F})(),le=(()=>{class F{static withConfig(R){return{ngModule:F,providers:[{provide:ht,useValue:R.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=u.oAB({type:F}),F.\u0275inj=u.cJS({imports:[es]}),F})()},6024:(Gt,at,H)=>{"use strict";H.d(at,{gz:()=>We,y6:()=>Wi,OD:()=>Ft,eC:()=>_n,wm:()=>$r,wN:()=>Hu,F0:()=>Ai,rH:()=>js,Bz:()=>Nr,Hx:()=>Hr});var u=H(6019),$=H(3668),q=H(8151),Me=H(5894),ye=H(5330),de=H(7974),he=H(5433);const J={};class te{constructor(T){this.resultSelector=T}call(T,I){return I.subscribe(new re(T,this.resultSelector))}}class re extends ye.L{constructor(T,I){super(T),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(T){this.values.push(J),this.observables.push(T)}_complete(){const T=this.observables,I=T.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let W=0;W<I;W++)this.add((0,de.D)(this,T[W],void 0,W))}}notifyComplete(T){0==(this.active-=1)&&this.destination.complete()}notifyNext(T,I,W){const Q=this.values,Ie=this.toRespond?Q[W]===J?--this.toRespond:this.toRespond:0;Q[W]=I,0===Ie&&(this.resultSelector?this._tryResultSelector(Q):this.destination.next(Q.slice()))}_tryResultSelector(T){let I;try{I=this.resultSelector.apply(this,T)}catch(W){return void this.destination.error(W)}this.destination.next(I)}}var ce=H(1915),ie=H(2411),$e=H(4099),Xe=H(5548),Te=H(9443),Re=H(3596),we=H(5476),Be=H(172),qe=H(5783),De=H(3405),ke=H(8345);function Ye(O){return function(I){const W=new Et(O),Q=I.lift(W);return W.caught=Q}}class Et{constructor(T){this.selector=T}call(T,I){return I.subscribe(new Ue(T,this.selector,this.caught))}}class Ue extends ke.Ds{constructor(T,I,W){super(T),this.selector=I,this.caught=W}error(T){if(!this.isStopped){let I;try{I=this.selector(T,this.caught)}catch(fe){return void super.error(fe)}this._unsubscribeAndRecycle();const W=new ke.IY(this);this.add(W);const Q=(0,ke.ft)(I,W);Q!==W&&this.add(Q)}}}var Tt=H(4421);function Ve(O,T){return(0,Tt.zg)(O,T,1)}var je=H(8735),Le=H(4168),Fe=H(523);function Ae(O){return function(I){return 0===O?(0,Be.c)():I.lift(new et(O))}}class et{constructor(T){if(this.total=T,this.total<0)throw new Fe.W}call(T,I){return I.subscribe(new Ut(T,this.total))}}class Ut extends Le.L{constructor(T,I){super(T),this.total=I,this.ring=new Array,this.count=0}_next(T){const I=this.ring,W=this.total,Q=this.count++;I.length<W?I.push(T):I[Q%W]=T}_complete(){const T=this.destination;let I=this.count;if(I>0){const W=this.count>=this.total?this.total:this.count,Q=this.ring;for(let fe=0;fe<W;fe++){const Ie=I++%W;T.next(Q[Ie])}}T.complete()}}var zt=H(6225),bt=H(3507),ft=H(7255),ot=H(1346);class yt{constructor(T){this.callback=T}call(T,I){return I.subscribe(new gt(T,this.callback))}}class gt extends Le.L{constructor(T,I){super(T),this.add(new ot.w(I))}}var pt=H(8053),_t=H(9204),tn=H(6636),Rn=H(1125),wn=H(7434),un=H(739),En=H(1366),hr=H(5234),Cn=H(2225);class $n{constructor(T,I){this.id=T,this.url=I}}class Ft extends $n{constructor(T,I,W="imperative",Q=null){super(T,I),this.navigationTrigger=W,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sr extends $n{constructor(T,I,W){super(T,I),this.urlAfterRedirects=W}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class an extends $n{constructor(T,I,W){super(T,I),this.reason=W}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ar extends $n{constructor(T,I,W){super(T,I),this.error=W}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gn extends $n{constructor(T,I,W,Q){super(T,I),this.urlAfterRedirects=W,this.state=Q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends $n{constructor(T,I,W,Q){super(T,I),this.urlAfterRedirects=W,this.state=Q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends $n{constructor(T,I,W,Q,fe){super(T,I),this.urlAfterRedirects=W,this.state=Q,this.shouldActivate=fe}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gn extends $n{constructor(T,I,W,Q){super(T,I),this.urlAfterRedirects=W,this.state=Q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In extends $n{constructor(T,I,W,Q){super(T,I),this.urlAfterRedirects=W,this.state=Q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mr{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yn{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yr{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(T,I,W){this.routerEvent=T,this.position=I,this.anchor=W}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _n="primary";class fr{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I[0]:I}return null}getAll(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function yr(O){return new fr(O)}const Fr="ngNavigationCancelingError";function Qe(O){const T=Error("NavigationCancelingError: "+O);return T[Fr]=!0,T}function st(O,T,I){const W=I.path.split("/");if(W.length>O.length||"full"===I.pathMatch&&(T.hasChildren()||W.length<O.length))return null;const Q={};for(let fe=0;fe<W.length;fe++){const Ie=W[fe],nt=O[fe];if(Ie.startsWith(":"))Q[Ie.substring(1)]=nt;else if(Ie!==nt.path)return null}return{consumed:O.slice(0,W.length),posParams:Q}}function dt(O,T){const I=O?Object.keys(O):void 0,W=T?Object.keys(T):void 0;if(!I||!W||I.length!=W.length)return!1;let Q;for(let fe=0;fe<I.length;fe++)if(Q=I[fe],!on(O[Q],T[Q]))return!1;return!0}function on(O,T){if(Array.isArray(O)&&Array.isArray(T)){if(O.length!==T.length)return!1;const I=[...O].sort(),W=[...T].sort();return I.every((Q,fe)=>W[fe]===Q)}return O===T}function mn(O){return Array.prototype.concat.apply([],O)}function Zn(O){return O.length>0?O[O.length-1]:null}function Ln(O,T){for(const I in O)O.hasOwnProperty(I)&&T(O[I],I)}function ar(O){return(0,$.CqO)(O)?O:(0,$.QGY)(O)?(0,ce.D)(Promise.resolve(O)):(0,ie.of)(O)}const Qn={exact:function kt(O,T,I){if(!bn(O.segments,T.segments)||!Un(O.segments,T.segments,I)||O.numberOfChildren!==T.numberOfChildren)return!1;for(const W in T.children)if(!O.children[W]||!kt(O.children[W],T.children[W],I))return!1;return!0},subset:Bn},vt={exact:function(O,T){return dt(O,T)},subset:function(O,T){return Object.keys(T).length<=Object.keys(O).length&&Object.keys(T).every(I=>on(O[I],T[I]))},ignored:()=>!0};function it(O,T,I){return Qn[I.paths](O.root,T.root,I.matrixParams)&&vt[I.queryParams](O.queryParams,T.queryParams)&&!("exact"===I.fragment&&O.fragment!==T.fragment)}function Bn(O,T,I){return Pn(O,T,T.segments,I)}function Pn(O,T,I,W){if(O.segments.length>I.length){const Q=O.segments.slice(0,I.length);return!(!bn(Q,I)||T.hasChildren()||!Un(Q,I,W))}if(O.segments.length===I.length){if(!bn(O.segments,I)||!Un(O.segments,I,W))return!1;for(const Q in T.children)if(!O.children[Q]||!Bn(O.children[Q],T.children[Q],W))return!1;return!0}{const Q=I.slice(0,O.segments.length),fe=I.slice(O.segments.length);return!!(bn(O.segments,Q)&&Un(O.segments,Q,W)&&O.children[_n])&&Pn(O.children[_n],T,fe,W)}}function Un(O,T,I){return T.every((W,Q)=>vt[I](O[Q].parameters,W.parameters))}class qn{constructor(T,I,W){this.root=T,this.queryParams=I,this.fragment=W}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return tr.serialize(this)}}class fn{constructor(T,I){this.segments=T,this.children=I,this.parent=null,Ln(I,(W,Q)=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xr(this)}}class ur{constructor(T,I){this.path=T,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=yr(this.parameters)),this._parameterMap}toString(){return Jr(this)}}function bn(O,T){return O.length===T.length&&O.every((I,W)=>I.path===T[W].path)}class Hr{}class Ur{parse(T){const I=new Ke(T);return new qn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(T){const I=`/${jn(T.root,!0)}`,W=function(O){const T=Object.keys(O).map(I=>{const W=O[I];return Array.isArray(W)?W.map(Q=>`${Lr(I)}=${Lr(Q)}`).join("&"):`${Lr(I)}=${Lr(W)}`}).filter(I=>!!I);return T.length?`?${T.join("&")}`:""}(T.queryParams);var O;return`${I}${W}${"string"==typeof T.fragment?`#${O=T.fragment,encodeURI(O)}`:""}`}}const tr=new Ur;function xr(O){return O.segments.map(T=>Jr(T)).join("/")}function jn(O,T){if(!O.hasChildren())return xr(O);if(T){const I=O.children[_n]?jn(O.children[_n],!1):"",W=[];return Ln(O.children,(Q,fe)=>{fe!==_n&&W.push(`${fe}:${jn(Q,!1)}`)}),W.length>0?`${I}(${W.join("//")})`:I}{const I=function(O,T){let I=[];return Ln(O.children,(W,Q)=>{Q===_n&&(I=I.concat(T(W,Q)))}),Ln(O.children,(W,Q)=>{Q!==_n&&(I=I.concat(T(W,Q)))}),I}(O,(W,Q)=>Q===_n?[jn(O.children[_n],!1)]:[`${Q}:${jn(W,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[_n]?`${xr(O)}/${I[0]}`:`${xr(O)}/(${I.join("//")})`}}function Kr(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lr(O){return Kr(O).replace(/%3B/gi,";")}function qr(O){return Kr(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vr(O){return decodeURIComponent(O)}function Zr(O){return Vr(O.replace(/\+/g,"%20"))}function Jr(O){return`${qr(O.path)}${function(O){return Object.keys(O).map(T=>`;${qr(T)}=${qr(O[T])}`).join("")}(O.parameters)}`}const gi=/^[^\/()?;=#]+/;function Qr(O){const T=O.match(gi);return T?T[0]:""}const dr=/^[^=?&#]+/,ci=/^[^&#]+/;class Ke{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(T.length>0||Object.keys(I).length>0)&&(W[_n]=new fn(T,I)),W}parseSegment(){const T=Qr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new ur(Vr(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const I=Qr(this.remaining);if(!I)return;this.capture(I);let W="";if(this.consumeOptional("=")){const Q=Qr(this.remaining);Q&&(W=Q,this.capture(W))}T[Vr(I)]=Vr(W)}parseQueryParam(T){const I=function(O){const T=O.match(dr);return T?T[0]:""}(this.remaining);if(!I)return;this.capture(I);let W="";if(this.consumeOptional("=")){const Ie=function(O){const T=O.match(ci);return T?T[0]:""}(this.remaining);Ie&&(W=Ie,this.capture(W))}const Q=Zr(I),fe=Zr(W);if(T.hasOwnProperty(Q)){let Ie=T[Q];Array.isArray(Ie)||(Ie=[Ie],T[Q]=Ie),Ie.push(fe)}else T[Q]=fe}parseParens(T){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=Qr(this.remaining),Q=this.remaining[W.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new Error(`Cannot parse url '${this.url}'`);let fe;W.indexOf(":")>-1?(fe=W.substr(0,W.indexOf(":")),this.capture(fe),this.capture(":")):T&&(fe=_n);const Ie=this.parseChildren();I[fe]=1===Object.keys(Ie).length?Ie[_n]:new fn([],Ie),this.consumeOptional("//")}return I}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class C{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const I=this.pathFromRoot(T);return I.length>1?I[I.length-2]:null}children(T){const I=N(T,this._root);return I?I.children.map(W=>W.value):[]}firstChild(T){const I=N(T,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(T){const I=P(T,this._root);return I.length<2?[]:I[I.length-2].children.map(Q=>Q.value).filter(Q=>Q!==T)}pathFromRoot(T){return P(T,this._root).map(I=>I.value)}}function N(O,T){if(O===T.value)return T;for(const I of T.children){const W=N(O,I);if(W)return W}return null}function P(O,T){if(O===T.value)return[T];for(const I of T.children){const W=P(O,I);if(W.length)return W.unshift(T),W}return[]}class j{constructor(T,I){this.value=T,this.children=I}toString(){return`TreeNode(${this.value})`}}function ne(O){const T={};return O&&O.children.forEach(I=>T[I.value.outlet]=I),T}class ve extends C{constructor(T,I){super(T),this.snapshot=I,Sn(this,T)}toString(){return this.snapshot.toString()}}function Pe(O,T){const I=function(O,T){const Ie=new Kt([],{},{},"",{},_n,T,null,O.root,-1,{});return new hn("",new j(Ie,[]))}(O,T),W=new $e.X([new ur("",{})]),Q=new $e.X({}),fe=new $e.X({}),Ie=new $e.X({}),nt=new $e.X(""),xt=new We(W,Q,Ie,nt,fe,_n,T,I.root);return xt.snapshot=I.root,new ve(new j(xt,[]),I)}class We{constructor(T,I,W,Q,fe,Ie,nt,xt){this.url=T,this.params=I,this.queryParams=W,this.fragment=Q,this.data=fe,this.outlet=Ie,this.component=nt,this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(T=>yr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(T=>yr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ht(O,T="emptyOnly"){const I=O.pathFromRoot;let W=0;if("always"!==T)for(W=I.length-1;W>=1;){const Q=I[W],fe=I[W-1];if(Q.routeConfig&&""===Q.routeConfig.path)W--;else{if(fe.component)break;W--}}return function(O){return O.reduce((T,I)=>({params:Sr(Sr({},T.params),I.params),data:Sr(Sr({},T.data),I.data),resolve:Sr(Sr({},T.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(W))}class Kt{constructor(T,I,W,Q,fe,Ie,nt,xt,Tn,Ir,yn){this.url=T,this.params=I,this.queryParams=W,this.fragment=Q,this.data=fe,this.outlet=Ie,this.component=nt,this.routeConfig=xt,this._urlSegment=Tn,this._lastPathIndex=Ir,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hn extends C{constructor(T,I){super(I),this.url=T,Sn(this,I)}toString(){return Mr(this._root)}}function Sn(O,T){T.value._routerState=O,T.children.forEach(I=>Sn(O,I))}function Mr(O){const T=O.children.length>0?` { ${O.children.map(Mr).join(", ")} } `:"";return`${O.value}${T}`}function Er(O){if(O.snapshot){const T=O.snapshot,I=O._futureSnapshot;O.snapshot=I,dt(T.queryParams,I.queryParams)||O.queryParams.next(I.queryParams),T.fragment!==I.fragment&&O.fragment.next(I.fragment),dt(T.params,I.params)||O.params.next(I.params),function(O,T){if(O.length!==T.length)return!1;for(let I=0;I<O.length;++I)if(!dt(O[I],T[I]))return!1;return!0}(T.url,I.url)||O.url.next(I.url),dt(T.data,I.data)||O.data.next(I.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function si(O,T){const I=dt(O.params,T.params)&&function(O,T){return bn(O,T)&&O.every((I,W)=>dt(I.parameters,T[W].parameters))}(O.url,T.url);return I&&!(!O.parent!=!T.parent)&&(!O.parent||si(O.parent,T.parent))}function gs(O,T,I){if(I&&O.shouldReuseRoute(T.value,I.value.snapshot)){const W=I.value;W._futureSnapshot=T.value;const Q=function(O,T,I){return T.children.map(W=>{for(const Q of I.children)if(O.shouldReuseRoute(W.value,Q.value.snapshot))return gs(O,W,Q);return gs(O,W)})}(O,T,I);return new j(W,Q)}{if(O.shouldAttach(T.value)){const fe=O.retrieve(T.value);if(null!==fe){const Ie=fe.route;return Ie.value._futureSnapshot=T.value,Ie.children=T.children.map(nt=>gs(O,nt)),Ie}}const W=function(O){return new We(new $e.X(O.url),new $e.X(O.params),new $e.X(O.queryParams),new $e.X(O.fragment),new $e.X(O.data),O.outlet,O.component,O)}(T.value),Q=T.children.map(fe=>gs(O,fe));return new j(W,Q)}}function Es(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function oi(O){return"object"==typeof O&&null!=O&&O.outlets}function xs(O,T,I,W,Q){let fe={};return W&&Ln(W,(Ie,nt)=>{fe[nt]=Array.isArray(Ie)?Ie.map(xt=>`${xt}`):`${Ie}`}),new qn(I.root===O?T:us(I.root,O,T),fe,Q)}function us(O,T,I){const W={};return Ln(O.children,(Q,fe)=>{W[fe]=Q===T?I:us(Q,T,I)}),new fn(O.segments,W)}class ms{constructor(T,I,W){if(this.isAbsolute=T,this.numberOfDoubleDots=I,this.commands=W,T&&W.length>0&&Es(W[0]))throw new Error("Root segment cannot have matrix parameters");const Q=W.find(oi);if(Q&&Q!==Zn(W))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rs{constructor(T,I,W){this.segmentGroup=T,this.processChildren=I,this.index=W}}function ji(O,T,I){if(O||(O=new fn([],{})),0===O.segments.length&&O.hasChildren())return ys(O,T,I);const W=function(O,T,I){let W=0,Q=T;const fe={match:!1,pathIndex:0,commandIndex:0};for(;Q<O.segments.length;){if(W>=I.length)return fe;const Ie=O.segments[Q],nt=I[W];if(oi(nt))break;const xt=`${nt}`,Tn=W<I.length-1?I[W+1]:null;if(Q>0&&void 0===xt)break;if(xt&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!Di(xt,Tn,Ie))return fe;W+=2}else{if(!Di(xt,{},Ie))return fe;W++}Q++}return{match:!0,pathIndex:Q,commandIndex:W}}(O,T,I),Q=I.slice(W.commandIndex);if(W.match&&W.pathIndex<O.segments.length){const fe=new fn(O.segments.slice(0,W.pathIndex),{});return fe.children[_n]=new fn(O.segments.slice(W.pathIndex),O.children),ys(fe,0,Q)}return W.match&&0===Q.length?new fn(O.segments,{}):W.match&&!O.hasChildren()?Yi(O,T,I):W.match?ys(O,0,Q):Yi(O,T,I)}function ys(O,T,I){if(0===I.length)return new fn(O.segments,{});{const W=function(O){return oi(O[0])?O[0].outlets:{[_n]:O}}(I),Q={};return Ln(W,(fe,Ie)=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(Q[Ie]=ji(O.children[Ie],T,fe))}),Ln(O.children,(fe,Ie)=>{void 0===W[Ie]&&(Q[Ie]=fe)}),new fn(O.segments,Q)}}function Yi(O,T,I){const W=O.segments.slice(0,T);let Q=0;for(;Q<I.length;){const fe=I[Q];if(oi(fe)){const xt=Hi(fe.outlets);return new fn(W,xt)}if(0===Q&&Es(I[0])){W.push(new ur(O.segments[T].path,Vs(I[0]))),Q++;continue}const Ie=oi(fe)?fe.outlets[_n]:`${fe}`,nt=Q<I.length-1?I[Q+1]:null;Ie&&nt&&Es(nt)?(W.push(new ur(Ie,Vs(nt))),Q+=2):(W.push(new ur(Ie,{})),Q++)}return new fn(W,{})}function Hi(O){const T={};return Ln(O,(I,W)=>{"string"==typeof I&&(I=[I]),null!==I&&(T[W]=Yi(new fn([],{}),0,I))}),T}function Vs(O){const T={};return Ln(O,(I,W)=>T[W]=`${I}`),T}function Di(O,T,I){return O==I.path&&dt(T,I.parameters)}class _s{constructor(T,I,W,Q){this.routeReuseStrategy=T,this.futureState=I,this.currState=W,this.forwardEvent=Q}activate(T){const I=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,W,T),Er(this.futureState.root),this.activateChildRoutes(I,W,T)}deactivateChildRoutes(T,I,W){const Q=ne(I);T.children.forEach(fe=>{const Ie=fe.value.outlet;this.deactivateRoutes(fe,Q[Ie],W),delete Q[Ie]}),Ln(Q,(fe,Ie)=>{this.deactivateRouteAndItsChildren(fe,W)})}deactivateRoutes(T,I,W){const Q=T.value,fe=I?I.value:null;if(Q===fe)if(Q.component){const Ie=W.getContext(Q.outlet);Ie&&this.deactivateChildRoutes(T,I,Ie.children)}else this.deactivateChildRoutes(T,I,W);else fe&&this.deactivateRouteAndItsChildren(I,W)}deactivateRouteAndItsChildren(T,I){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,I):this.deactivateRouteAndOutlet(T,I)}detachAndStoreRouteSubtree(T,I){const W=I.getContext(T.value.outlet),Q=W&&T.value.component?W.children:I,fe=ne(T);for(const Ie of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Ie],Q);if(W&&W.outlet){const Ie=W.outlet.detach(),nt=W.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:Ie,route:T,contexts:nt})}}deactivateRouteAndOutlet(T,I){const W=I.getContext(T.value.outlet),Q=W&&T.value.component?W.children:I,fe=ne(T);for(const Ie of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[Ie],Q);W&&W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated(),W.attachRef=null,W.resolver=null,W.route=null)}activateChildRoutes(T,I,W){const Q=ne(I);T.children.forEach(fe=>{this.activateRoutes(fe,Q[fe.value.outlet],W),this.forwardEvent(new Yr(fe.value.snapshot))}),T.children.length&&this.forwardEvent(new cn(T.value.snapshot))}activateRoutes(T,I,W){const Q=T.value,fe=I?I.value:null;if(Er(Q),Q===fe)if(Q.component){const Ie=W.getOrCreateContext(Q.outlet);this.activateChildRoutes(T,I,Ie.children)}else this.activateChildRoutes(T,I,W);else if(Q.component){const Ie=W.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const nt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),Ie.children.onOutletReAttached(nt.contexts),Ie.attachRef=nt.componentRef,Ie.route=nt.route.value,Ie.outlet&&Ie.outlet.attach(nt.componentRef,nt.route.value),Er(nt.route.value),this.activateChildRoutes(T,null,Ie.children)}else{const nt=function(O){for(let T=O.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(Q.snapshot),xt=nt?nt.module.componentFactoryResolver:null;Ie.attachRef=null,Ie.route=Q,Ie.resolver=xt,Ie.outlet&&Ie.outlet.activateWith(Q,xt),this.activateChildRoutes(T,null,Ie.children)}}else this.activateChildRoutes(T,null,W)}}class Ti{constructor(T,I){this.routes=T,this.module=I}}function Pi(O){return"function"==typeof O}function Xr(O){return O instanceof qn}const Ei=Symbol("INITIAL_VALUE");function bi(){return(0,_t.w)(O=>function(...O){let T,I;return(0,q.K)(O[O.length-1])&&(I=O.pop()),"function"==typeof O[O.length-1]&&(T=O.pop()),1===O.length&&(0,Me.k)(O[0])&&(O=O[0]),(0,he.n)(O,I).lift(new te(T))}(O.map(T=>T.pipe((0,tn.q)(1),(0,Rn.O)(Ei)))).pipe((0,wn.R)((T,I)=>{let W=!1;return I.reduce((Q,fe,Ie)=>Q!==Ei?Q:(fe===Ei&&(W=!0),W||!1!==fe&&Ie!==I.length-1&&!Xr(fe)?Q:fe),T)},Ei),(0,je.h)(T=>T!==Ei),(0,pt.U)(T=>Xr(T)?T:!0===T),(0,tn.q)(1)))}class jr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wi,this.attachRef=null}}class Wi{constructor(){this.contexts=new Map}onChildOutletCreated(T,I){const W=this.getOrCreateContext(T);W.outlet=I,this.contexts.set(T,W)}onChildOutletDestroyed(T){const I=this.getContext(T);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let I=this.getContext(T);return I||(I=new jr,this.contexts.set(T,I)),I}getContext(T){return this.contexts.get(T)||null}}let es=(()=>{class O{constructor(I,W,Q,fe,Ie){this.parentContexts=I,this.location=W,this.resolver=Q,this.changeDetector=Ie,this.activated=null,this._activatedRoute=null,this.activateEvents=new $.vpe,this.deactivateEvents=new $.vpe,this.attachEvents=new $.vpe,this.detachEvents=new $.vpe,this.name=fe||_n,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,W){this.activated=I,this._activatedRoute=W,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,W){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const Ie=(W=W||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),nt=this.parentContexts.getOrCreateContext(this.name).children,xt=new G(I,nt,this.location.injector);this.activated=this.location.createComponent(Ie,this.location.length,xt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(I){return new(I||O)($.Y36(Wi),$.Y36($.s_b),$.Y36($._Vd),$.$8M("name"),$.Y36($.sBO))},O.\u0275dir=$.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class G{constructor(T,I,W){this.route=T,this.childContexts=I,this.parent=W}get(T,I){return T===We?this.route:T===Wi?this.childContexts:this.parent.get(T,I)}}let le=(()=>{class O{}return O.\u0275fac=function(I){return new(I||O)},O.\u0275cmp=$.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,W){1&I&&$._UZ(0,"router-outlet")},directives:[es],encapsulation:2}),O})();function Y(O,T=""){for(let I=0;I<O.length;I++){const W=O[I];Ee(W,Je(T,W))}}function Ee(O,T){O.children&&Y(O.children,T)}function Je(O,T){return T?O||T.path?O&&!T.path?`${O}/`:!O&&T.path?T.path:`${O}/${T.path}`:"":O}function F(O){const T=O.children&&O.children.map(F),I=T?na(Sr({},O),{children:T}):Sr({},O);return!I.component&&(T||I.loadChildren)&&I.outlet&&I.outlet!==_n&&(I.component=le),I}function M(O){return O.outlet||_n}function R(O,T){const I=O.filter(W=>M(W)===T);return I.push(...O.filter(W=>M(W)!==T)),I}const se={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ct(O,T,I){var nt;if(""===T.path)return"full"===T.pathMatch&&(O.hasChildren()||I.length>0)?Sr({},se):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Q=(T.matcher||st)(I,O,T);if(!Q)return Sr({},se);const fe={};Ln(Q.posParams,(xt,Tn)=>{fe[Tn]=xt.path});const Ie=Q.consumed.length>0?Sr(Sr({},fe),Q.consumed[Q.consumed.length-1].parameters):fe;return{matched:!0,consumedSegments:Q.consumed,lastChild:Q.consumed.length,parameters:Ie,positionalParamSegments:null!=(nt=Q.posParams)?nt:{}}}function nn(O,T,I,W,Q="corrected"){if(I.length>0&&function(O,T,I){return I.some(W=>z(O,T,W)&&M(W)!==_n)}(O,I,W)){const Ie=new fn(T,function(O,T,I,W){const Q={};Q[_n]=W,W._sourceSegment=O,W._segmentIndexShift=T.length;for(const fe of I)if(""===fe.path&&M(fe)!==_n){const Ie=new fn([],{});Ie._sourceSegment=O,Ie._segmentIndexShift=T.length,Q[M(fe)]=Ie}return Q}(O,T,W,new fn(I,O.children)));return Ie._sourceSegment=O,Ie._segmentIndexShift=T.length,{segmentGroup:Ie,slicedSegments:[]}}if(0===I.length&&function(O,T,I){return I.some(W=>z(O,T,W))}(O,I,W)){const Ie=new fn(O.segments,function(O,T,I,W,Q,fe){const Ie={};for(const nt of W)if(z(O,I,nt)&&!Q[M(nt)]){const xt=new fn([],{});xt._sourceSegment=O,xt._segmentIndexShift="legacy"===fe?O.segments.length:T.length,Ie[M(nt)]=xt}return Sr(Sr({},Q),Ie)}(O,T,I,W,O.children,Q));return Ie._sourceSegment=O,Ie._segmentIndexShift=T.length,{segmentGroup:Ie,slicedSegments:I}}const fe=new fn(O.segments,O.children);return fe._sourceSegment=O,fe._segmentIndexShift=T.length,{segmentGroup:fe,slicedSegments:I}}function z(O,T,I){return(!(O.hasChildren()||T.length>0)||"full"!==I.pathMatch)&&""===I.path}function E(O,T,I,W){return!!(M(O)===W||W!==_n&&z(T,I,O))&&("**"===O.path||Ct(T,O,I).matched)}function K(O,T,I){return 0===T.length&&!O.children[I]}class ge{constructor(T){this.segmentGroup=T||null}}class Nt{constructor(T){this.urlTree=T}}function dn(O){return new Xe.y(T=>T.error(new ge(O)))}function Dn(O){return new Xe.y(T=>T.error(new Nt(O)))}function br(O){return new Xe.y(T=>T.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${O}'`)))}class mi{constructor(T,I,W,Q,fe){this.configLoader=I,this.urlSerializer=W,this.urlTree=Q,this.config=fe,this.allowRedirects=!0,this.ngModule=T.get($.h0i)}apply(){const T=nn(this.urlTree.root,[],[],this.config).segmentGroup,I=new fn(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,I,_n).pipe((0,pt.U)(fe=>this.createUrlTree(cs(fe),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ye(fe=>{if(fe instanceof Nt)return this.allowRedirects=!1,this.match(fe.urlTree);throw fe instanceof ge?this.noMatchError(fe):fe}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,_n).pipe((0,pt.U)(Q=>this.createUrlTree(cs(Q),T.queryParams,T.fragment))).pipe(Ye(Q=>{throw Q instanceof ge?this.noMatchError(Q):Q}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,I,W){const Q=T.segments.length>0?new fn([],{[_n]:T}):T;return new qn(Q,I,W)}expandSegmentGroup(T,I,W,Q){return 0===W.segments.length&&W.hasChildren()?this.expandChildren(T,I,W).pipe((0,pt.U)(fe=>new fn([],fe))):this.expandSegment(T,W,I,W.segments,Q,!0)}expandChildren(T,I,W){const Q=[];for(const fe of Object.keys(W.children))"primary"===fe?Q.unshift(fe):Q.push(fe);return(0,ce.D)(Q).pipe(Ve(fe=>{const Ie=W.children[fe],nt=R(I,fe);return this.expandSegmentGroup(T,nt,Ie,fe).pipe((0,pt.U)(xt=>({segment:xt,outlet:fe})))}),(0,wn.R)((fe,Ie)=>(fe[Ie.outlet]=Ie.segment,fe),{}),function(O,T){const I=arguments.length>=2;return W=>W.pipe(O?(0,je.h)((Q,fe)=>O(Q,fe,W)):ft.y,Ae(1),I?(0,bt.d)(T):(0,zt.T)(()=>new Te.K))}())}expandSegment(T,I,W,Q,fe,Ie){return(0,ce.D)(W).pipe(Ve(nt=>this.expandSegmentAgainstRoute(T,I,W,nt,Q,fe,Ie).pipe(Ye(Tn=>{if(Tn instanceof ge)return(0,ie.of)(null);throw Tn}))),(0,un.P)(nt=>!!nt),Ye((nt,xt)=>{if(nt instanceof Te.K||"EmptyError"===nt.name){if(K(I,Q,fe))return(0,ie.of)(new fn([],{}));throw new ge(I)}throw nt}))}expandSegmentAgainstRoute(T,I,W,Q,fe,Ie,nt){return E(Q,I,fe,Ie)?void 0===Q.redirectTo?this.matchSegmentAgainstRoute(T,I,Q,fe,Ie):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,I,W,Q,fe,Ie):dn(I):dn(I)}expandSegmentAgainstRouteUsingRedirect(T,I,W,Q,fe,Ie){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,W,Q,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(T,I,W,Q,fe,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,I,W,Q){const fe=this.applyRedirectCommands([],W.redirectTo,{});return W.redirectTo.startsWith("/")?Dn(fe):this.lineralizeSegments(W,fe).pipe((0,Tt.zg)(Ie=>{const nt=new fn(Ie,{});return this.expandSegment(T,nt,I,Ie,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,I,W,Q,fe,Ie){const{matched:nt,consumedSegments:xt,lastChild:Tn,positionalParamSegments:Ir}=Ct(I,Q,fe);if(!nt)return dn(I);const yn=this.applyRedirectCommands(xt,Q.redirectTo,Ir);return Q.redirectTo.startsWith("/")?Dn(yn):this.lineralizeSegments(Q,yn).pipe((0,Tt.zg)(pr=>this.expandSegment(T,I,W,pr.concat(fe.slice(Tn)),Ie,!1)))}matchSegmentAgainstRoute(T,I,W,Q,fe){if("**"===W.path)return W.loadChildren?(W._loadedConfig?(0,ie.of)(W._loadedConfig):this.configLoader.load(T.injector,W)).pipe((0,pt.U)(pr=>(W._loadedConfig=pr,new fn(Q,{})))):(0,ie.of)(new fn(Q,{}));const{matched:Ie,consumedSegments:nt,lastChild:xt}=Ct(I,W,Q);if(!Ie)return dn(I);const Tn=Q.slice(xt);return this.getChildConfig(T,W,Q).pipe((0,Tt.zg)(yn=>{const pr=yn.module,Or=yn.routes,{segmentGroup:ir,slicedSegments:Ps}=nn(I,nt,Tn,Or),Fi=new fn(ir.segments,ir.children);if(0===Ps.length&&Fi.hasChildren())return this.expandChildren(pr,Or,Fi).pipe((0,pt.U)(Ns=>new fn(nt,Ns)));if(0===Or.length&&0===Ps.length)return(0,ie.of)(new fn(nt,{}));const ca=M(W)===fe;return this.expandSegment(pr,Fi,Or,Ps,ca?_n:fe,!0).pipe((0,pt.U)(li=>new fn(nt.concat(li.segments),li.children)))}))}getChildConfig(T,I,W){return I.children?(0,ie.of)(new Ti(I.children,T)):I.loadChildren?void 0!==I._loadedConfig?(0,ie.of)(I._loadedConfig):this.runCanLoadGuards(T.injector,I,W).pipe((0,Tt.zg)(Q=>{return Q?this.configLoader.load(T.injector,I).pipe((0,pt.U)(fe=>(I._loadedConfig=fe,fe))):(O=I,new Xe.y(T=>T.error(Qe(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))));var O})):(0,ie.of)(new Ti([],T))}runCanLoadGuards(T,I,W){const Q=I.canLoad;if(!Q||0===Q.length)return(0,ie.of)(!0);const fe=Q.map(Ie=>{const nt=T.get(Ie);let xt;if((O=nt)&&Pi(O.canLoad))xt=nt.canLoad(I,W);else{if(!Pi(nt))throw new Error("Invalid CanLoad guard");xt=nt(I,W)}var O;return ar(xt)});return(0,ie.of)(fe).pipe(bi(),(0,En.b)(Ie=>{if(!Xr(Ie))return;const nt=Qe(`Redirecting to "${this.urlSerializer.serialize(Ie)}"`);throw nt.url=Ie,nt}),(0,pt.U)(Ie=>!0===Ie))}lineralizeSegments(T,I){let W=[],Q=I.root;for(;;){if(W=W.concat(Q.segments),0===Q.numberOfChildren)return(0,ie.of)(W);if(Q.numberOfChildren>1||!Q.children[_n])return br(T.redirectTo);Q=Q.children[_n]}}applyRedirectCommands(T,I,W){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),T,W)}applyRedirectCreatreUrlTree(T,I,W,Q){const fe=this.createSegmentGroup(T,I.root,W,Q);return new qn(fe,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(T,I){const W={};return Ln(T,(Q,fe)=>{if("string"==typeof Q&&Q.startsWith(":")){const nt=Q.substring(1);W[fe]=I[nt]}else W[fe]=Q}),W}createSegmentGroup(T,I,W,Q){const fe=this.createSegments(T,I.segments,W,Q);let Ie={};return Ln(I.children,(nt,xt)=>{Ie[xt]=this.createSegmentGroup(T,nt,W,Q)}),new fn(fe,Ie)}createSegments(T,I,W,Q){return I.map(fe=>fe.path.startsWith(":")?this.findPosParam(T,fe,Q):this.findOrReturn(fe,W))}findPosParam(T,I,W){const Q=W[I.path.substring(1)];if(!Q)throw new Error(`Cannot redirect to '${T}'. Cannot find '${I.path}'.`);return Q}findOrReturn(T,I){let W=0;for(const Q of I){if(Q.path===T.path)return I.splice(W),Q;W++}return T}}function cs(O){const T={};for(const W of Object.keys(O.children)){const fe=cs(O.children[W]);(fe.segments.length>0||fe.hasChildren())&&(T[W]=fe)}return function(O){if(1===O.numberOfChildren&&O.children[_n]){const T=O.children[_n];return new fn(O.segments.concat(T.segments),T.children)}return O}(new fn(O.segments,T))}class Si{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class no{constructor(T,I){this.component=T,this.route=I}}function ra(O,T,I){const W=O._root;return ro(W,T?T._root:null,I,[W.value])}function No(O,T,I){const W=function(O){if(!O)return null;for(let T=O.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(T);return(W?W.module.injector:I).get(O)}function ro(O,T,I,W,Q={canDeactivateChecks:[],canActivateChecks:[]}){const fe=ne(T);return O.children.forEach(Ie=>{(function(O,T,I,W,Q={canDeactivateChecks:[],canActivateChecks:[]}){const fe=O.value,Ie=T?T.value:null,nt=I?I.getContext(O.value.outlet):null;if(Ie&&fe.routeConfig===Ie.routeConfig){const xt=function(O,T,I){if("function"==typeof I)return I(O,T);switch(I){case"pathParamsChange":return!bn(O.url,T.url);case"pathParamsOrQueryParamsChange":return!bn(O.url,T.url)||!dt(O.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!si(O,T)||!dt(O.queryParams,T.queryParams);default:return!si(O,T)}}(Ie,fe,fe.routeConfig.runGuardsAndResolvers);xt?Q.canActivateChecks.push(new Si(W)):(fe.data=Ie.data,fe._resolvedData=Ie._resolvedData),ro(O,T,fe.component?nt?nt.children:null:I,W,Q),xt&&nt&&nt.outlet&&nt.outlet.isActivated&&Q.canDeactivateChecks.push(new no(nt.outlet.component,Ie))}else Ie&&qs(T,nt,Q),Q.canActivateChecks.push(new Si(W)),ro(O,null,fe.component?nt?nt.children:null:I,W,Q)})(Ie,fe[Ie.value.outlet],I,W.concat([Ie.value]),Q),delete fe[Ie.value.outlet]}),Ln(fe,(Ie,nt)=>qs(Ie,I.getContext(nt),Q)),Q}function qs(O,T,I){const W=ne(O),Q=O.value;Ln(W,(fe,Ie)=>{qs(fe,Q.component?T?T.children.getContext(Ie):null:T,I)}),I.canDeactivateChecks.push(new no(Q.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,Q))}class Ho{}function sa(O){return new Xe.y(T=>T.error(O))}class Ca{constructor(T,I,W,Q,fe,Ie){this.rootComponentType=T,this.config=I,this.urlTree=W,this.url=Q,this.paramsInheritanceStrategy=fe,this.relativeLinkResolution=Ie}recognize(){const T=nn(this.urlTree.root,[],[],this.config.filter(Ie=>void 0===Ie.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,T,_n);if(null===I)return null;const W=new Kt([],Object.freeze({}),Object.freeze(Sr({},this.urlTree.queryParams)),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),Q=new j(W,I),fe=new hn(this.url,Q);return this.inheritParamsAndData(fe._root),fe}inheritParamsAndData(T){const I=T.value,W=ht(I,this.paramsInheritanceStrategy);I.params=Object.freeze(W.params),I.data=Object.freeze(W.data),T.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(T,I,W){return 0===I.segments.length&&I.hasChildren()?this.processChildren(T,I):this.processSegment(T,I,I.segments,W)}processChildren(T,I){const W=[];for(const fe of Object.keys(I.children)){const Ie=I.children[fe],nt=R(T,fe),xt=this.processSegmentGroup(nt,Ie,fe);if(null===xt)return null;W.push(...xt)}const Q=io(W);return Q.sort((T,I)=>T.value.outlet===_n?-1:I.value.outlet===_n?1:T.value.outlet.localeCompare(I.value.outlet)),Q}processSegment(T,I,W,Q){for(const fe of T){const Ie=this.processSegmentAgainstRoute(fe,I,W,Q);if(null!==Ie)return Ie}return K(I,W,Q)?[]:null}processSegmentAgainstRoute(T,I,W,Q){if(T.redirectTo||!E(T,I,W,Q))return null;let fe,Ie=[],nt=[];if("**"===T.path){const Or=W.length>0?Zn(W).parameters:{};fe=new Kt(W,Or,Object.freeze(Sr({},this.urlTree.queryParams)),this.urlTree.fragment,El(T),M(T),T.component,T,Wo(I),zl(I)+W.length,ni(T))}else{const Or=Ct(I,T,W);if(!Or.matched)return null;Ie=Or.consumedSegments,nt=W.slice(Or.lastChild),fe=new Kt(Ie,Or.parameters,Object.freeze(Sr({},this.urlTree.queryParams)),this.urlTree.fragment,El(T),M(T),T.component,T,Wo(I),zl(I)+Ie.length,ni(T))}const xt=(O=T).children?O.children:O.loadChildren?O._loadedConfig.routes:[],{segmentGroup:Tn,slicedSegments:Ir}=nn(I,Ie,nt,xt.filter(Or=>void 0===Or.redirectTo),this.relativeLinkResolution);var O;if(0===Ir.length&&Tn.hasChildren()){const Or=this.processChildren(xt,Tn);return null===Or?null:[new j(fe,Or)]}if(0===xt.length&&0===Ir.length)return[new j(fe,[])];const yn=M(T)===Q,pr=this.processSegment(xt,Tn,Ir,yn?_n:Q);return null===pr?null:[new j(fe,pr)]}}function za(O){const T=O.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function io(O){const T=[],I=new Set;for(const W of O){if(!za(W)){T.push(W);continue}const Q=T.find(fe=>W.value.routeConfig===fe.value.routeConfig);void 0!==Q?(Q.children.push(...W.children),I.add(Q)):T.push(W)}for(const W of I){const Q=io(W.children);T.push(new j(W.value,Q))}return T.filter(W=>!I.has(W))}function Wo(O){let T=O;for(;T._sourceSegment;)T=T._sourceSegment;return T}function zl(O){let T=O,I=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,I+=T._segmentIndexShift?T._segmentIndexShift:0;return I-1}function El(O){return O.data||{}}function ni(O){return O.resolve||{}}function ds(O){return(0,_t.w)(T=>{const I=O(T);return I?(0,ce.D)(I).pipe((0,pt.U)(()=>T)):(0,ie.of)(T)})}class Hu{}class Us extends class{shouldDetach(T){return!1}store(T,I){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,I){return T.routeConfig===I.routeConfig}}{}const so=new $.OlP("ROUTES");class Fo{constructor(T,I,W,Q){this.injector=T,this.compiler=I,this.onLoadStartListener=W,this.onLoadEndListener=Q}load(T,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const Q=this.loadModuleFactory(I.loadChildren).pipe((0,pt.U)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(I);const Ie=fe.create(T);return new Ti(mn(Ie.injector.get(so,void 0,$.XFs.Self|$.XFs.Optional)).map(F),Ie)}),Ye(fe=>{throw I._loader$=void 0,fe}));return I._loader$=new qe.c(Q,()=>new De.xQ).pipe((0,hr.x)()),I._loader$}loadModuleFactory(T){return ar(T()).pipe((0,Tt.zg)(I=>I instanceof $.YKP?(0,ie.of)(I):(0,ce.D)(this.compiler.compileModuleAsync(I))))}}class pu{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,I){return T}}function Gl(O){throw O}function yi(O,T,I){return T.parse("/")}function Io(O,T){return(0,ie.of)(null)}const aa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class O{constructor(I,W,Q,fe,Ie,nt,xt){this.rootComponentType=I,this.urlSerializer=W,this.rootContexts=Q,this.location=fe,this.config=xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new De.xQ,this.errorHandler=Gl,this.malformedUriErrorHandler=yi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Io,afterPreactivation:Io},this.urlHandlingStrategy=new pu,this.routeReuseStrategy=new Us,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ie.get($.h0i),this.console=Ie.get($.c2e);const yn=Ie.get($.R0b);this.isNgZoneEnabled=yn instanceof $.R0b&&$.R0b.isInAngularZone(),this.resetConfig(xt),this.currentUrlTree=new qn(new fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fo(Ie,nt,pr=>this.triggerEvent(new Fn(pr)),pr=>this.triggerEvent(new mr(pr))),this.routerState=Pe(this.currentUrlTree,this.rootComponentType),this.transitions=new $e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null==(I=this.location.getState())?void 0:I.\u0275routerPageId}setupNavigations(I){const W=this.events;return I.pipe((0,je.h)(Q=>0!==Q.id),(0,pt.U)(Q=>na(Sr({},Q),{extractedUrl:this.urlHandlingStrategy.extract(Q.rawUrl)})),(0,_t.w)(Q=>{let fe=!1,Ie=!1;return(0,ie.of)(Q).pipe((0,En.b)(nt=>{this.currentNavigation={id:nt.id,initialUrl:nt.currentRawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?na(Sr({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,_t.w)(nt=>{const xt=this.browserUrlTree.toString(),Tn=!this.navigated||nt.extractedUrl.toString()!==xt||xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Tn)&&this.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return Co(nt.source)&&(this.browserUrlTree=nt.extractedUrl),(0,ie.of)(nt).pipe((0,_t.w)(yn=>{const pr=this.transitions.getValue();return W.next(new Ft(yn.id,this.serializeUrl(yn.extractedUrl),yn.source,yn.restoredState)),pr!==this.transitions.getValue()?Be.E:Promise.resolve(yn)}),function(O,T,I,W){return(0,_t.w)(Q=>function(O,T,I,W,Q){return new mi(O,T,I,W,Q).apply()}(O,T,I,Q.extractedUrl,W).pipe((0,pt.U)(fe=>na(Sr({},Q),{urlAfterRedirects:fe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,En.b)(yn=>{this.currentNavigation=na(Sr({},this.currentNavigation),{finalUrl:yn.urlAfterRedirects})}),function(O,T,I,W,Q){return(0,Tt.zg)(fe=>function(O,T,I,W,Q="emptyOnly",fe="legacy"){try{const Ie=new Ca(O,T,I,W,Q,fe).recognize();return null===Ie?sa(new Ho):(0,ie.of)(Ie)}catch(Ie){return sa(Ie)}}(O,T,fe.urlAfterRedirects,I(fe.urlAfterRedirects),W,Q).pipe((0,pt.U)(Ie=>na(Sr({},fe),{targetSnapshot:Ie}))))}(this.rootComponentType,this.config,yn=>this.serializeUrl(yn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,En.b)(yn=>{if("eager"===this.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const Or=this.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);this.setBrowserUrl(Or,yn)}this.browserUrlTree=yn.urlAfterRedirects}const pr=new Gn(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);W.next(pr)}));if(Tn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pr,extractedUrl:Or,source:ir,restoredState:Ps,extras:Fi}=nt,ca=new Ft(pr,this.serializeUrl(Or),ir,Ps);W.next(ca);const ho=Pe(Or,this.rootComponentType).snapshot;return(0,ie.of)(na(Sr({},nt),{targetSnapshot:ho,urlAfterRedirects:Or,extras:na(Sr({},Fi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=nt.rawUrl,nt.resolve(null),Be.E}),ds(nt=>{const{targetSnapshot:xt,id:Tn,extractedUrl:Ir,rawUrl:yn,extras:{skipLocationChange:pr,replaceUrl:Or}}=nt;return this.hooks.beforePreactivation(xt,{navigationId:Tn,appliedUrlTree:Ir,rawUrlTree:yn,skipLocationChange:!!pr,replaceUrl:!!Or})}),(0,En.b)(nt=>{const xt=new Wn(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);this.triggerEvent(xt)}),(0,pt.U)(nt=>na(Sr({},nt),{guards:ra(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)})),function(O,T){return(0,Tt.zg)(I=>{const{targetSnapshot:W,currentSnapshot:Q,guards:{canActivateChecks:fe,canDeactivateChecks:Ie}}=I;return 0===Ie.length&&0===fe.length?(0,ie.of)(na(Sr({},I),{guardsResult:!0})):function(O,T,I,W){return(0,ce.D)(O).pipe((0,Tt.zg)(Q=>function(O,T,I,W,Q){const fe=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,ie.of)(!0);const Ie=fe.map(nt=>{const xt=No(nt,T,Q);let Tn;if(function(O){return O&&Pi(O.canDeactivate)}(xt))Tn=ar(xt.canDeactivate(O,T,I,W));else{if(!Pi(xt))throw new Error("Invalid CanDeactivate guard");Tn=ar(xt(O,T,I,W))}return Tn.pipe((0,un.P)())});return(0,ie.of)(Ie).pipe(bi())}(Q.component,Q.route,I,T,W)),(0,un.P)(Q=>!0!==Q,!0))}(Ie,W,Q,O).pipe((0,Tt.zg)(nt=>nt&&function(O){return"boolean"==typeof O}(nt)?function(O,T,I,W){return(0,ce.D)(T).pipe(Ve(Q=>(0,Re.z)(function(O,T){return null!==O&&T&&T(new Yn(O)),(0,ie.of)(!0)}(Q.route.parent,W),function(O,T){return null!==O&&T&&T(new sn(O)),(0,ie.of)(!0)}(Q.route,W),function(O,T,I){const W=T[T.length-1],fe=T.slice(0,T.length-1).reverse().map(Ie=>function(O){const T=O.routeConfig?O.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:O,guards:T}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>(0,we.P)(()=>{const nt=Ie.guards.map(xt=>{const Tn=No(xt,Ie.node,I);let Ir;if(function(O){return O&&Pi(O.canActivateChild)}(Tn))Ir=ar(Tn.canActivateChild(W,O));else{if(!Pi(Tn))throw new Error("Invalid CanActivateChild guard");Ir=ar(Tn(W,O))}return Ir.pipe((0,un.P)())});return(0,ie.of)(nt).pipe(bi())}));return(0,ie.of)(fe).pipe(bi())}(O,Q.path,I),function(O,T,I){const W=T.routeConfig?T.routeConfig.canActivate:null;if(!W||0===W.length)return(0,ie.of)(!0);const Q=W.map(fe=>(0,we.P)(()=>{const Ie=No(fe,T,I);let nt;if(function(O){return O&&Pi(O.canActivate)}(Ie))nt=ar(Ie.canActivate(T,O));else{if(!Pi(Ie))throw new Error("Invalid CanActivate guard");nt=ar(Ie(T,O))}return nt.pipe((0,un.P)())}));return(0,ie.of)(Q).pipe(bi())}(O,Q.route,I))),(0,un.P)(Q=>!0!==Q,!0))}(W,fe,O,T):(0,ie.of)(nt)),(0,pt.U)(nt=>na(Sr({},I),{guardsResult:nt})))})}(this.ngModule.injector,nt=>this.triggerEvent(nt)),(0,En.b)(nt=>{if(Xr(nt.guardsResult)){const Tn=Qe(`Redirecting to "${this.serializeUrl(nt.guardsResult)}"`);throw Tn.url=nt.guardsResult,Tn}const xt=new ln(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.triggerEvent(xt)}),(0,je.h)(nt=>!!nt.guardsResult||(this.restoreHistory(nt),this.cancelNavigationTransition(nt,""),!1)),ds(nt=>{if(nt.guards.canActivateChecks.length)return(0,ie.of)(nt).pipe((0,En.b)(xt=>{const Tn=new gn(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(Tn)}),(0,_t.w)(xt=>{let Tn=!1;return(0,ie.of)(xt).pipe(function(O,T){return(0,Tt.zg)(I=>{const{targetSnapshot:W,guards:{canActivateChecks:Q}}=I;if(!Q.length)return(0,ie.of)(I);let fe=0;return(0,ce.D)(Q).pipe(Ve(Ie=>function(O,T,I,W){return function(O,T,I,W){const Q=Object.keys(O);if(0===Q.length)return(0,ie.of)({});const fe={};return(0,ce.D)(Q).pipe((0,Tt.zg)(Ie=>function(O,T,I,W){const Q=No(O,T,W);return ar(Q.resolve?Q.resolve(T,I):Q(T,I))}(O[Ie],T,I,W).pipe((0,En.b)(nt=>{fe[Ie]=nt}))),Ae(1),(0,Tt.zg)(()=>Object.keys(fe).length===Q.length?(0,ie.of)(fe):Be.E))}(O._resolve,O,T,W).pipe((0,pt.U)(fe=>(O._resolvedData=fe,O.data=Sr(Sr({},O.data),ht(O,I).resolve),null)))}(Ie.route,W,O,T)),(0,En.b)(()=>fe++),Ae(1),(0,Tt.zg)(Ie=>fe===Q.length?(0,ie.of)(I):Be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,En.b)({next:()=>Tn=!0,complete:()=>{Tn||(this.restoreHistory(xt),this.cancelNavigationTransition(xt,"At least one route resolver didn't emit any value."))}}))}),(0,En.b)(xt=>{const Tn=new In(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(Tn)}))}),ds(nt=>{const{targetSnapshot:xt,id:Tn,extractedUrl:Ir,rawUrl:yn,extras:{skipLocationChange:pr,replaceUrl:Or}}=nt;return this.hooks.afterPreactivation(xt,{navigationId:Tn,appliedUrlTree:Ir,rawUrlTree:yn,skipLocationChange:!!pr,replaceUrl:!!Or})}),(0,pt.U)(nt=>{const xt=function(O,T,I){const W=gs(O,T._root,I?I._root:void 0);return new ve(W,T)}(this.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return na(Sr({},nt),{targetRouterState:xt})}),(0,En.b)(nt=>{this.currentUrlTree=nt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(nt.urlAfterRedirects,nt.rawUrl),this.routerState=nt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(nt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,nt),this.browserUrlTree=nt.urlAfterRedirects)}),((O,T,I)=>(0,pt.U)(W=>(new _s(T,W.targetRouterState,W.currentRouterState,I).activate(O),W)))(this.rootContexts,this.routeReuseStrategy,nt=>this.triggerEvent(nt)),(0,En.b)({next(){fe=!0},complete(){fe=!0}}),function(O){return T=>T.lift(new yt(O))}(()=>{var nt;fe||Ie||this.cancelNavigationTransition(Q,`Navigation ID ${Q.id} is not equal to the current navigation id ${this.navigationId}`),(null==(nt=this.currentNavigation)?void 0:nt.id)===Q.id&&(this.currentNavigation=null)}),Ye(nt=>{if(Ie=!0,function(O){return O&&O[Fr]}(nt)){const xt=Xr(nt.url);xt||(this.navigated=!0,this.restoreHistory(Q,!0));const Tn=new an(Q.id,this.serializeUrl(Q.extractedUrl),nt.message);W.next(Tn),xt?setTimeout(()=>{const Ir=this.urlHandlingStrategy.merge(nt.url,this.rawUrlTree),yn={skipLocationChange:Q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Co(Q.source)};this.scheduleNavigation(Ir,"imperative",null,yn,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})},0):Q.resolve(!1)}else{this.restoreHistory(Q,!0);const xt=new Ar(Q.id,this.serializeUrl(Q.extractedUrl),nt);W.next(xt);try{Q.resolve(this.errorHandler(nt))}catch(Tn){Q.reject(Tn)}}return Be.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next(Sr(Sr({},this.transitions.value),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const W="popstate"===I.type?"popstate":"hashchange";"popstate"===W&&setTimeout(()=>{var nt;const Q={replaceUrl:!0},fe=(null==(nt=I.state)?void 0:nt.navigationId)?I.state:null;if(fe){const xt=Sr({},fe);delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(Q.state=xt)}const Ie=this.parseUrl(I.url);this.scheduleNavigation(Ie,W,fe,Q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){Y(I),this.config=I.map(F),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,W={}){const{relativeTo:Q,queryParams:fe,fragment:Ie,queryParamsHandling:nt,preserveFragment:xt}=W,Tn=Q||this.routerState.root,Ir=xt?this.currentUrlTree.fragment:Ie;let yn=null;switch(nt){case"merge":yn=Sr(Sr({},this.currentUrlTree.queryParams),fe);break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=fe||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),function(O,T,I,W,Q){if(0===I.length)return xs(T.root,T.root,T,W,Q);const fe=function(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new ms(!0,0,O);let T=0,I=!1;const W=O.reduce((Q,fe,Ie)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const nt={};return Ln(fe.outlets,(xt,Tn)=>{nt[Tn]="string"==typeof xt?xt.split("/"):xt}),[...Q,{outlets:nt}]}if(fe.segmentPath)return[...Q,fe.segmentPath]}return"string"!=typeof fe?[...Q,fe]:0===Ie?(fe.split("/").forEach((nt,xt)=>{0==xt&&"."===nt||(0==xt&&""===nt?I=!0:".."===nt?T++:""!=nt&&Q.push(nt))}),Q):[...Q,fe]},[]);return new ms(I,T,W)}(I);if(fe.toRoot())return xs(T.root,new fn([],{}),T,W,Q);const Ie=function(O,T,I){if(O.isAbsolute)return new Rs(T.root,!0,0);if(-1===I.snapshot._lastPathIndex){const fe=I.snapshot._urlSegment;return new Rs(fe,fe===T.root,0)}const W=Es(O.commands[0])?0:1;return function(O,T,I){let W=O,Q=T,fe=I;for(;fe>Q;){if(fe-=Q,W=W.parent,!W)throw new Error("Invalid number of '../'");Q=W.segments.length}return new Rs(W,!1,Q-fe)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+W,O.numberOfDoubleDots)}(fe,T,O),nt=Ie.processChildren?ys(Ie.segmentGroup,Ie.index,fe.commands):ji(Ie.segmentGroup,Ie.index,fe.commands);return xs(Ie.segmentGroup,nt,T,W,Q)}(Tn,this.currentUrlTree,I,yn,null!=Ir?Ir:null)}navigateByUrl(I,W={skipLocationChange:!1}){const Q=Xr(I)?I:this.parseUrl(I),fe=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(fe,"imperative",null,W)}navigate(I,W={skipLocationChange:!1}){return function(O){for(let T=0;T<O.length;T++){const I=O[T];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${T}`)}}(I),this.navigateByUrl(this.createUrlTree(I,W),W)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let W;try{W=this.urlSerializer.parse(I)}catch(Q){W=this.malformedUriErrorHandler(Q,this.urlSerializer,I)}return W}isActive(I,W){let Q;if(Q=!0===W?Sr({},aa):!1===W?Sr({},gu):W,Xr(I))return it(this.currentUrlTree,I,Q);const fe=this.parseUrl(I);return it(this.currentUrlTree,fe,Q)}removeEmptyProps(I){return Object.keys(I).reduce((W,Q)=>{const fe=I[Q];return null!=fe&&(W[Q]=fe),W},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new sr(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,W,Q,fe,Ie){var ca,ho,li;if(this.disposed)return Promise.resolve(!1);const nt=this.transitions.value,xt=Co(W)&&nt&&!Co(nt.source),Tn=nt.rawUrl.toString()===I.toString(),Ir=nt.id===(null==(ca=this.currentNavigation)?void 0:ca.id);if(xt&&Tn&&Ir)return Promise.resolve(!0);let pr,Or,ir;Ie?(pr=Ie.resolve,Or=Ie.reject,ir=Ie.promise):ir=new Promise((Ns,xa)=>{pr=Ns,Or=xa});const Ps=++this.navigationId;let Fi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Q=this.location.getState()),Fi=Q&&Q.\u0275routerPageId?Q.\u0275routerPageId:fe.replaceUrl||fe.skipLocationChange?null!=(ho=this.browserPageId)?ho:0:(null!=(li=this.browserPageId)?li:0)+1):Fi=0,this.setTransition({id:Ps,targetPageId:Fi,source:W,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:fe,resolve:pr,reject:Or,promise:ir,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ir.catch(Ns=>Promise.reject(Ns))}setBrowserUrl(I,W){const Q=this.urlSerializer.serialize(I),fe=Sr(Sr({},W.extras.state),this.generateNgRouterState(W.id,W.targetPageId));this.location.isCurrentPathEqualTo(Q)||W.extras.replaceUrl?this.location.replaceState(Q,"",fe):this.location.go(Q,"",fe)}restoreHistory(I,W=!1){var Q,fe;if("computed"===this.canceledNavigationResolution){const Ie=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(Q=this.currentNavigation)?void 0:Q.finalUrl)||0===Ie?this.currentUrlTree===(null==(fe=this.currentNavigation)?void 0:fe.finalUrl)&&0===Ie&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ie)}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,W){const Q=new an(I.id,this.serializeUrl(I.extractedUrl),W);this.triggerEvent(Q),I.resolve(!1)}generateNgRouterState(I,W){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:W}:{navigationId:I}}}return O.\u0275fac=function(I){$.$Z()},O.\u0275prov=$.Yz7({token:O,factory:O.\u0275fac}),O})();function Co(O){return"imperative"!==O}let js=(()=>{class O{constructor(I,W,Q,fe,Ie){this.router=I,this.route=W,this.tabIndexAttribute=Q,this.renderer=fe,this.el=Ie,this.commands=null,this.onChanges=new De.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const W=this.renderer,Q=this.el.nativeElement;null!==I?W.setAttribute(Q,"tabindex",I):W.removeAttribute(Q,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:la(this.skipLocationChange),replaceUrl:la(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:la(this.preserveFragment)})}}return O.\u0275fac=function(I){return new(I||O)($.Y36(Ai),$.Y36(We),$.$8M("tabindex"),$.Y36($.Qsj),$.Y36($.SBq))},O.\u0275dir=$.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,W){1&I&&$.NdJ("click",function(){return W.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$.TTD]}),O})();function la(O){return""===O||!!O}class or{}class $r{preload(T,I){return I().pipe(Ye(()=>(0,ie.of)(null)))}}class Qt{preload(T,I){return(0,ie.of)(null)}}let zn=(()=>{class O{constructor(I,W,Q,fe){this.router=I,this.injector=Q,this.preloadingStrategy=fe,this.loader=new Fo(Q,W,xt=>I.triggerEvent(new Fn(xt)),xt=>I.triggerEvent(new mr(xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,je.h)(I=>I instanceof sr),Ve(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get($.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,W){const Q=[];for(const fe of W)if(fe.loadChildren&&!fe.canLoad&&fe._loadedConfig){const Ie=fe._loadedConfig;Q.push(this.processRoutes(Ie.module,Ie.routes))}else fe.loadChildren&&!fe.canLoad?Q.push(this.preloadConfig(I,fe)):fe.children&&Q.push(this.processRoutes(I,fe.children));return(0,ce.D)(Q).pipe((0,Cn.J)(),(0,pt.U)(fe=>{}))}preloadConfig(I,W){return this.preloadingStrategy.preload(W,()=>(W._loadedConfig?(0,ie.of)(W._loadedConfig):this.loader.load(I.injector,W)).pipe((0,Tt.zg)(fe=>(W._loadedConfig=fe,this.processRoutes(fe.module,fe.routes)))))}}return O.\u0275fac=function(I){return new(I||O)($.LFG(Ai),$.LFG($.Sil),$.LFG($.zs3),$.LFG(or))},O.\u0275prov=$.Yz7({token:O,factory:O.\u0275fac}),O})(),Wr=(()=>{class O{constructor(I,W,Q={}){this.router=I,this.viewportScroller=W,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof sr&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof ti&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,W){this.router.triggerEvent(new ti(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,W))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(I){$.$Z()},O.\u0275prov=$.Yz7({token:O,factory:O.\u0275fac}),O})();const At=new $.OlP("ROUTER_CONFIGURATION"),Wt=new $.OlP("ROUTER_FORROOT_GUARD"),ki=[u.Ye,{provide:Hr,useClass:Ur},{provide:Ai,useFactory:function(O,T,I,W,Q,fe,Ie={},nt,xt){const Tn=new Ai(null,O,T,I,W,Q,mn(fe));return nt&&(Tn.urlHandlingStrategy=nt),xt&&(Tn.routeReuseStrategy=xt),function(O,T){O.errorHandler&&(T.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(T.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(T.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(T.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(T.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(T.canceledNavigationResolution=O.canceledNavigationResolution)}(Ie,Tn),Ie.enableTracing&&Tn.events.subscribe(Ir=>{var yn,pr;null==(yn=console.group)||yn.call(console,`Router Event: ${Ir.constructor.name}`),console.log(Ir.toString()),console.log(Ir),null==(pr=console.groupEnd)||pr.call(console)}),Tn},deps:[Hr,Wi,u.Ye,$.zs3,$.Sil,so,At,[class{},new $.FiY],[Hu,new $.FiY]]},Wi,{provide:We,useFactory:function(O){return O.routerState.root},deps:[Ai]},zn,Qt,$r,{provide:At,useValue:{enableTracing:!1}}];function ai(){return new $.PXZ("Router",Ai)}let Nr=(()=>{class O{constructor(I,W){}static forRoot(I,W){return{ngModule:O,providers:[ki,qi(I),{provide:Wt,useFactory:Kl,deps:[[Ai,new $.FiY,new $.tp0]]},{provide:At,useValue:W||{}},{provide:u.S$,useFactory:mu,deps:[u.lw,[new $.tBr(u.mr),new $.FiY],At]},{provide:Wr,useFactory:hs,deps:[Ai,u.EM,At]},{provide:or,useExisting:W&&W.preloadingStrategy?W.preloadingStrategy:Qt},{provide:$.PXZ,multi:!0,useFactory:ai},[Gi,{provide:$.ip1,multi:!0,useFactory:Bo,deps:[Gi]},{provide:wr,useFactory:Hs,deps:[Gi]},{provide:$.tb,multi:!0,useExisting:wr}]]}}static forChild(I){return{ngModule:O,providers:[qi(I)]}}}return O.\u0275fac=function(I){return new(I||O)($.LFG(Wt,8),$.LFG(Ai,8))},O.\u0275mod=$.oAB({type:O}),O.\u0275inj=$.cJS({}),O})();function hs(O,T,I){return I.scrollOffset&&T.setOffset(I.scrollOffset),new Wr(O,T,I)}function mu(O,T,I={}){return I.useHash?new u.Do(O,T):new u.b0(O,T)}function Kl(O){return"guarded"}function qi(O){return[{provide:$.deG,multi:!0,useValue:O},{provide:so,multi:!0,useValue:O}]}let Gi=(()=>{class O{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new De.xQ}appInitializer(){return this.injector.get(u.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let W=null;const Q=new Promise(nt=>W=nt),fe=this.injector.get(Ai),Ie=this.injector.get(At);return"disabled"===Ie.initialNavigation?(fe.setUpLocationChangeListener(),W(!0)):"enabled"===Ie.initialNavigation||"enabledBlocking"===Ie.initialNavigation?(fe.hooks.afterPreactivation=()=>this.initNavigation?(0,ie.of)(null):(this.initNavigation=!0,W(!0),this.resultOfPreactivationDone),fe.initialNavigation()):W(!0),Q})}bootstrapListener(I){const W=this.injector.get(At),Q=this.injector.get(zn),fe=this.injector.get(Wr),Ie=this.injector.get(Ai),nt=this.injector.get($.z2F);I===nt.components[0]&&(("enabledNonBlocking"===W.initialNavigation||void 0===W.initialNavigation)&&Ie.initialNavigation(),Q.setUpPreloading(),fe.init(),Ie.resetRootComponentType(nt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(I){return new(I||O)($.LFG($.zs3))},O.\u0275prov=$.Yz7({token:O,factory:O.\u0275fac}),O})();function Bo(O){return O.appInitializer.bind(O)}function Hs(O){return O.bootstrapListener.bind(O)}const wr=new $.OlP("Router Initializer")},6293:(Gt,at,H)=>{"use strict";H.d(at,{Z:()=>Xe});var u=H(4213),$=H(1177),q=H(1572),Me=H(3855);class ye{constructor(Re,we){this._delegate=Re,this.firebase=we,(0,q._addComponent)(Re,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Re,we=q._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(Re);return!qe.isInitialized()&&"EXPLICIT"===(null===(Be=qe.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:we})}_removeServiceInstance(Re,we=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(we)}_addComponent(Re){(0,q._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,q._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function me(){const Te=function(Te){const Re={},we={__esModule:!0,initializeApp:function(Ue,Tt={}){const Ve=q.initializeApp(Ue,Tt);if((0,u.r3)(Re,Ve.name))return Re[Ve.name];const je=new Te(Ve,we);return Re[Ve.name]=je,je},app:qe,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function(Ue){const Tt=Ue.name,Ve=Tt.replace("-compat","");if(q._registerComponent(Ue)&&"PUBLIC"===Ue.type){const je=(Le=qe())=>{if("function"!=typeof Le[Ve])throw he.create("invalid-app-argument",{appName:Tt});return Le[Ve]()};void 0!==Ue.serviceProps&&(0,u.ZB)(je,Ue.serviceProps),we[Ve]=je,Te.prototype[Ve]=function(...Le){return this._getService.bind(this,Tt).apply(this,Ue.multipleInstances?Le:[])}}return"PUBLIC"===Ue.type?we[Ve]:null},removeApp:function(Ue){delete Re[Ue]},useAsService:function(Ue,Tt){return"serverAuth"===Tt?null:Tt},modularAPIs:q}};function qe(Ue){if(!(0,u.r3)(Re,Ue=Ue||q._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Ue});return Re[Ue]}return we.default=we,Object.defineProperty(we,"apps",{get:function(){return Object.keys(Re).map(Ue=>Re[Ue])}}),qe.App=Te,we}(ye);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function(we){(0,u.ZB)(Te,we)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Te}(),re=new Me.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=te;(0,q.registerVersion)("@firebase/app-compat","0.1.18",undefined)},1572:(Gt,at,H)=>{"use strict";H.r(at),H.d(at,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>En,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>ct,_addOrOverwriteComponent:()=>yt,_apps:()=>rt,_clearComponents:()=>tn,_components:()=>ot,_getProvider:()=>pt,_registerComponent:()=>gt,_removeServiceInstance:()=>_t,deleteApp:()=>Ft,getApp:()=>Cn,getApps:()=>$n,initializeApp:()=>hr,onLog:()=>Ar,registerVersion:()=>an,setLogLevel:()=>Gn});var u=H(8239),$=H(1177),q=H(3855),Me=H(4213);class ye{constructor(gn){this.container=gn}getPlatformInfoString(){return this.container.getProviders().map(In=>{if(function(ln){const gn=ln.getComponent();return"VERSION"===(null==gn?void 0:gn.type)}(In)){const Fn=In.getImmediate();return`${Fn.library}/${Fn.version}`}return null}).filter(In=>In).join(" ")}}const he="@firebase/app",J="0.7.17",me=new q.Yd("@firebase/app"),bt="[DEFAULT]",ft={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,ot=new Map;function ct(ln,gn){try{ln.container.addComponent(gn)}catch(In){me.debug(`Component ${gn.name} failed to register with FirebaseApp ${ln.name}`,In)}}function yt(ln,gn){ln.container.addOrOverwriteComponent(gn)}function gt(ln){const gn=ln.name;if(ot.has(gn))return me.debug(`There were multiple attempts to register component ${gn}.`),!1;ot.set(gn,ln);for(const In of rt.values())ct(In,ln);return!0}function pt(ln,gn){return ln.container.getProvider(gn)}function _t(ln,gn,In=bt){pt(ln,gn).clearInstance(In)}function tn(){ot.clear()}const wn=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(gn,In,Fn){this._isDeleted=!1,this._options=Object.assign({},gn),this._config=Object.assign({},In),this._name=In.name,this._automaticDataCollectionEnabled=In.automaticDataCollectionEnabled,this._container=Fn,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gn){this.checkDestroyed(),this._automaticDataCollectionEnabled=gn}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gn){this._isDeleted=gn}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const En="9.6.7";function hr(ln,gn={}){"object"!=typeof gn&&(gn={name:gn});const In=Object.assign({name:bt,automaticDataCollectionEnabled:!1},gn),Fn=In.name;if("string"!=typeof Fn||!Fn)throw wn.create("bad-app-name",{appName:String(Fn)});const mr=rt.get(Fn);if(mr){if((0,Me.vZ)(ln,mr.options)&&(0,Me.vZ)(In,mr.config))return mr;throw wn.create("duplicate-app",{appName:Fn})}const Yn=new $.H0(Fn);for(const sn of ot.values())Yn.addComponent(sn);const cn=new un(ln,In,Yn);return rt.set(Fn,cn),cn}function Cn(ln=bt){const gn=rt.get(ln);if(!gn)throw wn.create("no-app",{appName:ln});return gn}function $n(){return Array.from(rt.values())}function Ft(ln){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(ln){const gn=ln.name;rt.has(gn)&&(rt.delete(gn),yield Promise.all(ln.container.getProviders().map(In=>In.delete())),ln.isDeleted=!0)})).apply(this,arguments)}function an(ln,gn,In){var Fn;let mr=null!==(Fn=ft[ln])&&void 0!==Fn?Fn:ln;In&&(mr+=`-${In}`);const Yn=mr.match(/\s|\//),cn=gn.match(/\s|\//);if(Yn||cn){const sn=[`Unable to register library "${mr}" with version "${gn}":`];return Yn&&sn.push(`library name "${mr}" contains illegal characters (whitespace or "/")`),Yn&&cn&&sn.push("and"),cn&&sn.push(`version name "${gn}" contains illegal characters (whitespace or "/")`),void me.warn(sn.join(" "))}gt(new $.wA(`${mr}-version`,()=>({library:mr,version:gn}),"VERSION"))}function Ar(ln,gn){if(null!==ln&&"function"!=typeof ln)throw wn.create("invalid-log-argument");(0,q.Am)(ln,gn)}function Gn(ln){(0,q.Ub)(ln)}gt(new $.wA("platform-logger",gn=>new ye(gn),"PRIVATE")),an(he,J,""),an(he,J,"esm2017"),an("fire-js","")},1177:(Gt,at,H)=>{"use strict";H.d(at,{wA:()=>q,H0:()=>J,zt:()=>ye});var u=H(8239),$=H(4213);class q{constructor(te,re,ce){this.name=te,this.instanceFactory=re,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Me="[DEFAULT]";class ye{constructor(te,re){this.name=te,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const re=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(re)){const ce=new $.BH;if(this.instancesDeferred.set(re,ce),this.isInitialized(re)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:re});ie&&ce.resolve(ie)}catch(ie){}}return this.instancesDeferred.get(re).promise}getImmediate(te){var re;const ce=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),ie=null!==(re=null==te?void 0:te.optional)&&void 0!==re&&re;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch($e){if(ie)return null;throw $e}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if("EAGER"===te.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Me})}catch(re){}for(const[re,ce]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(re);try{const $e=this.getOrInitializeService({instanceIdentifier:ie});ce.resolve($e)}catch($e){}}}}clearInstance(te=Me){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,u.Z)(function*(){const re=Array.from(te.instances.values());yield Promise.all([...re.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...re.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Me){return this.instances.has(te)}getOptions(te=Me){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:re={}}=te,ce=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:ce,options:re});for(const[$e,Xe]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier($e)&&Xe.resolve(ie);return ie}onInit(te,re){var ce;const ie=this.normalizeInstanceIdentifier(re),$e=null!==(ce=this.onInitCallbacks.get(ie))&&void 0!==ce?ce:new Set;$e.add(te),this.onInitCallbacks.set(ie,$e);const Xe=this.instances.get(ie);return Xe&&te(Xe,ie),()=>{$e.delete(te)}}invokeOnInitCallbacks(te,re){const ce=this.onInitCallbacks.get(re);if(ce)for(const ie of ce)try{ie(te,re)}catch($e){}}getOrInitializeService({instanceIdentifier:te,options:re={}}){let ce=this.instances.get(te);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(me=te,me===Me?void 0:me),options:re}),this.instances.set(te,ce),this.instancesOptions.set(te,re),this.invokeOnInitCallbacks(ce,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ce)}catch(ie){}var me;return ce||null}normalizeInstanceIdentifier(te=Me){return this.component?this.component.multipleInstances?te:Me:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const re=this.getProvider(te.name);if(re.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);re.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const re=new ye(te,this);return this.providers.set(te,re),re}getProviders(){return Array.from(this.providers.values())}}},3855:(Gt,at,H)=>{"use strict";H.d(at,{in:()=>$,Yd:()=>he,Ub:()=>J,Am:()=>me});const u=[];var $=(()=>{return(te=$||($={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",$;var te})();const q={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},Me=$.INFO,ye={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},de=(te,re,...ce)=>{if(re<te.logLevel)return;const ie=(new Date).toISOString(),$e=ye[re];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[$e](`[${ie}]  ${te.name}:`,...ce)};class he{constructor(re){this.name=re,this._logLevel=Me,this._logHandler=de,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in $))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?q[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...re),this._logHandler(this,$.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...re),this._logHandler(this,$.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,$.INFO,...re),this._logHandler(this,$.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,$.WARN,...re),this._logHandler(this,$.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...re),this._logHandler(this,$.ERROR,...re)}}function J(te){u.forEach(re=>{re.setLogLevel(te)})}function me(te,re){for(const ce of u){let ie=null;re&&re.level&&(ie=q[re.level]),ce.userLogHandler=null===te?null:($e,Xe,...Te)=>{const Re=Te.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Be){return null}}).filter(we=>we).join(" ");Xe>=(null!=ie?ie:$e.logLevel)&&te({level:$[Xe].toLowerCase(),message:Re,args:Te,type:$e.name})}}}},8239:(Gt,at,H)=>{"use strict";function u(q,Me,ye,de,he,J,me){try{var te=q[J](me),re=te.value}catch(ce){return void ye(ce)}te.done?Me(re):Promise.resolve(re).then(de,he)}function $(q){return function(){var Me=this,ye=arguments;return new Promise(function(de,he){var J=q.apply(Me,ye);function me(re){u(J,de,he,me,te,"next",re)}function te(re){u(J,de,he,me,te,"throw",re)}me(void 0)})}}H.d(at,{Z:()=>$})}},Gt=>{Gt(Gt.s=7857)}]);